;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.messages=({"DOC_CIB_HEADER_MSG_ERRATUMS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> erratums<\/a> matches your query"),"TERM_EMAIL_PREVIEW_TOOLTIP":p("Go back to the previous page"),"CIBO_VIEW_DOC_TOOLTIP":p("View documents (opens in new window)"),"DOCU_TITLE_OVERVIEW_TOOLTIP":p("View all of your Saved lists"),"SAVE_SEARCH_NAME_LABEL":p("Save search as"),"SEARCH_NAV_AFFIL_LOWERCASE":p("affiliation     "),"RESULTS_REFINE_MLT_TITLES_LABEL":p("Shares {1}selected words from the title{2} with: Refined to [{0}] gives:"),"DOC_CIB_HEADER_MSG_LETTERS_TOOLTIP":p("View letters (opens in new window)"),"CIBO_VIEW_AUTHOREVAL_TOOLTIP":p("Click the link to open a new window displaying additional charts and graphs for the selected author."),"CITEDBY_PAGE_BACK_TEXT":p("Back"),"DOC_CIB_HEADER_MSG_BOOK_CHAPTERS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> book chapters<\/a> matches your query"),"RESULTS_SOURCE_INFO_TOOLTIP":p("Go to the information page for this source"),"SEARCH_NAV_COUNTRY_NAME_LOWERCASE":p("country/territory         "),"AUTHOR_REFINE_CIB_COL_HEADING_DOCUMENT":p("# Documents"),"RESULTS_REFINE_MLT_ALL_AUT_LABEL":p("Share {1}authors{2} with: Refined to [{0}] gives:"),"DOCSORT_FIELD_CITEDBY_LOWEST":p("Cited by (lowest)"),"TERM_EMAIL_THANK":p("Thank You for using Scopus."),"RESULTS_QUERYBAR_REFINE_TXT_ALL":p("Refined to [{0}] gives:"),"DOC_CIB_HEADER_MSG_UNDEFINED":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> undefined<\/a> match your query"),"DOC_CIB_HEADER_MSG_SHORT_SURVEY":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> short survey<\/a> match your query"),"SAVE_SEARCH_POPUP_TITLE":p("Save this search"),"DOC_CIB_HEADER_MSG_BOOK":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> book<\/a> match your query"),"DOCSORT_FIELD_SOURCETITLE":p("Source Title (A-Z)"),"SINGLE_DOCUMENT_CITEDBY_SINGLE_DOCUMENT":p("document have cited:"),"RESULTS_QUERYBAR_REFINE_CITES":p("Refined to [{0}] gives:"),"NORES_YOUR_SEARCH":p("Your search was:"),"citedByZeroResults":{"no":{"document":{"available":p("Document not available"),"cited":p("No documents have cited")},"results":p("No results were found on the Web.")},"related":{"documents":p("There are related documents based on")},"alert":{"me":p("{0}Alert me {1} when this document is cited in Scopus")},"and":p("and"),"show":{"keywords":{"tooltip":p("Show all related documents based on shared keywords")},"authors":{"tooltip":p("Show all related documents based on shared authors")}},"cited":{"by":{"results":p("Cited by results")}}},"results_cib_multiple_doc_published_in":p("{0} documents published in {1} matches your query"),"CLOSE_SHOW_PREVIEW_MENU":p("Close show preview menu"),"RESULTS_CITED_BY_40":p("Share references with:"),"RESULTS_CITED_BY_41":p("[No Document Found]"),"TERM_EMAIL_BACK":p("&lt;&nbsp;Back"),"SAVE_SEARCH_SAVE_BUTTON_LABEL":p("Save"),"results_cib_multiple_article_matches":p("{0} articles matches your query"),"RESU_SHOWREL_TOOLTIP":p("Show all related documents based on shared references"),"SEARCH_CITATION":p("NOTE:  A citation tracker holds a maximum of {0} documents."),"CIBO_VIEW_AUTH_TOOLTIP":p("View authors (opens in new window)"),"DOC_CIB_HEADER_MSG_ERRATUMS_TOOLTIP":p("View erratums (opens in new window)"),"RESU_NOSOURC_AVAILABLE":p("[No source information available]"),"SEARCH_NAV_PUBYEAR_LOWERCASE":p("year"),"MYLIST_POPUP_CANCEL":p("Cancel"),"EMAIL_RECOM_1":p("Recommended Documents on Scopus"),"RESULTS_DOCUMENT_HIDDEN":p("Documents"),"SETALERT_LOGIN_COLLAPSE_LOGIN_OPT":p("Collapse options"),"CIBO_CITESCORE":p("CiteScore ({0}) : {1} "),"DOC_CIB_HEADER_MSG_CONFERENCE_PAPERS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> conference papers<\/a> matches your query"),"result":{"search":{"restore":{"confirm":p("Restoring to original settings will put the refine categories in default order. "),"success":p("Your Settings have successfully been saved to your Profile.")},"alert":{"button":p("Test Search"),"edit":p("Update Search",({"title":p("Update Search")}))},"sort":{"noofresults":p("# of results"),"alp":p("Alphabet"),"value":{"A":p("A"),"other":p("Other"),"B":p("B"),"C":p("C"),"D":p("D"),"E":p("E"),"F":p("F"),"G":p("G"),"H":p("H"),"I":p("I"),"J":p("J"),"K":p("K"),"L":p("L"),"M":p("M"),"N":p("N"),"O":p("O"),"P":p("P"),"Q":p("Q"),"R":p("R"),"S":p("S"),"T":p("T"),"U":p("U"),"V":p("V"),"W":p("W"),"X":p("X"),"Y":p("Y"),"Z":p("Z")},"undefined":p("Undefined")},"abstractretreiving":p("Retrieving"),"restore2":p("Do you want to proceed?"),"cid":{"in":p("in"),"by":p("by"),"match":p("match"),"published":p("published"),"matches":p("matches")}}},"RESULTS_REFINE_MLT_KEYS_LABEL":p("Shares {1}selected keywords{2} with: Refined to [{0}] gives:"),"RESULTS_CITED_BY_MLT_9":p("Shares {0}references{1} with:"),"DOC_CIB_HEADER_MSG_UNDEFINED_TOOLTIP":p("View undefined (opens in new window)"),"DOC_CIB_LIMIT_SINGLE_DOC":p("Limit your results to this<a class='cib_Limit' id='cibLimit' href='#'> document only<\/a> "),"PATENT_RESULTS_TABLE_NUM":p("Patent number"),"RESULTS_CITED_BY_MLT_7":p("Share {0}keywords{1} with:"),"RESULTS_CITED_BY_MLT_8":p("Share {0}selected keywords{1} with:"),"SETALERT_LOGIN_CLOSE_TOOLTIP":p("close"),"PATENT_SHOW_ALL_INFORMATION":p("Show all information"),"SEARCH_NAV_openaccess":p("Access type"),"MYLIST_POPUP_SAVELIST_BUT":p("Save My list in Scopus"),"DOC_CIB_HEADER_MSG_ERRATUM_TOOLTIP":p("View erratum (opens in new window)"),"SELECT_ALL_RESULTS_PAGE_CHECK_BOX":p("Select all results on the page"),"RESULTS_OPTIONS_COUNT_REFERENCE_LABEL":p("reference"),"DOC_CIB_HEADER_MSG_UNDEFINEDS_TOOLTIP":p("View undefined (opens in new window)"),"SEARCH_NAV_ACCESSTYPE_INFOLINK_TITLE":p("Learn more about Access Types"),"DOCU_VIEWIN_DOC_TOOLTIP":p("View document details (opens in new window)"),"SEARCH_NAV_DOCTYPE_LOWERCASE":p("document type "),"DOCU_TITLE_SAVE_TOOLTIP":p("Save entire list to Saved lists"),"DOC_CIB_HEADER_MSG_UNDEFINEDS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> undefined<\/a> matches your query"),"RESULTS_REFINE_UPTO_IS_CITED_X_TIME":p("Refined to [{0}] up to and including {1} is cited {2} time by:"),"AFW_NO_DOCUMENTS_MESSAGE":p("No documents were found."),"DOC_CIB_HEADER_MSG_PRESS_RELEASES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> press releases<\/a> matches your query"),"RESULTS_CITED_BY_MLT_1":p("Shares {0}authors{1} with:"),"DOC_CIB_HEADER_MSG_REPORTS_TOOLTIP":p("View reports (opens in new window)"),"RESULTS_CITED_MLT_NO_SEL_REF_LABEL":p("There are no document sharing selected references with:"),"RESULTS_CITED_BY_MLT_2":p("Shares {0}selected authors{1} with:"),"RESULTS_CITED_BY_MLT_5":p("Shares {0}keywords{1} with:"),"RESULTS_CITED_BY_MLT_6":p("Shares {0}selected keywords{1} with:"),"RESULTS_CITED_BY_MLT_3":p("Share {0}authors{1} with:"),"RESULTS_CITED_BY_MLT_4":p("Share {0}selected authors{1} with:"),"RESULTS_UPTO_IS_CITED_X_TIME":p("Up to and including {0} is cited {1} time by:"),"RESULTS_OPTIONS_VIEW_SEC_DOC_TOOLTIP":p("Select to display the secondary results - Secondary documents are not available in the Scopus database, but are records extracted from references in Scopus"),"RESULTS_IN_SCOPUS_ARE_CITED_X_TIMES":p("The {2} selected documents are cited {1} times in Scopus by:"),"DOC_MYLIST_RESULT_2":p("{0} results in this List "),"DOC_MYLIST_RESULT_1":p("{0} result in this List"),"TERM_EMAIL_REQ_FIELD":p("({0}*{1}= Required fields)"),"MYLIST_POPUP_EXPORT_STARTUP":p("Export your list to SciVal"),"SETALERT_LOGIN_CLOSE":p("close"),"DOC_CIB_HEADER_MSG_BUSINESS_ARTICLES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> business articles<\/a> matches your query"),"EMAIL_SCIWEB_2":p("Scirus Web Results:"),"CIBO_VIEW_OTHER_TOOLTIP":p("View {0} document (opens in new window)"),"RESULTS_QUERYBAR_SHOW_AUTH":p("Show author"),"CIBO_ERROR_OCCUR":p("Error occured"),"CIBO_SJR_TOOLTIP":p("SCImago Journal Rank reflects prestige of source: value of weighted citations per document"),"RESULTS_UPTO_ARE_CITED_X_TIMES":p("Up to and including {0} are cited {1} times by:"),"PATENT_RESULTS_TABLE__YEAR":p("Year"),"DOC_CIB_HEADER_MSG_LETTER_TOOLTIP":p("View letter (opens in new window)"),"RESULTS_CITED_MLT_NO_TITLE_LABEL":p("There are no document sharing words from the title with:"),"DOCSORT_FIELD_CITEDBY":p("Cited by"),"RESULTS_SRC_BROWSE_QUERY_VOL_AND_ISS":p("&nbsp;in Volume {0}, Issue {1} has:"),"DOC_CIB_HEADER_MSG_ARTICLES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> articles<\/a> matches your query"),"mylist":{"header":{"deletes":{"alt":p("Delete the selected documents")},"save":p("Save to Saved list",({"alt":p("Save the selected documents to your Saved lists")})),"delete":p("Delete")}},"results_cib_multiple_doc_published_contain":p("{0} documents published containing {1} matches your query"),"DOC_CIB_HEADER_MSG_CONFERENCE_REVIEW":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> conference review<\/a> match your query"),"RESULTS_QUERYBAR_CITE_LABEL_LOWER":p("cite:"),"CIBO_IPP_TOOLTIP":p("Impact per Publication (IPP) measures the ratio of citations per article published in the journal"),"SETALERT_LOGIN_MORE_LOGIN_OPT":p("More login options"),"ABST_THESYST_ABST":p("The system is currently unable to retrieve the abstract."),"RESULTS_CITED_BY_MLT_KEY":p("{0} documents share keywords with:"),"RESULTS_QUERYBAR_REFINE_TXT":p("Refined to [{0}] gives:"),"DOCUMENT_RESULTS_LIST_TABLE_HEADING_DOCUMENT_TITLE":p("Document title"),"PATENT_HIDE_ALL_INFORMATION":p("Hide all information"),"DOCUMENT_RESULTS_LIST_SUMMARY":p("Document Result List"),"JS_FEDER_MYLIST_TEMP_POPUP_HELP_TOOLTIP":p("Learn more about lists (Opens in a new window)"),"results_info_scope_reduction_searchjs":p("If you refine your search results, the documents you have selected will be cleared. Do you want to proceed?."),"RESULTS_OPTIONS_COUNT_DOC_LABEL":p("document result for:"),"RESULTS_QUERYBAR_AUTH_SRCH_LABEL":p("Search {0} in Scopus"),"DOC_CIB_HEADER_MSG_SHORT_SURVEYS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> short surveys<\/a> matches your query"),"DOC_CIB_HEADER_MSG_REVIEWS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> reviews<\/a> matches your query"),"DOCU_YOUCANA_RESTORE":p("You can {0}restore{1} your original list."),"DOC_CIB_HEADER_MSG_ARTICLE_IN_PRESS_TOOLTIP":p("View article in press (opens in new window)"),"EMAIL_RECOMMEN_2":p("Recommended Web Results on Scopus"),"RESULTS_QUERYBAR_MYLIST_DOCS":p("{0} results in this list"),"DOCSORT_FIELD_RELEVANCY_TITLE":p("Sort the document results on relevance."),"RESULTS_SRH_WTH_IN":p("Search within results..."),"results_cib_single_article_matches":p("{0} article match your query"),"RESULTS_REFINE_UPTO_IS_CITED_X_TIMES":p("Refined to [{0}] up to and including {1} is cited {2} times by:"),"DOCU_BACKTO_SAVED_LIST_TOOLTIP":p("Go back to your Saved lists"),"RESULTS_CITED_MLT_NO_REF_LABEL":p("There are no document sharing references with:"),"MULTIPL_DOCUMENTS_CITEDBY_SINGLE_DOCUMENT":p("Document result that cite selected {0} documents"),"DOC_CIB_HEADER_MSG_NOTE_TOOLTIP":p("View note (opens in new window)"),"RESULTS_CITED_BY_37":p("<span class=\"resultsCount\">{0}<\/span> documents that cite:"),"DOC_CIB_HEADER_MSG_PRESS_RELEASE_TOOLTIP":p("View press release (opens in new window)"),"EMAIL_SENTTO_5":p("Sent to you by: "),"RESULTS_CITED_BY_39":p("<span class=\"resultsCount\">{0}<\/span> document that cites:"),"RESULTS_CITED_BY_38":p("Shares references with:"),"RESULTS_MLT_KEYS_LABEL":p("Shares {0}selected keywords{1} with:"),"sourceBrowseMetrics":{"documents":p("Documents available for"),"articles":p("Articles in Press available for")},"CIBO_SOURCE_DETAIL_TOOLTIP":p("View {0}&#39s source details (opens in new window)"),"RECORD_SAVED_LIST_NAME_EXISTS":p("<p class=\"savedListErr\">List name already exists. Enter a new name, or use the selector below to add to an existing saved list.<\/p>"),"RESULTS_OPTIONS_COUNT_RESULT_LABEL":p("document result"),"alert":{"message":{"author":{"citation":{"newalert":p("Your Author citation  alert has been created. You can view your alerts on the <a href=\"/alert/form/MyAlerts.uri\">Alerts Page<\/a>.")}},"results":{"editalert":p("Click 'Update Search' to keep this search, click 'Back' to edit the search again.")}}},"RESULTS_QUERYBAR_SEL_AUTH":p("Select author"),"RESULTS_MY_LIST_QUERY_LABEL":p("This list contains:"),"RECORD_SAVELIST_ERROR_MESSAGES_BOTHSELECTED":p("<p class=\"savedListErr\">You have entered a new list name and selected to add documents to a current saved list. You cannot do both actions at once. Please choose one or the other and click Save.<\/p>"),"SEARCH_VIEWSENT_3":p("View search term analysis on Scopus sent on {0}"),"DOCSORT_FIELD_DATEOLD_TITLE":p("Sort the document results on date(Oldest first)."),"RESULTS_CITED_BY_EDIT_REF":p("Edit references"),"RESULTS_QUERYBAR_REFINE_CITE":p("Refined to [{0}] gives:"),"DOCUMENT_RESULTS_LIST_TABLE_HEADING_CITED_BY":p("Cited by"),"RESULTS_MY_LIST_DOC_REFINE_LABEL":p("{0} result found after Refinement:&nbsp;"),"savesearch":{"message":{"saved":p("Your search has been saved in <a href=\"/search/save/savedSearch.uri\" title=\"Select to open the Saved searches page\" class=\"secondaryLink\">Saved searches<\/a>")}},"RESULTS_CITED_BY_HIDDEN":p("Cited<br/>by"),"DOC_CIB_HEADER_MSG_REVIEWS_TOOLTIP":p("View reviews (opens in new window)"),"SAVE_SEARCH_VALIDATION_ERROR_MSG":p("The saved search name already exists. Please choose a unique name or select 'Save' to overwrite the existing Saved search."),"results_cib_showing_single_results":p("(Showing first {0} result)"),"RESU_ARTNO_TOOLTIP":p("Articles not published yet, but available online"),"RECORD_SAVE_TO_LIST_NO_NAME":p("<p class=\"savedListErr\">Enter a name for your list<\/p>"),"SEARCH_NAV_SUBJAREA":p("Subject area"),"SETALERT_LOGIN_COLLAPSE_LOGIN_OPT_TOOLTIP":p("Collapse options"),"MYLIST_POPUP_SCIVAL_INFO":p("This feature is only available for SciVal subscribers."),"SAVE_SEARCH_CANCEL_BUTTON_LABEL":p("Cancel"),"RESULTS_REFINE_MLT_ALL_KEYS_LABEL":p("Shares {1}keywords{2} with: Refined to [{0}] gives:"),"RECORD_NEW_LIST_TXT":p("<p class=\"savedListErr\">Enter name of new list<\/p>"),"referenceMetrics":{"reference":{"are":{"cited":{"by":p("Reference that are cited by",({"the":p("Reference that are cited by the {0} selected documents")}))}},"cited":{"by":p("reference cited by")}},"references":{"single":{"selected":{"document":p("selected document")}},"are":{"cited":{"by":p("References that are cited by",({"the":p("References that are cited by the {0} selected documents")}))}},"cited":{"by":p("references cited by")},"selected":{"document":p("selected documents")}},"refined":p("Refined with:&nbsp;")},"PATENT_HIDE_MORE_INFORMATION":p("Hide information"),"RESULTS_MLT_TITLES_LABEL":p("Shares {0}selected words from the title{1} with:"),"RESULTS_OPTIONS_COUNT_PATENT_LABEL":p("patent search result"),"DOC_CIB_HEADER_MSG_REPORT":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> report<\/a> match your query"),"results_cib_limit_multiple_doc":p("Limit your results to these {0} documents only"),"SEARCH_VIEW_2":p("View search term analysis on Scopus"),"CIBO_COMPARE_TOOLTIP":p("Compare this source with other sources"),"RESU_ARTICLE_PRESS":p("Article in Press"),"TERM_EMAIL_HTML":p("HTML only"),"MYLIST_POPUP_SCIVAL_HEADER":p("Save your list in Scopus"),"RESULTS_BOOK_CHAPTER_LABEL":p("Chapter"),"results_cib_single_article_matches_alt":p("View article (opens in new window)"),"RESULTS_QUERYBAR_SHAR_REF":p("Shares {0}references{1} with:"),"DOC_CIB_HEADER_MSG_BOOKS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> books<\/a> matches your query"),"DOC_CIB_HEADER_MSG_CONFERENCE_REVIEW_TOOLTIP":p("View conference review (opens in new window)"),"DOC_CIB_HEADER_MSG_REVIEW":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> review<\/a> match your query"),"RESULTS_QUERYBAR_CITE_LABEL":p("Cite:"),"MYLIST_POPUP_GOBACK_LIST":p("Go back to My list"),"PATENT_RESULTS_TABLE_SUMMARY":p("Result number"),"TERM_EMAIL_SEND_TOOLTIP":p("Send"),"RESULTS_CITED_MLT_AUT_LABEL":p("Shares authors with:"),"results_cib_single_doc_published_in":p("{0} document published in {1} match your query"),"RESULTS_OPTIONS_COUNT_RESULTS_LABEL":p("document results"),"DOC_CIB_HEADER_MSG_EDITORIAL":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> editorial<\/a> match your query"),"DOC_CIB_HEADER_MSG_LETTERS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> letters<\/a> matches your query"),"RESULTS_CITED_MLT_SEL_KEY_LABEL":p("Shares selected keywords with:"),"RESULTS_QUERYBAR_SHOW_KEY":p("Show keyword"),"RESULTS_CITED_MLT_NO_KEY_LABEL":p("There are no document sharing keywords with:"),"RESULTS_CITED_MLT_SEL_REF_LABEL":p("Shares selected references with:"),"RESULTS_CITED_BY_EDIT_KEY":p("Edit keywords"),"RESULTS_CITED_BY_MLT_AUT":p("{0} documents share authors with:"),"RESULTS_CITED_BY_SELECT_REF":p("Select references"),"SEARCH_DATE_5":p("Date range {0} to {1}"),"AFW_BACK_TO_SEARCH":p("Back to search"),"SCOPUSTOSCIVAL":p("Scopus to Scival"),"RESULTS_QUERYBAR_CITEDBY_REFINED_TO":p("Refined to:"),"LEFTSIDE_MYAPPLICATION":p("My Applications /"),"RESULTS_MLT_REF_LABEL":p("Share {0}selected references{1} with:"),"DOCU_VIEWIN_AUTHOR":p("[No author name available]"),"PATENT_INFORMATION_LINK_TITLE":p("View patent information (Opens in a new window)"),"DOCSORT_FIELD_OTHER_TITLE":p("Sort on one of the other available options."),"MYLIST_POPUP_RETURN_TOOLTIP":p("Return to Scopus My List"),"TERM_EMAIL_SEND":p("Send"),"DOCU_BACKTO_SAVED_LIST":p("Back to Saved lists"),"RESULTS_MLT_ALL_AUTS_LABEL":p("Shares {0}authors{1} with:"),"DOC_CIB_EXCLUDE_MULTIPLE_DOCS":p("<a class='cib_Exclude' id='cibExclude' href='#'>Exclude these {0} documents<\/a> from your results"),"RESULTS_REFINE_MLT_ALL_KEY_LABEL":p("Share {1}keywords{2} with: Refined to [{0}] gives:"),"MYLIST_POPUP_SAVELIST_MSG":p("Please save My list in Scopus."),"RESULTS_IN_SCOPUS_IS_CITED_X_TIME":p("Is cited {1} time in Scopus by:"),"DOC_CIB_HEADER_MSG_ERRATUM":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> erratum<\/a> match your query"),"DOC_CIB_HEADER_MSG_CONFERENCE_PAPER_TOOLTIP":p("View conference paper (opens in new window)"),"PATENT_BACK_TO_AFFILIATION_DETAILS_PAGE":p("Back to affiliation details"),"MYLIST_POPUP_CANCEL_TOOLTIP":p("Cancel and return to Scopus"),"listnotavailable":{"message":p("The Saved List you are trying to view is no longer available."),"message1":p("You can view all Saved Lists by clicking on My Scopus in the navigation bar.")},"RESULTS_OPTIONS_COUNT_DUMMY_DOCS_LABEL":p("secondary document results"),"SEARCH_NAV_AFFIL":p("Affiliation     "),"SEARCH_SUBJECT":p("Search Term Analyzer from Scopus"),"JS_FEDER_MYLIST_TEMP_POPUP_LOGIN":p("Login"),"RESULTS_CITED_MLT_SEL_TITLE_LABEL":p("Shares selected words from the title with:"),"EMAIL_BACK_TOOLTIP":p("Go back to the previous page"),"RESULTS_REFINE_MLT_AUT_LABEL":p("Share {1}selected authors{2} with: Refined to [{0}] gives:"),"AFFILIATION_PATENTRESULT_8":p("Patent Results"),"AFW_NO_RESULTS_MESSAGE":p("Please check your search terms and search again."),"SAVELIST_DELETE_TOOLTIP_DISABLE":p("Please Select one or more Saved List(s) below to Delete"),"RECORD_SAVED_LIST_SUCCESS":p("This document was added to {0}. <a href=\"{1}\"><span class=\"anchorText\">View or manage your saved lists<\/span>.<\/a>"),"DOC_CIB_HEADER_MSG_BOOKS_TOOLTIP":p("View books (opens in new window)"),"RESULTS_OPTIONS_VIZL_RESULTS":p("Analyze search results"),"DOC_CIB_HEADER_MSG_EDITORIALS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> editorials<\/a> matches your query"),"RESU_OPEN_ACCESS":p("Open Access"),"JS_BIGQUERY_ELIPSIS_VIEWLESS":p("View less"),"TERM_EMAIL_POLICY":p("Read Privacy Policy"),"RESULTS_REFINE_UPTO_ARE_CITED_X_TIMES":p("Refined to [{0}] up to and including {1} are cited {2} times by:"),"DOC_CIB_HEADER_MSG_EDITORIALS_TOOLTIP":p("View editorials (opens in new window)"),"fastgenericsearchnoresults":{"message":p("Currently we cannot handle this search because it generates too many results"),"message1":p("You can {0} edit your search {1} and try again."),"editsearch":{"title":p("Edit this search")}},"JS_FEDER_MYLIST_TEMP_POPUP_LOGIN_TOOLTIP":p("Login to Scopus"),"DOCU_SAVED_LIST":p("SAVED_LIST( <span class=\"querySrchTerm greyishBlackText\">{0}<\/span> )"),"DOC_CIB_HEADER_MSG_ABSTRACT_REPORTS_TOOLTIP":p("View abstract reports (opens in new window)"),"SEARCH_NAV_EXACTKEYWORD":p("Keyword         "),"RESULTS_REFINE_BEF_ARE_CITED_X_TIME":p("Refined to [{0}] before {1} are cited {2} time by:"),"SEARCH_DOCUMENT_6":p("Document results {0}"),"RESULTS_BEF_IS_CITED_X_TIMES":p("Is cited {1} times before {0} by:"),"MYLIST_POPUP_SAVE_LIST":p("Yes, save My list"),"EMAIL_THANK_YOU":p("Thank you for using Scopus."),"DOC_CIB_HEADER_MSG_ARTICLE_IN_PRESS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> article in press<\/a> match your query"),"RESULTS_QUERYBAR_SEL_AUTHS":p("Select authors"),"RESULTS_QUERYBAR_CITED_BY":p("Is cited by:"),"SEARCH_YOUR_4":p("Your query:"),"DOCUMENT_RESULTS_LIST_TABLE_HEADING_SOURCE":p("Source"),"DOC_CIB_HEADER_MSG_NOTES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> notes<\/a> matches your query"),"MYLIST_POPUP_EXPORT_TOOLTIP":p("Export your list to SciVal to create a publication set for benchmarking analysis."),"MULTIPLE_DOCUMENTS_CITEDBY_MULTIPLE_DOCUMENTS":p("Document results that cite selected {0} documents"),"SEARCH_NAV_PUBYEAR":p("Year"),"SEARCH_NAV_AUTHOR_NAME_AND_ID_LOWERCASE":p("author name "),"LEFTSIDE_REFINE":p("Refine results\t "),"RESULTS_MLT_KEY_LABEL":p("Share {0}selected keywords{1} with:"),"JS_FEDER_MYLIST_TEMP_POPUP_HELP":p("Learn more about lists"),"RESULTS_CITED_BY_SELECT_TITLE":p("Select words from the title"),"RESULTS_OPTIONS_VIEW_SCOPUS_DOC_TOOLTIP":p("Back to Scopus documents"),"EMAIL_EMAIL_JOUR_ANA":p("E-mail journal analyzer"),"RESULTS_QUERYBAR_CITES_LABEL_LOWER":p("cites:"),"RESULTS_QUERYBAR_CTO_DOC_SEL":p("{0} document selected"),"TERM_EMAIL_POLICY_TOOLTIP":p("Read Privacy Policy (Opens in a new window)"),"RESULTS_QUERYBAR_CTO_CITEDBY_2":p("Is cited {0} time by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_1":p("Is cited {0} times by:"),"citedby":{"no":{"preview":{"document":p("No documents were found that cite the selected document.")},"document":{"mlt":{"cite":{"rebranded":p("No documents have cited the {0} selected documents.")}},"cite":p("No documents were found that cite:",({"rebranded":p("No documents have cited:")}))}},"patent":{"cite":p("Document that shares references with:")},"keywords":p("Show keywords",({"tooltip":p("search for related documents based on keywords")})),"references":p("Show references",({"tooltip":p("search for related documents based on references")})),"documents":{"cite":p("Documents that cite:")},"document":{"cite":p("Document that cites:")},"patents":{"cite":p("Documents that share references with:")},"authors":p("Show authors",({"tooltip":p("search for related documents based on authors")}))},"CIBO_AFFILIATION":p("Affiliation: "),"RESULTS_QUERYBAR_CTO_CITEDBY_6":p("Cited {1} time in {0} by {2} document"),"RESULTS_QUERYBAR_CTO_CITEDBY_5":p("Cited {1} times in {0} by {2} document"),"RESULTS_QUERYBAR_CTO_CITEDBY_4":p("Are cited {0} time by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_3":p("Are cited {0} times by:"),"DOCSORT_FIELD_AUTHDES":p("First Author (Z-A)"),"RECORD_SAVED_LISTITEM_MAXIMUM_LIMIT":p("<p class=\"savedListErr\">The selected documents cannot be added to your saved list. A list can hold a maximum of {0} documents. Please make a smaller selection, delete documents from your saved list, or save the documents to a new list.<\/p>"),"DOC_CIB_HEADER_MSG_REPORT_TOOLTIP":p("View report (opens in new window)"),"SEARCH_NAV_LANGUAGE_LOWERCASE":p("language"),"RECORD_SAVED_LIST_MAXIMUM_LIMIT":p("<p class=\"savedListErr\">You have reached the maximum number of saved lists({0}). To save a new list you must delete an existing <a href=\"{1}\">Saved List.<\/a>"),"TERM_EMAIL_ADDRESS":p("E-mail address:"),"SAVE_SEARCH_READER_CLEAR_BUTTON_LABEL":p("Clear Field"),"DOCSORT_FIELD_DATENEWEST":p("Date (newest)"),"results_cib_exclude_multiple_doc":p("Exclude these {0} documents from your results"),"RECORD_SAVELIST_ERROR_MESSAGES_EMPTYSUBMIT":p("<p class=\"savedListErr\">Enter a name for your list, or use the selector below to add to an existing saved list.<\/p>"),"SEARCH_NAV_SCOPUSSRCTYPE":p("Source type     "),"RESULTS_MLT_ALL_AUT_LABEL":p("Share {0}authors{1} with:"),"authorcitation":{"search":{"scopus":p("Search {0} in Scopus")},"rss":{"feed":p("Create Author Citation RSS feed")},"save":{"as":{"alert":p("Set alert")}},"email":{"alert":p("E-mail alert for Author Citation")}},"MYLIST_POPUP_NOGOBACK_MSG":p("I do not need to save My list at this time."),"JS_BIGQUERY_ELIPSIS_VIEWALL":p("View all"),"PATENT_BACK_TO_DOCUMENT_RESULTS_PAGE":p("Back to document results"),"RESULTS_BACK_CTO_LABEL":p("Back to citation overview"),"RESULTS_REFINE_BEF_ARE_CITED_X_TIMES":p("Refined to [{0}] before {1} are cited {2} times by:"),"SEARCH_NAV_LANGUAGE":p("Language"),"RESULTS_QUERYBAR_CTO_CITEDBY_9":p("Is cited {2} times between {0}-{1} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_8":p("The {2} selected documents are cited {1} time in {0} by {3} document"),"RESU_SHOWAU_TOOLTIP":p("Show author details"),"RESULTS_QUERYBAR_CTO_CITEDBY_7":p("The {2} selected documents are cited {1} times in {0} by {3} document"),"PATENT_NUMBER_ON_HOVER_DISPLAY":p("Patent<br/>Number"),"RESULTS_OPTIONS_EXTERNAL_RESULTS":p("View external results"),"PATENT_RESULTS_TABLE_INVENTOR":p("Inventor(s)/applicant(s)"),"TERM_EMAIL_LINK":p("Your e-mail message containing a link to the search term analysis will be sent to {0}"),"DOCSORT_FIELD_CITEDBY_HIGHEST":p("Cited by (highest)"),"SEARH_NO_RESULTS":p("No search results were selected."),"citedBy":{"alert":{"me":p("Alert me when this document is cited in Scopus")}},"selectionpageoutofbounds":{"message":p("Your search found {0} records."),"message2":p("Change the sort order of your results to view more of your search results."),"message1":p("Only the first {0} records can be viewed.")},"SOURCEEVALHTML":p("If you have questions about this or other features of Scopus, please visit our <a href=\"http://www.info.scopus.com\">Info site<\/a>."),"RESULTS_QUERYBAR_SEL_REF":p("Select reference"),"RESULTS_OPTIONS_COUNT_CTO_MUL_SELECTED_LABEL":p("Citation overview results: {0} documents"),"EMAIL_THANK_USING":p("Thank you for using Scopus."),"EMAIL_SCOPUSA_13":p("Scopus. All rights reserved. Any unauthorized use, reproduction, or transfer of this message or its contents, in any medium, is strictly prohibited. Scopus ï¿½ is a registered trademark of Elsevier B.V."),"CIBO_SOURCE_DETAIL":p("View {0}&#39s source details"),"RESULTS_REFINE_MLT_REFS_LABEL":p("Shares {1}selected references{2} with: Refined to [{0}]  gives:"),"PATENT_RESULT_TEXT":p("patent result"),"results_cib_showing_multiple_results":p("(Showing first {0} results)"),"RESULTS_CITED_MLT_NO_SEL_AUT_LABEL":p("There are no document sharing selected authors with:"),"DOC_CIB_HEADER_MSG_REVIEW_TOOLTIP":p("View review (opens in new window)"),"SEARCH_NAV_ACCESSTYPE_POPUP_HEADER":p("Access types currently available in Scopus are:"),"PATENT_SHOW_MORE_INFORMATION":p("Show more information"),"LIMI_LIMISUB_TOOLTIP":p("Limit to selected items: Subscription required"),"DOC_CIB_HEADER_MSG_CONFERENCE_PAPERS_TOOLTIP":p("View conference papers (opens in new window)"),"DOCSORT_FIELD_AUTHDES_TITLE":p("Sort the document results on First Author."),"MODAL_POPUP_CLOSE":p("Close"),"RESULTS_REFINE_MLT_ALL_TITLES_LABEL":p("Shares {1}words from the title{2} with: Refined to [{0}] gives:"),"INWARD_SCOPUS_JOURNAL":p("Scopus Journal Analyzer"),"DOCSORT_FIELD_AUTHASC_TITLE":p("Sort the document results on First Author."),"MYLIST_POPUP_ERROR_MSG":p("<div id=\"errorMsgContainer\" role=\"alert\" class=\"alert alert-warning\" aria-live=\"assertive\"><span class=\"iconHolder\" aria-hidden=\"true\">i<\/span><span class=\"ariaHidden hidden-label\">Error message.<\/span><span>All documents in your list were published prior to 1996 and cannot be sent to SciVal.<\/span><p>Please conduct a new search and add documents to your list that were published after 1995 in order to benchmark in SciVal.<\/p><\/div>"),"filterPopup":{"button":{"apply":{"label":p("Apply")},"close":{"label":p("Close Window")}}},"DOC_CIB_HEADER_MSG_BUSINESS_ARTICLES_TOOLTIP":p("View business articles (opens in new window)"),"RESULTS_CITED_MLT_NO_SEL_KEY_LABEL":p("There are no document sharing selected keywords with:"),"results_cib_single_doc_published_contain":p("{0} document published containing {1} match your query"),"DOCSORT_FIELD_DATEOLD":p("Date (oldest)"),"JS_FEDER_MYLIST_TEMP_POPUP_REGISTER":p("Register"),"CIBO_CLOSEPREV_TOOLTIP":p("Close preview"),"CIBO_AFFILI_DETAIL":p("View {0}&#39s affiliation details"),"SEARCH_NAV_STATUSTYPE":p("Result type"),"results_cib_single_doc_published_by":p("{0} document published by {1} match your query"),"RESULTS_OPTIONS_COUNT_REFERENCES_LABEL":p("references"),"RESULTS_QUERYBAR_CTO_CITEDBY_test4":p("Refined to [{0}] after {1} are cited {2} time by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_test3":p("Refined to [{0}] after {1} are cited {2} times by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_test2":p("Refined to [{0}] after {1} is cited {2} time by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_test1":p("Refined to [{0}] after {1} is cited {2} times by:"),"DOC_CIB_HEADER_MSG_LETTER":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> letter<\/a> match your query"),"DOC_CIB_HEADER_MSG_BUSINESS_ARTICLE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> business article<\/a> match your query"),"MYLIST_POPUP_CONTINUE_TOOLTIP":p("Send list to SciVal"),"RESULTS_QUERYBAR_MYLIST_REFINE_TXT":p("Refinement to [{0}] gives:"),"RESULTS_CITED_MLT_NO_AUT_LABEL":p("There are no document sharing authors with:"),"RESU_DOCLINK_TOOLTIP":p("Show document details"),"results_cib_limit_single_doc":p("Limit your results to this document only"),"EMAIL_YOUR_JOURNAL":p("Your e-mail message containing the Journal Analyzer will be sent to <b>{0}<\/b>"),"RESULTS_CITED_MLT_NO_SEL_TITLE_LABEL":p("There are no document sharing selected words from the title with:"),"RESULTS_QUERYBAR_REFINE_SHARE_REF":p("Share references with: Refined to [{0}] gives:"),"RESULTS_SRC_BROWSE_QUERY_VOL":p("&nbsp;in Volume {0} has:"),"RESULTS_BEF_ARE_CITED_X_TIMES":p("The {2} selected documents are cited {1} times before {0} by:"),"EMAIL_WEHOPET_9":p("We hope that this information is useful to you."),"SAVE_SEARCH_INVALID_NAME_ERROR_MSG":p("Entered name contains invalid characters. Only ^ _ ; : ~ . , - and space are allowed as special characters."),"RESULTS_MLT_ALL_TITLES_LABEL":p("Shares {0}words from the title{1} with:"),"CIBO_IPP":p("IPP ({0}) : {1}"),"document":{"single":{"result":{"found":p("{0} result found")}},"multiple":{"results":{"found":p("{0} results found")}},"results":{"single":{"inward":{"search":{"query":p("{0} result found after Refinement: {1}")}}},"search":{"authors":p("Search {0} in Scopus")},"viewmdl":{"alt":p("View in MDL")},"heading":p("document results"),"display":{"per":{"page":p("<label>Display<\/label> {0} <label>results per page<\/label>")}},"multiple":{"inward":{"search":{"query":p("{0} results found after Refinement: {1}")}}},"header":{"page":p("Page: {0} of {1}")}}},"RESULTS_MLT_AUTS_LABEL":p("Shares {0}selected authors{1} with:"),"AFW_SEARCH_ERROR":p("Oops, sorry!"),"DOC_CIB_HEADER_MSG_CONFERENCE_REVIEWS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> conference reviews<\/a> matches your query"),"SEARCH_NAV_AUCITE_LOWERCASE":p("author name"),"RESULTS_QUERYBAR_ISCITEDBY_LABEL":p("Is cited by:"),"RESULTS_UPTO_ARE_CITED_X_TIME":p("Up to and including {0} are cited {1} time by:"),"RESULTS_REFINE_MLT_ALL_REFS_LABEL":p("Shares {1}references{2} with: Refined to [{0}] gives:"),"PREVIEWCOUNTTEXT":p("You are in Preview mode, only the first 20 results are visible."),"DOC_CIB_HEADER_MSG_PRESS_RELEASES_TOOLTIP":p("View press releases (opens in new window)"),"RESU_NOTITLE_AVAIL":p("[No title available]"),"inwardScopusResultsMetrics":{"result":{"found":p("{0} result found")},"view":{"in":{"mdl":p("View in MDL")}},"results":{"found":p("{0} results found")}},"SEARCH_NAV_FILTER_BY":p("Filter by"),"JS_FEDER_MYLIST_TEMP_POPUP_CLOSE":p("Close"),"noresults":{"no":{"secondary":{"results":p("However we think we found your document in the secondary documents! {0}<span class=\"anchorText\">Click here<\/span>{1} to see the secondary results.")},"references":p("There are no References that are cited by"),"references_1":p("There are no References that are cited by the {0} selected documents"),"document":{"cite":p("There are no Documents that cite the {0} selected documents")}},"were":{"found":p("{0} {1} results {2} were found in reference lists.")},"additional":{"results":p("Additional results")},"was":{"found":p("{0} {1} result {2} was found in reference lists.")}},"RESULTS_SAVED_LIST_LABEL":p("Saved list - {0}"),"AFW_WARNING_MESSAGE":p("Only the first 50 results are displayed. If you do not see the the document you are searching for, please refine your search terms"),"DOCUMENT_RESULTS_LIST_TABLE_HEADING_AUTHORS":p("Authors"),"CIBO_VIEW_AUTHOREVAL":p("View in Analyze author output "),"RESULTS_QUERYBAR_CTO_DOCS_SEL":p("{0} documents selected"),"RESULTS_OPTIONS_COUNT_CTO_LABEL":p("Citation overview results"),"ABST_PLEASET_LATER":p("Please try again later."),"DOC_CIBO_HEADER":p("(Showing first {0} results)"),"RESULTS_REFINE_MLT_ALL_REF_LABEL":p("Share {1}references{2} with: Refined to [{0}]  gives:"),"results_cib_exclude_single_article":p("Exclude this article from your results"),"AFW_CONFIRM_AUTHOR":p("Confirm Author"),"fastspecialcharwildcardseqsearchnoresults":{"message":p("Your search contains syntax which is not supported."),"message2":p("Please {0} edit your search {1} and resubmit it."),"message1":p("It is currently not possible to search for a special character followed by a wildcard. Please edit your search and resubmit it.")},"RESULTS_REFINE_MLT_ALL_AUTS_LABEL":p("Shares {1}authors{2} with: Refined to [{0}] gives:"),"CIBO_SAUTHOR_DETAIL_TOOLTIP":p("View {0}&#39s author details (opens in new window)"),"SOURCE_SRCH_RES_QRYBR_TXT":p("Source:"),"OK_MESSAGE":p("Ok"),"EMAIL_RECOMMEND_3":p("Recommended Patent Results on Scopus"),"RESULTS_LIST_TOOL_BAR_ARIA_LABEL":p("Results List Tool Bar"),"results_cib_exclude_multiple_article":p("Exclude these {0} articles from your results"),"PATENT_RESULTS_TEXT":p("patent results"),"RESULTS_REFINE_MLT_ALL_TITLE_LABEL":p("Share {1}words from the title{2} with:Refined to [{0}] gives:"),"MYLIST_POPUP_NOGOBACK_LIST":p("No, go back to My list"),"SRCH_RES_SEC_RES":p("Results from references for your query:"),"DOC_CIB_HEADER_MSG_ABSTRACT_REPORTS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> abstract reports<\/a> matches your query"),"RESULTS_QUERYBAR_REFINE_ARE_CITEDBY":p("Refined to [{0}] gives:"),"RESULTS_CITED_MLT_SEL_AUT_LABEL":p("Shares selected authors with:"),"RESULTS_REFINE_MLT_TITLE_LABEL":p("Share {1}selected words from the title{2} with: Refined to [{0}] gives:"),"DOC_CIB_HEADER_MSG_BUSINESS_ARTICLE_TOOLTIP":p("View business article (opens in new window)"),"RESULTS_CITED_MLT_KEY_LABELE":p("Shares keywords with:"),"RESULTS_OPTIONS_VIEW_SEC_DOC":p("View secondary documents"),"DOCU_VIEWIN_NO_DOC":p("[No title available]"),"RESULTS_OPTIONS_COUNT_DUMMY_DOC_LABEL":p("secondary document result"),"results":{"search":{"noresultsfound_edit":p("You can go back to edit your search or click on {0} My List {1} to restore the list"),"refineresult":{"footer":{"savesetting":p("Save settings"),"restoresetting":p("Restore original settings"),"export":p("Export refine"),"exportcsv":{"alt":p("Export all of the refine values to a CSV file")}},"refineresult":p("Refine"),"limit":p("Limit to",({"alt":p("Limit to selected items")})),"back":p("Back"),"exclude":p("Exclude",({"alt":p("Exclude selected items")}))},"within":p("Search within results",({"search":p("Search"),"box":p("Search within results textbox")})),"navigator":{"showPreview":p("Show preview"),"filter":p("Filter:"),"norefine":p("No Refine categories have been selected."),"analyseSource":p("Analyze search results",({"alt":p("View charts and graphs related to this results list and selected sources")})),"viewmore":p("View more"),"go":{"alt":p("Sort on {0}")},"viewfewer":p("View less"),"sort":p("Sort on:"),"close":{"alt":p("Click to close")},"open":{"alt":p("Click to open")},"viewall":p("View all")},"noresultsfound":p("No documents were found."),"leftsidebar":{"hide":{"alt":p("Click to hide")},"show":{"alt":p("Select to display Refine results options")},"hidesub":{"alt":p("Click to hide: Subscription required")}}},"jumptopage":{"error":{"invalidpagenumber":p("Only numbers are allowed in Page."),"invalidpagenumber1":p("Please type in the number of the page you would like to jump to and press <b>Go.<\/b> ")}},"deleteconfirm":{"no":{"selectionjs":p("Are you sure you want to delete the selected document?")}},"deletesconfirm":{"no":{"selectionjs":p("Are you sure you want to delete the selected documents?")}},"toomany":{"docs":{"selected":p("Too many documents were selected.")}},"error":{"maxexport":{"exc":p("<p>NOTE: You have selected {0} documents. You can export citation information (in CSV format) for up to 20,000 documents.<\/p><p><b>To export the first 20,000 documents<\/b>, click OK.<\/p>")},"max":{"aut":{"too":{"large":p("The number of documents by this author is too large.")}},"download":{"exc":p("You can download a maximum of {0} documents.")},"print":{"exc":p("Only the first {0} documents have been selected for printing.",({"toomany":p("You have selected too many documents to print.")}))},"pdf":{"exc":p("Only the first {0} documents have been selected for saving.")},"citedby":{"exc":p("Citing documents are only displayed for the first {0} documents.")},"refs":{"exc":p("References are only displayed for the first {0} documents.",({"aut":p("Only the first {0} documents were used to create the reference list."),"gaut":p("Only the first {0} documents were used to create the reference list.",({"large":p("The number of documents by these authors is too large.")}))}))},"list":{"exc":p("A list can hold a maximum of {0} documents.")},"export":{"exc":{"toomany":p("You have selected too many documents to export.")}},"email":{"exc":p("Only the first {0} documents will be selected for e-mailing.",({"toomany":p("You have selected too many documents to e-mail.")}))}},"too":{"many":{"docs":{"selected":p("Too many documents were selected.")}}},"repeat":{"limitto":{"cluster":{"selection":p("You tried to limit your results by {0} for a second time.")}}}},"message":{"no":{"abstract":{"available":p("No abstract available")}}},"cib":{"no":{"affiliation":p("[No affiliation available]")}}},"RESULTS_SRC_BROWSE_QUERY_YR":p("&nbsp;in publication year {0}"),"RESULTS_OPTIONS_COUNT_DOCS_LABEL":p("documents results for:"),"RESULTS_OPTIONS_COUNT_CTO_MUL_SELECTED_ONE_LABEL":p("Citation overview results: {0} document"),"SINGLE_DOCUMENT_CITEDBY_MULTIPLE_DOCUMENTS":p("documents have cited:"),"DOCUMENT_RESULTS_LIST_TABLE_HEADING_YEAR":p("Year"),"EMAIL_PATENT_3":p("Patent Results:"),"RESULTS_IN_SCOPUS_ARE_CITED_X_TIME":p("The {2} selected documents are cited {1} time in Scopus by:"),"RESULTS_MLT_REFS_LABEL":p("Shares {0}selected references{1} with:"),"DOC_CIB_HEADER_MSG_EDITORIAL_TOOLTIP":p("View editorial (opens in new window)"),"CIBO_AFFILI_DETAIL_TOOLTIP":p("View {0}&#39s affiliation details (opens in new window)"),"RESU_SECD_ICON_ALT":p("Secondary document"),"CIBO_NORESUL_FOUND":p("No results found"),"SEARCH_CITATION_TRACTER":p("Select OK to proceed to the citation tracker for the first {0} documents or Cancel if you do not want to continue."),"RESULTS_QUERYBAR_CTO_CITEDBY_15":p("The {2} selected documents are cited {1} times after {0} by:"),"preview":{"analyze":{"search":{"results":{"tooltip":p("Analyze search results: Subscription required")}}},"results":{"subscription":{"required":p(":&nbsp;Subscription required")}}},"RESULTS_QUERYBAR_CTO_CITEDBY_14":p("Is cited {1} time after {0} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_13":p("Is cited {1} times after {0} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_12":p("The {3} selected documents are cited {2} time between {0}-{1} by:"),"DOC_CIB_HEADER_MSG_BOOK_CHAPTER_TOOLTIP":p("View book chapter (opens in new window)"),"RESULTS_BEF_IS_CITED_X_TIME":p("Is cited {1} time before {0} by:"),"DOCUMENT_RESULTS_LIST_TABLE_HEADING_RESULT_NUMBER":p("Result Number"),"RESULTS_QUERYBAR_CTO_CITEDBY_16":p("The {2} selected documents are cited {1} time after {0} by:"),"DOC_CIB_HEADER_MSG_ARTICLE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> article<\/a> match your query"),"EMAIL_DOCUMENT":p("E-mail document"),"RESULTS_QUERYBAR_CTO_CITEDBY_11":p("The {3} selected documents are cited {2} times between {0}-{1} by:"),"DOC_CIB_HEADER_MSG_ARTICLE_IN_PRESSS_TOOLTIP":p("View article in presss (opens in new window)"),"RESULTS_QUERYBAR_CTO_CITEDBY_10":p("Is cited {2} time between {0}-{1} by:"),"PATENT_INFORMATION_LINK_LEXISNEXIS_TITLE":p("View patent information on LexisNexis (Opens new window)"),"EMAIL_BODY_TEXT":p("Body Text:"),"RESULTS_CITED_BY_EDIT_AUT":p("Edit authors"),"RESULTS_REFINE_MLT_AUTS_LABEL":p("Shares {1}selected authors{2} with: Refined to [{0}] gives:"),"multipleCitedbyMetrics":{"reSelect":{"documents":p("Re-select documents")},"documents":{"cite":p("Documents that cite the {0} selected document"),"cite1":p("Documents that cite the {0} selected documents")},"document":{"cite":p("Document that cite the {0} selected document"),"cite1":p("Document that cite the {0} selected documents")}},"DOC_CIB_HEADER_MSG_ABSTRACT_REPORT_TOOLTIP":p("View abstract report (opens in new window)"),"MYLIST_POPUP_CLOSE_TOOLTIP":p("Close this window and return to My List"),"results_cib_exclude_single_doc":p("Exclude this document from your results"),"ctoCitedByWhenMetrics":{"author":{"link":{"tooltip":p("Search for all articles by this author")}},"title":p("Citation Overview results")},"MYLIST_POPUP_GOBACK_MSG":p("You can go back to your list and refine before sending to SciVal as a Publication Set, or if you are not a SciVal subscriber, you can continue your work in Scopus."),"DOCU_SAVE_LIST_TOOLTIP":p("Save complete list to 'Saved Lists' under 'Settings'"),"CIBO_SNIP":p("SNIP ({0}) : {1} "),"RESU_NOINFO_AVAILABLE":p("No information available"),"DOC_CIB_HEADER_MSG_BOOK_CHAPTER":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> book chapter<\/a> match your query"),"JS_FEDER_MYLIST_TEMP_POPUP_REGISTER_TOOLTIP":p("Register a username and password for using alerts and other personal features"),"RESULTS_CITED_BY_MLT_REF":p("{0} documents share references with:"),"RESU_PAGE_RANGE":p("pp."),"RESULTS_REFINE_UPTO_ARE_CITED_X_TIME":p("Refined to [{0}] up to and including {1} are cited {2} time by:"),"EMAIL_BACK":p("Back"),"DOC_CIB_HEADER_MSG_CONFERENCE_REVIEWS_TOOLTIP":p("View conference reviews (opens in new window)"),"PATENT_RESULTS_TABLE_OFFICE":p("Patent office"),"MYLIST_POPUP_CONFIRM_MSG":p("Would you like to save your list in Scopus to retain all pre-1996 data and <\/br> other listed benefits?  You must be logged into Scopus to continue."),"EMAIL_RECOMMENDED_4":p("Recommended Documents, Web Results and Patent Results on Scopus"),"RESULTS_QUERYBAR_SHOW_REF":p("Show reference"),"DOC_CIB_HEADER_MSG_6":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> document<\/a> published containing {2} match your query"),"AUTHOR_REFINE_CIB_COL_HEADING_AUTHOR":p("Author name"),"QUERYBAR_AUTHREF":p("Cites:"),"RESULTS_UPTO_IS_CITED_X_TIMES":p("Up to and including {0} is cited {1} times by:"),"RESULTS_MLT_ALL_KEY_LABEL":p("Share {0}keywords{1} with:"),"DOC_CIB_HEADER_MSG_ARTICLE_TOOLTIP":p("View article (opens in new window)"),"DOC_CIB_HEADER_MSG_NOTES_TOOLTIP":p("View notes (opens in new window)"),"RESULTS_QUERYBAR_MYLIST_DOC":p("{0} result in this list"),"AFW_SEARCH_ERROR_MESSAGE":p("Something went wrong. Try {0}reloading{1} this page, if the problem persists contact {2}customer service{3}."),"RESULTS_CITED_BY_MLT_18":p("{0} document that cites"),"DOC_CIB_HEADER_MSG_BOOK_CHAPTERS_TOOLTIP":p("View book chapters (opens in new window)"),"RESULTS_CITED_BY_MLT_19":p("Shares references with:"),"AUTHOR_REFINE_CIB_COL_HEADING_AFFIL":p("Affiliation"),"RESULTS_CITED_BY_MLT_16":p("Share {0}selected words from the title{1} with:"),"RESULTS_CITED_BY_MLT_17":p("{0} documents that cite"),"RESULTS_CITED_BY_MLT_14":p("Shares {0}selected words from the title{1} with:"),"EMAIL_IFURL_4":p("NOTE: If the URLs in this e-mail are not active hyperlinks, copy and paste the url into the address/location box in your browser."),"RESULTS_CITED_BY_MLT_15":p("Share {0}words from the title{1} with:"),"JS_FEDER_MYLIST_TEMP_POPUP_MSG":p("When logged in, registered Scopus users can save up to 50 lists for future use."),"RESULTS_CITED_BY_MLT_12":p("Share {0}selected references{1} with:"),"results_cib_limit_single_article":p("Limit your results to this article only"),"RESULTS_QUERYBAR_SHOW_REFS":p("Show references"),"RESULTS_CITED_BY_MLT_13":p("Shares {0}words from the title{1} with:"),"SEARCH_NAV_DOCTYPE":p("Document type "),"SEARCH_NAV_EXACTSRCTITLE_LOWERCASE":p("source title    "),"RESULTS_CITED_BY_MLT_10":p("Shares {0}selected references{1} with:"),"DOC_CIB_HEADER_MSG_1":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> document<\/a> published in {2} match your query"),"RESULTS_CITED_BY_MLT_11":p("Share {0}references{1} with:"),"EMAIL_EMAIL_JOURNAL":p("E-mail Journal Analyzer"),"RESULTS_QUERYBAR_DOC_REF_SELECTED":p("The {0} selected document cite:"),"DOC_CIB_HEADER_MSG_4":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> document<\/a> published by {2} match your query"),"results_cib_multiple_doc_published_by":p("{0} documents published by {1} matches your query"),"DOC_CIB_HEADER_MSG_5":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> documents<\/a> published containing {2} matches your query"),"DOC_CIB_HEADER_MSG_2":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> documents<\/a> published in {2} matches your query"),"SOURCE_JOURNALANAL_2":p("View Journal Analyzer on Scopus"),"RESULTS_CITED_BY_EDIT_TITLE":p("Edit words from the title"),"DOC_CIB_HEADER_MSG_3":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> documents<\/a> published by {2} matches your query"),"RESU_SRCLINK_TOOLTIP":p("Show source title details"),"RESULTS_QUERYBAR_SHAR_AUT":p("Shares authors with:"),"RESULTS_QUERYBAR_DOCS_SELECTED":p("The {0} selected documents are cited by:"),"DOC_CIB_HEADER_MSG_PRESS_RELEASE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> press release<\/a> match your query"),"DOC_CIB_HEADER_MSG_BOOK_TOOLTIP":p("View book (opens in new window)"),"RESU_NOABSTR_AVAILABLE":p("[No abstract available]"),"DOCSORT_FIELD_SOURCETITLE_DES":p("Source Title (Z-A)"),"SHARED_WEBRES_40":p("Web Results"),"EMAIL_SCODO_1":p("Scopus Documents:"),"RESULTS_MLT_AUT_LABEL":p("Share {0}selected authors{1} with:"),"RESULTS_QUERYBAR_SEL_KEYS":p("Select keywords"),"RESU_AUTHOR_NOT_AVA":p("[No author name available]"),"MYLIST_POPUP_CONTINUE_MSG":p("Scopus will only send article information published after 1995 for SciVal benchmarking and analysis."),"MYLIST_POPUP_EXPORT_MSG":p("Export a Scopus list as a Publication Set to SciVal and use benchmarking tools for further evaluation."),"RESULTS_CITED_BY_MLT_27":p("documents sharing selected keywords with:"),"RESULTS_CITED_BY_MLT_28":p("documents sharing selected authors with:"),"RESULTS_CITED_BY_MLT_25":p("documents sharing selected words from the title with:"),"RESULTS_CITED_BY_MLT_26":p("documents sharing selected references with:"),"RESULTS_QUERYBAR_SHOW_KEYS":p("Show keywords"),"DOC_CIB_HEADER_MSG_NOTE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> note<\/a> match your query "),"RESULTS_CITED_BY_MLT_23":p("There are no document sharing keywords with:"),"RESULTS_CITED_BY_MLT_24":p("There are no document sharing authors with:"),"RESULTS_CITED_BY_MLT_21":p("There are no document sharing words from the title with:"),"RESULTS_CITED_MLT_REF_LABEL":p("Shares references with:"),"RESULTS_CITED_BY_MLT_22":p("There are no document sharing references with:"),"RESULTS_MLT_ALL_TITLE_LABEL":p("Share {0}words from the title{1} with:"),"RESULTS_CITED_BY_MLT_20":p("Share references with:"),"RESULTS_OPTIONS_VIEW_SCOPUS_DOC":p("View Scopus documents"),"EMAIL_PLEASE_COMPLETE":p("Please complete the form below and click <b>Send<\/b>."),"RESULTS_QUERYBAR_SHAR_KEY":p("Shares keywords with:"),"AFW_NO_RESULTS":p("Results not found"),"CIBO_SNIP_TOOLTIP":p("Source normalized impact per paper: corrects for differences in the frequency of citation across research fields"),"TERM_EMAIL_CURRENT":p("E-mail the current search term analysis"),"MYLIST_POPUP_CONTINUE_SCIVAL":p("Continue to SciVal"),"TERM_EMAIL_ANALYSIS":p("Search term analysis for {0}"),"SEARCH_NAV_ACCESSTYPE_POPUP_CONTENT_2":p("<strong>Other:<\/strong> Any other type of access, including: Subscription, Green OA, Promotional OA"),"SEARCH_NAV_ACCESSTYPE_POPUP_CONTENT_1":p("<strong>Open Access:<\/strong> Articles published in \"Gold\" OA, including full OA journals, Hybrids and Open Archive"),"RESULTS_CITED_MLT_TITLE_LABEL":p("Shares words from the title with:"),"DOC_CIB_HEADER_MSG_ARTICLE_IN_PRESSS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> article in presss<\/a> matches your query"),"DOC_CIB_LIMIT_MULTIPLE_DOCS":p("Limit your results to these<a class='cib_Limit' id='cibLimit' href='#'> {0} documents only<\/a>"),"RESULTS_BOOK_LABEL":p("Book"),"DOCSORT_FIELD_SOURCETITLE_TITLE":p("Sort the document results on Source Title."),"EMAIL_SEAPOWER_3":p("search powered by Scirus"),"SEARCH_THESEARCH_7":p("The search term analysis will be available until {0}"),"RESULTS_QUERYBAR_DOC_SELECTED":p("The {0} selected document is cited by:"),"DOCSORT_FIELD_RELEVANCY":p("Relevance"),"DOC_CIB_HEADER_MSG_REPORTS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> reports<\/a> matches your query"),"RESULTS_QUERYBAR_SEL_REFS":p("Select references"),"RESULTS_IN_SCOPUS_IS_CITED_X_TIMES":p("Is cited {1} times in Scopus by:"),"EMAIL_ITHOU_JOURNAL":p("I thought you would find this Journal Analyzer useful"),"CIBO_SAUTHOR_DETAIL":p("View {0}&#39s author details"),"CIBO_VIEW_AFF_TOOLTIP":p("View affiliations (opens in new window)"),"DOCU_MYLIST_HEADER":p("Temporary list for {0}"),"RESULTS_MLT_ALL_REF_LABEL":p("Share {0}references{1} with:"),"RESULTS_CITED_BY_MLT_49":p("There are no document sharing selected references with:"),"CIBO_SJR":p("SJR ({0}) : {1} "),"RESULTS_CITED_BY_MLT_47":p("There are no document sharing selected words from the title with:"),"SEARCH_NAV_EXACTKEYWORD_LOWERCASE":p("keyword         "),"PRINT_SEARCH_1":p("search powered by "),"RESULTS_CITED_BY_MLT_48":p("Shares references with:"),"RESULTS_CITED_BY_MLT_45":p("There are no document sharing selected keywords with:"),"listerror":{"zero":{"results":p("You have 0 documents in your temporary list.")},"no":{"document":{"message4":p("<ul class=\"myListDesc\"><li>This page shows the <b>temporary list of documents<\/b> you can create during a Scopus session.<\/li><li>You can work with this list the same way you work with any search results list - output the list, track citations, refine the list, and so on.<\/li><\/ul>"),"message3":p("To completely delete this list, select this list in  the {0}overview{1} and click Delete."),"message6":p("You must be logged in to save documents from your list or to work with your account {0}Saved lists{1}.<\/br>If you have previously saved lists for your account, you can access them after logging in from the main Lists menu or via My Scopus and clicking {0}Saved lists{1}."),"message5":p("To save documents to a saved list:"),"message":p("To add documents to your temporary list:"),"message2":p("What is temporary list?"),"message1":p("<ul class=\"addDocStepsList\"><li>Perform a search<\/li><li> From your results list, select the documents you want in your temporary list<\/li> <li>From the menu on your search results list, select Add to list<\/li><\/ul>")}},"view":{"saved":{"list":p("View saved lists or login")}},"saved":{"list":p("Saved list")}},"RESULTS_CITED_BY_MLT_46":p("documents sharing words from the title with:"),"DOCSORT_FIELD_DATENEW_TITLE":p("Sort the document results on date. "),"RESULTS_CITED_BY_MLT_43":p("There are no document sharing selected authors with:"),"RESULTS_CITED_BY_MLT_44":p("Shares keywords with:"),"RESULTS_CITED_BY_MLT_42":p("Shares authors with:"),"CIBO_COMPARE":p("Compare with other sources"),"DOC_CIB_EXCLUDE_SINGLE_DOC":p("<a class='cib_Exclude' id='cibExclude' href='#'>Exclude this document<\/a> from your results"),"SHARED_MAILSENT_33":p("This email has been sent to you by Scopus ï¿½ , a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911."),"RESU_SHOW_ABSTRACT":p("View abstract"),"results_cib_multiple_article_matches_alt":p("View articles (opens in new window)"),"DOCSORT_FIELD_DATENEW":p("Date "),"RESULTS_QUERYBAR_SHOW_AUTHS":p("Show authors"),"SEARCH_NAV_SUBJAREA_LOWERCASE":p("subject area"),"SEARCH_NAV_AUTHOR_NAME_AND_ID":p("Author name "),"DOCSORT_FIELD_CITEDBY_TITLE":p("Sort the document results on Cited by count."),"RESULTS_SRC_BROWSE_QUERY_BEF":p("&nbsp;in {0} and before has:"),"RESULTS_SOURCE_TXT":p("Source"),"RESU_RELATED_DOC":p("Related documents"),"RESULTS_OPTIONS_COUNT_PATENTS_LABEL":p("patent search results"),"DOC_CIB_HEADER_MSG_SHORT_SURVEYS_TOOLTIP":p("View short surveys (opens in new window)"),"CIBO_HELP_TOOLTIP":p("Learn more about CiteScore, SCImago Journal Rank, and Source Normalized Impact per Paper. (Opens in a new window)"),"DOC_CIB_HEADER_MSG_DYNAMIC_VALUES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> {2}<\/a> documents matches your query"),"RESULTS_CITED_BY_SELECT_AUT":p("Select authors"),"RESULTS_QUERYBAR_ALT_SPELL":p("Show results for:&nbsp;"),"RESULTS_MLT_TITLE_LABEL":p("Share {0}selected words from the title{1} with:"),"SEARCH_NAV_STATUSTYPE_LOWERCASE":p("result type"),"DOC_CIB_HEADER_MSG_ARTICLES_TOOLTIP":p("View articles (opens in new window)"),"RESULTS_REFINE_BEF_IS_CITED_X_TIME":p("Refined to [{0}] before {1} is cited {2} time by:"),"RESULTS_QUERYBAR_CITES_LABEL":p("Cites:"),"RESULTS_QUERYBAR_REFINE_IS_CITEDBY":p("Refined to [{0}] gives:"),"DOC_CIBO_HEADER_1":p("(Showing first {0} result)"),"SOURCE_JOURNALAN_1":p("Your Journal Analyzer from Scopus may be accessed from the following link:"),"DOC_CIB_HEADER_ACCESSTYPE_MSG_2":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> documents<\/a> published in  access type = \"{2}\" matches your query"),"DOC_CIB_HEADER_ACCESSTYPE_MSG_1":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> document<\/a> published in access type = \"{2}\" match your query"),"RESULTS_QUERYBAR_SEL_KEY":p("Select keyword"),"RESULTS_MY_LIST_DOCS_REFINE_LABEL":p("{0} results found after Refinement:&nbsp;"),"DOCSORT_FIELD_AUTHASC":p("First Author (A-Z)"),"PATENT_RESULTS_TABLE_PATENT_NAME":p("Patent name"),"JS_FEDER_FEDERATED_OUTWARD_LINK_TOOLTIP":p("(opens in a new window)"),"DOCU_TITLE_SAVE":p("Save this list"),"RESULTS_MLT_ALL_REFS_LABEL":p("Shares {0}references{1} with:"),"RESULTS_QUERYBAR_DOCS_REF_SELECTED":p("The {0} selected documents cite:"),"TERM_EMAIL_FORMAT":p("E-mail format:"),"AFW_RELOAD_PAGE_TITLE":p("Reload current page"),"SAVE_SEARCH_EMPTY_NAME_ERROR_MSG":p("Please enter a name for this saved search before you save."),"DOCU_TITLE_OVERVIEW":p("View all Saved lists"),"SEARCH_THEFOLL_1":p("The following search term analysis can be accessed from the following link:"),"RESULTS_OPTIONS_EXTERNAL_RESULTS_TOOLTIP":p("Click to select one of the available non-scopus results options."),"RESULTS_QUERYBAR_ISCITEDBY_LABEL_LOWER":p(""),"SEARCH_NAV_EXACTSRCTITLE":p("Source title    "),"AUTHOR_MAILTO_20":p("mailto:"),"SEARCH_NAV_SCOPUSSRCTYPE_LOWERCASE":p("source type     "),"DOC_CIB_HEADER_MSG_DYNAMIC_VALUES_TOOLTIP":p("View {0} documents (opens in new window)"),"RESULTS_QUERYBAR_REFINE_SHARES_REF":p("Shares references with: Refined to [{0}] gives:"),"SEARCH_NAV_COUNTRY_NAME":p("Country/territory         "),"RESU_HIDE_ABSTRACT":p("Hide abstract"),"resultlist":{"footer":{"topofpage":p("Top of page"),"pagination":{"next":p("Next page",({"next":p("Next 5 pages")})),"previous":p("Previous page",({"previous":p("Previous 5 pages")}))},"page":{"text":p("Page")},"resultsperpage":{"display":p("Display:&nbsp;"),"go":p("Go"),"text":p("results per page")}},"header":{"unselectall":{"tooltip":p("Unselect all results")},"previouspagination":{"previous":p("Previous")},"more":{"TOOLTIP":p("Show more available options")},"document":p("document results"),"previousnextbar":{"next":p("Next &gt;",({"alt":p("Next page")})),"previous":p("&lt; Previous",({"alt":p("Previous page")})),"of":p("&nbsp;of"),"go":p("Go"),"page":p("Page:&nbsp;"),"gotopage":p("Go to page:&nbsp;",({"alt":p("Go to page")}))},"unselectpage":{"tooltip":p("Unselect page results")},"abstract":{"hideall":p("Hide all abstracts"),"showall":p("Show all abstracts")},"list":p("list"),"menu":p("More..."),"nextpagination":{"next":p("Next")},"showAllPage":{"bubble":{"title":p("click to select all or select page results")}},"selectpage":p("Select page",({"tooltip":p("Select page results")})),"checkbox":{"text":{"all":p("All"),"page":p("Page")}},"databutton":{"download":p("Download",({"ieedge":p("Document download is not supported on Chrome 45 or higher, Firefox or Edge. Please use IE 10 or 11.<\/br><\/br><i>We apologize for this inconvenience. We are currently working to provide a solution that is compatible with the latest browsers.<\/i><\/br><\/br><a target=\"_blank\" href=\"https://blog.scopus.com/posts/how-to-resolve-internet-explorer-11-ie11-compatibility-issues-with-scopuscom\" title=\"How to resolve Internet Explorer 11 compatibility issues with Scopus.com(opens in a new tab)\">Please see this article<\/a> if you experience IE compatibility issues."),"edge":{"ddm":p("We created a fast and lightweight solution for the Edge browser.<\/br> Click the button below to download the extension:")},"firefox":{"ddm":p("We created a fast and lightweight solution for the Firefox browser.<\/br> Click the button below to download the extension:")},"alt":p("Download the abstract or full text of the selected document(s), depending on availability"),"ddm":{"viewabstract":p("View abstract"),"gotopublisherpage":p("Go to Publisher Page (opens in a new window)"),"doipdf":p("DOI.pdf"),"checkwithpublisher":p("Check with publisher"),"title":p("Scopus Document Download Manager"),"error":p("This document could not be downloaded. Check with publisher(s) or try your link resolver."),"noDocsSelected":p("No Documents Selected For Download"),"downloaded":p("Downloaded"),"done":p("Done"),"help":{"title":p("Learn more about Scopus Document Download Manager Plugin/Extension (opens in a new window)")},"maxDownload":p("You can download a maximum of 51 documents"),"firstauthortitleyearpdf":p("FirstAuthor_Title_Year.pdf"),"download":p("Download"),"gotoabstractpage":p("Go to Abstract Page (opens in a new window)"),"closedownloadpopup":p("Close the download popup"),"begindownload":p("Begin Download"),"success":p("full-text documents were successfully downloaded as PDFs in your personal Downloads folder."),"get":{"extension":p("Get extension")},"downloadedpdf":p("Downloaded PDF"),"header":p("Some documents may not download in full text due to restrictions on the publisher's side."),"choosefilenameforamt":p("Choose file name format"),"error1":p("These document could not be downloaded. Check with publisher(s) or try your link resolver."),"titleyearjournalpdf":p("Title_Year_Journal.pdf")},"chrome45":{"refresh":{"error":{"title":p("Sorry, something went wrong..."),"message":p("<p>Scopus Document Download Manager Extension could not load properly.<\/br>Please reload the page and contact our support team if the issue persists.<\/p>")}},"title":p("Browser is not supported",({"ddm":p("The Scopus Document Download Manager requires an extension")})),"ddm":p("We created a fast and lightweight solution for the Chrome browser.<\/br> Click the button below to download the extension:"),"ok":p("Ok"),"close":p("Close"),"welcome":{"footer":{"message":p("If you haven't installed the extension yet:")},"refresh":{"get":{"extension":p("Get the extension")},"message":p("Refresh browser")},"title":p("Welcome back"),"message":p("<p>To start downloading documents, please refresh your browser by either <\/br> clicking on the button below or directly refreshing the browser.<\/p>")}}})),"print":p("Print",({"alt":p("Print the selected documents")})),"citedby":p("View cited by",({"alt":p("View documents citing the selected documents")})),"bibliography":p("Create bibliography",({"alt":p("Create a bibliography for the selected documents")})),"removeAuthorDoc":p("Request to remove documents from author",({"alt":p("Click to request to remove the selected documents from this author")})),"mylist":p("Add to List",({"loggedIn":p("Save to list"),"alt":p("Add these documents to a temporary list",({"loggedIn":p("Add these documents to a saved list")}))})),"more":{"alt":p("Show more available options")},"expdf":p("Save as PDF",({"alt":p("Save the selected documents as a PDF")})),"withselected":p("With selected:"),"viewreference":p("View references",({"alt":p("View references of the selected documents")})),"email":p("Email",({"alt":p("Email the selected documents")})),"cto":p("View citation overview",({"alt":p("View a Citation Overview of the selected documents")}))},"disabled":{"deletes":{"alt":p("Please select one or more document(s) below to Delete")},"download":{"alt":p("Please select one or more document(s) below to Download")},"citedby":{"alt":p("Please select one or more document(s) below to View Cited by")},"citation":{"alt":p("Please select one or more document(s) below to View citation overview")},"more":{"withcitedbyAddLst":{"alt":p("Please select one or more document(s) below to View Cited by, View references, Create bibliography, Email or Print")},"alt":p("Please select one or more document(s) below to View references, Add to My List, Create bibliography, Email or Print"),"withcitedby":{"alt":p("Please select one or more document(s) below to View Cited by, View references, Add to My List, Create bibliography, Email or Print")}},"mylist":{"alt":p("Please select one or more document(s) below to Add",({"loggedIn":p("Please select one or more document(s) below to Save")}))},"save":{"alt":p("Please select one or more document(s) below to Save")},"secondaryresults":{"more":{"alt":p("Please select one or more document(s) below to Create bibliography, Email or Print")}}},"sortby":p("Sort on:"),"selectall":p("Select all",({"tooltip":p("Select all results")}))},"querybar":{"setalert":p("Set alert"),"edit":p("Edit",({"alt":p("Edit search query")})),"author":{"alt":p("Find authors with a similar name")},"save":p("Save",({"alt":p("Save query")})),"link":{"patent":p("View {0} patent results",({"single":p("View {0} patent result",({"alt":p("Select to display the patent result")})),"alt":p("Select to display the patent results")}))},"hublink":{"view":p("View"),"web":p("View {0} web results",({"alt":p("Opens Hub in a new window. Covered web sources: University repositories (e.g. MIT, DiVA ,Caltech), theses & dissertations, etc.")})),"gotoresults":p("Go to:")},"alternativespelling":p("Alternative spelling is:",({"alt":p("return your search with this suggested spelling")})),"scopus":p("&nbsp;in Scopus"),"analyseresult":p("Analyze search results",({"alt":p("View charts and graphs related to this results list")})),"resulttext":p("result"),"search":p("Search&nbsp;"),"setfeedDisabled":p("Query too long to create an RSS feed"),"resultstext":p("results"),"setfeed":p("Set feed"),"results":p("Not the results you expected?"),"yourquery":p("Your query:&nbsp;&nbsp;")}},"DOC_CIB_HEADER_MSG_SHORT_SURVEY_TOOLTIP":p("View short survey (opens in new window)"),"RESULTS_REFINE_BEF_IS_CITED_X_TIMES":p("Refined to [{0}] before {1} is cited {2} times by:"),"DOC_CIB_HEADER_MSG_ABSTRACT_REPORT":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> abstract report<\/a> match your query"),"RESULTS_MLT_ALL_KEYS_LABEL":p("Shares {0}keywords{1} with:"),"RESULTS_BEF_ARE_CITED_X_TIME":p("The {2} selected documents are cited {1} time before {0} by:"),"SETALERT_LOGIN_MORE_LOGIN_OPT_TOOLTIP":p("More login options"),"RESULTS_REFINE_MLT_REF_LABEL":p("Share {1}selected references{2} with: Refined to [{0}]  gives:"),"DOC_CIB_HEADER_MSG_DYNAMIC_VALUE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> {2}<\/a> document matches your query"),"TERM_EMAIL_INFOR":p("The information entered on this page will not be used to send unsolicited e-mail, and will not be sold to a 3rd party."),"CLUS_LOADING_TOOLTIP":p("Loading"),"LIMI_EXCLUSUB_TOOLTIP":p("Exclude selected items: Subscription required"),"DOCU_VIEWIN_AUTHOR_TOOLTIP":p("View author details (opens in new window)"),"RESULTS_MY_LIST_LABEL":p("My list (<b>{0}<\/b>)"),"SAVELIST_DELETE_TOOLTIP_ENABLE":p("Delete the Selected List"),"RESULTS_REFINE_MLT_KEY_LABEL":p("Share {1}selected keywords{2} with: Refined to [{0}] gives:"),"EMAIL_SENT_MESSAGE_2":p("The information entered on this page will not be used to send unsolicited e-mail, and will not be sold to a 3rd party."),"EMAIL_SENT_MESSAGE_1":p("Your email message containing {0} citations and link will be sent to {1}"),"AFW_CONTACT_SUPPORT_TITLE":p("Contact Scopus support"),"SEARCH_NAV_AUCITE":p("Author name"),"EMAIL_SENT_MESSAGE":p("Your email message containing a citation and link will be sent to {0}"),"RESULTS_OPTIONS_VIZ_RESULTS_TOOLTIP":p("View charts and graphs related to this results list"),"RESU_REFEDOC_TOOLTIP":p("View the documents that references this one"),"RESULTS_QUERYBAR_ARECITEDBY_LABEL":p("are cited by:"),"RESULTS_CITED_BY_SELECT_KEY":p("Select keywords"),"RESULTS_BACK_PUB_METRICS":p("Back to publication metrics"),"results_cib_limit_multiple_article":p("Limit your results to these {0} articles only"),"RESULT_SAVED_LIST_SUCCESS":p("The selected {0} documents were added to {1}. <a href=\"{2}\" title=\"Manage your saved lists\"><span class=\"anchorText\">View or manage your saved lists<\/span>.<\/a>"),"DOC_CIB_HEADER_MSG_CONFERENCE_PAPER":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> conference paper<\/a> match your query"),"RESULTS_SRC_BROWSE_QUERY_ISS":p("&nbsp;in Issue {0} has:")})})();;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.affiliation=({"JS_MSG_SHOW_ORG":p("Show Organizational Hierarchy: "),"JS_MSG_GROUP_MAX":p("The maximum number of affiliation groups ({0}) has been reached.\r\nTo create new groups, close your browser or remove one or more existing groups."),"JS_MSG_AFFIL_SEARCH_EXAMPLE":p("e.g. University of Toronto"),"JS_MSG_NO_KEYWORDS":p("No Keywords found"),"JS_MSG_AFFIL_SORT_BY_CITY_DESC":p("City (Z-A)"),"JS_MSG_DISABLE_BASIC_AFFIL_42_TOOLTIP":p("Please select one or more affiliation(s) below to add to Search"),"JS_MSG_VIEW_MORE_COLLAB":p("Show more collaborating affiliations"),"JS_MSG_NO_SOURCE_TYPE":p("No Source Types found"),"JS_MSG_GROU_DELETE":p("Delete"),"JS_MSG_NO_COUNTRIES":p("No Countries found"),"JS_MSG_NOSEARCH_TERM":p("No search terms entered. \r\nEnter one or more search terms and click Search."),"JS_MSG_AFFIL_SORT_BY_OTHER_TITLE":p("Sort on one of the other available options."),"JS_MSG_AFFIL_SORT_BY_SUBJ_AREA_ASC":p("Subject area (A-Z)"),"JS_MSG_AFFIL_SORT_BY_DOC_COUNT_DESC_TITLE":p("Sort affiliations by descending Document count."),"JS_MSG_DISABLE_PROF_SETFEEDBACK_TOOLTIP":p("Please select one or more affiliation(s) below to Give feedback about this affiliation"),"JS_MSG_AFFIL_SORT_BY_AFFIL_ASC":p("Affiliation (A-Z)"),"JS_MSG_AFFIL_HEADER_UNSELECTALL_TOOLTIP":p("Unselect all results"),"JS_MSG_DISABLE_GROU_DELETE_TOOLTIP":p("Please select one or more affiliation(s) below to Delete affiliations from group"),"JS_MSG_NO_LANGUAGES":p("No Languages found"),"JS_MSG_NO_MATCH":p("No Match Levels found"),"JS_MSG_AFFIL_SORT_BY_SUBJ_AREA_DESC":p("Subject area (Z-A)"),"JS_MSG_AFFIL_GROUP_TOOLTIP_DISABLED":p("Please select one or more affiliations from a hierarchy below to group it with this affiliation"),"JS_MSG_DISABLE_BASIC_AFFIL_23_TOOLTIP":p("Please select one or more affiliation(s) below to Group Affiliation"),"JS_MSG_NO_CONTENT":p("No Content Sources found"),"JS_MSG_error_nosubject":p("No subject has been selected .\r\nPlease select an appropriate Subject and click Send."),"JS_MSG_VIEW_LESS_SOURCE":p("Show less documents by source"),"JS_MSG_NO_YEARS":p("No Years found"),"JS_MSG_DISABLE_BASIC_AFFIL_40_TOOLTIP":p("Please select one or more affiliation(s) below to Send Feedback"),"JS_MSG_BASIC_AFFIL_37_TOOLTIP":p("Show all documents of selected affiliations"),"JS_MSG_AFFIL_SORT_BY_AFFIL_ASC_TITLE":p("Sort by Affiliation name (A-Z)"),"JS_MSG_error_nocomments":p("Comments are required.\r\nPlease enter your Comments and click Send."),"JS_MSG_NO_CITIES":p("No Cities found"),"JS_MSG_error_noemail":p("E-mail address is required.\r\nPlease enter an E-mail address and click Send."),"JS_MSG_CLICK_TO_CLOSE":p("Click to close"),"JS_MSG_AFFIL_HEADER_UNSELECTPAGE_TOOLTIP":p("Unselect page results"),"JS_MSG_AFFIL_SORT_BY_CNTRY_ASC_TITLE":p("Sort affiliations by Country/Territory (A-Z)"),"JS_MSG_NO_AUTHOR":p("No Author Names found"),"JS_MSG_BASIC_AFFIL_23_TOOLTIP":p("Group the selected affiliations with this affiliation"),"JS_MSG_NO_SOURCE":p("No Source Titles found"),"JS_MSG_VIEW_MORE_SOURCE":p("Show more documents by source"),"JS_MSG_AFFIL_SORT_BY_AFFIL_DESC_TITLE":p("Sort by Affiliation name (Z-A)"),"JS_MSG_BASIC_AFFIL_40_TOOLTIP":p("Give feedback about this affiliation"),"JS_MSG_AFFIL_AFFIL_PAGE":p("Page"),"JS_MSG_AFFIL_SORT_BY_CNTRY_DESC":p("Country/Territory (Z-A)"),"JS_MSG_NO_INFORMATION":p("No Information Types found"),"JS_MSG_BASIC_AFFIL_42_TOOLTIP":p("Add selected affiliations to your search"),"JS_MSG_PROF_SETFEEDBACK":p("Give feedback"),"JS_MSG_VIEW_MORE":p("View more..."),"JS_MSG_AFFIL_SORT_BY_CNTRY_ASC":p("Country/Territory (A-Z)"),"JS_MSG_NO_AFFILIATION":p("No Affiliations found"),"JS_MSG_VIEW_ALL_NAMEVAR":p("View all name variants"),"JS_MSG_RESTORE":p("Restore default hierarchy"),"JS_MSG_AFFIL_BASI_AFFIL":p("Search for Affiliation..."),"JS_MSG_RESTOREMMAIN":p("Hide all hierarchies"),"JS_MSG_NO_SUBJECT":p("No Subject Areas found"),"JS_MSG_AFFIL_HEADER_SELECTPAGE_TOOLTIP":p("Select page results"),"JS_MSG_AFFIL_SORT_BY_CITY_ASC":p("City (A-Z)"),"JS_MSG_VIEW_LESS_NAMEVAR":p("View less name variants"),"JS_MSG_NO_DOCUMENT":p("No Document Types found"),"JS_MSG_NO_LIMIT_TO":p("No items were selected. \r\nSelect one or more items in one or more columns and click limit to."),"JS_MSG_NO_EXCLUDE":p("No items were selected. \r\nSelect one or more items in one or more columns and click exclude."),"JS_MSG_HIDE_ORG":p("Hide Organizational Hierarchy: "),"JS_MSG_EXPAND":p("Expand this hierarchy"),"JS_MSG_AFFIL_SORT_BY_AFFIL_DESC":p("Affiliation (Z-A)"),"JS_MSG_DISPLAY":p("Display:&nbsp;"),"JS_MSG_NO_AUTHOR_NAME":p("No Author Names found"),"JS_MSG_AFFIL_HEADER_SELECTALL_TOOLTIP":p("Select all results"),"JS_MSG_AFFIL_CHECK_BOX_SELECTED":p("({0} selected)"),"JS_MSG_DISABLE_BASIC_AFFIL_37_TOOLTIP":p("Please select one or more affiliation(s) below to Show Documents"),"JS_MSG_AFFIL_AFFIL_ALL":p("All"),"JS_MSG_EXPANDMAIN":p("Show all hierarchies"),"JS_MSG_AFFIL_SORT_BY_CITY_ASC_TITLE":p("Sort affiliations by City (A-Z)"),"JS_MSG_VIEW_LESS_COLLAB":p("Show less collaborating affiliations"),"JS_MSG_CLICK_TO_OPEN":p("Click to open"),"JS_MSG_AFFIL_SORT_BY_DOC_COUNT_DESC":p("Document count (high-low)"),"JS_MSG_VIEW_LESS_TEXT":p("View less"),"JS_MSG_error_nocountry":p("No country has been selected .\r\nPlease select an appropriate country and click Send."),"JS_MSG_VIEW_MORE_NAMEVAR":p("View more name variants"),"JS_MSG_error_noname":p("Name is required.\r\nPlease enter your Name and click Send."),"JS_MSG_MORE_LIMIT":p("More than {0} affiliations were grouped in total. \r\nPlease select {1} or less affiliations from the list below and click Group with affiliation."),"JS_MSG_NO_RESULT":p("No Result Types found"),"JS_MSG_RESULTSPERPAGE":p("results per page"),"JS_MSG_VIEW_ALL":p("View all"),"JS_MSG_AFFIL_SORT_BY_DOC_COUNT_ASC":p("Document count (low-high)"),"JS_MSG_SYS_ERROR":p("<span class='txtRedBold'>The system is currently unable to retrieve the potential affiliation matches.<\/span><br><span class='txt'>Please try again by clicking <strong>Find potential affiliation matches<\/strong>.<\/span>"),"JS_MSG_NOFEEDBACK":p("No authors were selected.\r\nPlease select one or more authors from the list below and click request to merge with author."),"JS_MSG_NOAFFIL_DELETE":p("No affiliations were selected.\r\nPlease select one or more affiliations from the list below and click delete."),"JS_MSG_NOAFFIL":p("No affiliations were selected. \r\nPlease select one or more affiliations from the list below and click Group with affiliation."),"JS_MSG_RETER_ORG":p("Retrieving organizational hierarchy..."),"JS_MSG_AFFIL_SORT_BY_DOC_COUNT_ASC_TITLE":p("Sort affiliations by ascending Document count"),"JS_MSG_VIEW_LESS":p("View less...")})})();;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.alertProp=({"MAINTALETLST_DELETE":p("Delete"),"ALERT_FREQUENCY":p("Frequency"),"ALERTCONF_THISEMAIL":p("This email has been sent to you by Scopus ®, a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911. "),"ALERT_AUTHOR_ACCESS_NEW_RESULTS":p("Access the new result"),"alert_my_list_status_active":p("Active"),"ALERT_EMAIL_SEPARATOR":p("Separate multiple email addresses by a semicolon, comma, space or enter."),"ALERTTEXT_SEARCHALERT":p("Search alert"),"ALERT_AUTHOR_TEXT_FOOTER_TERMS_1":p("By using the Scopus Alert, you are agreeing to abide by the Scopus Terms and Conditions at {0}. "),"ALERT_AUTHOR_TEXT_FOOTER_TERMS_2":p("Copyright (c) {0} Elsevier B.V. All rights reserved. Scopus ® is a registered trademark of Elsevier B.V."),"author_alert":p("Author"),"ALERTTEXT_ANEWAUTH":p("A new Author citation alert called \"{0}\" has been set up:"),"alert_error_cite_delete_js":p("No Document Citation Alerts were selected.\\r\\nPlease check one or more Document Citation Alerts from the list below and click delete."),"ALERTTEXT_ANEWDOC":p("A new Document citation alert called \"{0}\" has been set up:"),"alert_message_delete_one_js":p("Are you sure you want to delete this alert?"),"ALERT_AUTHOR_QUERY_WITHOUT_COLON":p("This alert is based on the following query"),"ALER_NAMEOF":p("Name of alert"),"ALERTTEXT_ELSEVIER":p("Elsevier respects your privacy and does not disclose, rent or sell your personal information to any non-affiliated third parties without your consent, except as may be stated in the Online Privacy Policy. By using the Scopus alerts, you are agreeing to abide by the Terms and Conditions."),"ALERT_SEARCH_TEXT_2":p("You can access the new result from this Search Alert at:"),"ALERT_SEARCH_TEXT_1":p("You can access all new results from this Search Alert at:"),"alert_message_delete_many_js":p("Are you sure you want to delete these alerts?"),"ALERT_AUTHOR_NEW_RESULTS":p("{0} new results"),"alert_my_list_setfeed":p("Set&nbsp;feed"),"ALERT_DOCUMENT_CALLED_2":p("Your {0} alert called \"{1}\" has found {2} new result on Scopus."),"ALERT_DOCUMENT_CALLED_1":p("Your {0} alert called \"{1}\" has found {2} new results on Scopus."),"ALERT_AUTHOR":p("Author(s)"),"ALERT_SEARCH_HTML_RESULT_1":p("Your search alert called <span class=\"bold\">\"{0}\"<\/span> has found {1} new results on Scopus."),"ALERTCONF_ALERTONTHE":p("Alert will check {0} on the {1} for new results and send mail in <b>HTML<\/b> format."),"alert_my_list_status":p("Status"),"ALERT_SEARCH_TEXT_RESULT_2":p("Your search alert called \"{0}\" has found {1} new result on Scopus."),"alerts":{"message":{"partial":{"profile":{"failed":p("The following email addresses could not be added as recipients to this Alert: {0}")}}}},"ALERTTEXT_COPYRIGHT":p("Copyright © {0} Elsevier B.V. All rights reserved. Scopus® is a registered trademark of Elsevier B.V."),"ALERT_UNSUBSCRIBE_MAIL_SUBJECT":p("Unsubscribe alert"),"ALERT_SEARCH_TEXT_RESULT_1":p("Your search alert called \"{0}\" has found {1} new results on Scopus."),"ALERT_SEARCH_HTML_RESULT_2":p("Your search alert called <span class=\"bold\">\"{0}\"<\/span> has found {1} new result on Scopus."),"ALERTTEXT_ACTIVE":p("It is presently active."),"ALERTUNSUB_RECIPIENTSEARCH":p("Recipient has declined Search alert"),"ALERT_AUTHOR_HTML_FOOTER_10":p("Citation Alert:"),"ALERT_AUTHOR_TEXT_FOOTER_SET_UP":p("If someone else has set up this alert for you, you can unsubscribe from these alerts by going the following url: {0} ."),"ALERT_AUTHOR_CITED_2":p("Cited {0} times."),"ALERTUNSUB_REMOVED":p("The recipient <a href=\"mailto:{0}\">{0}<\/a> has removed their e-mail address from your alert named \"<b>{1}<\/b>\"."),"ALERT_AUTHOR_CITED_1":p("Cited {0} time."),"ALERT_DOCUMENT_CITATION_4":p("You can access  the new result from this Document Citation Alert at:"),"ALERT_DOCUMENT_CITATION_3":p("You can access  all new results from this Document Citation Alert at:"),"ALERTTEXT_ALERTWILL":p("Alert will check Every day for new results and send mail in plain text format. "),"ALERT_EMAIL_HTML_FOOTER":p("<span class=\"Bold\">Note: <\/span>Results from CSA Illumina are not included in this e-mail alert. Your results list on Scopus for this e-mail alert can contain not only newly published documents, but also newly added archive material with an earlier publication date."),"ALERT_AUTHOR_ONE_NEW_RESULTS":p("1 new result"),"ALERT_DOCUMENT_CITATION_2":p("Your Document Citation Alert called <span class=\"bold\">\"{0}\"<\/span> has found {1} new result on Scopus."),"ALERT_DOCUMENT_CITATION_1":p("Your Document Citation Alert called <span class=\"bold\">\"{0}\"<\/span> has found {1} new results on Scopus."),"ALERT_STATUS":p("Status"),"MAINTALETLST_ACTION":p("Action"),"ALERT_AUTHOR_CITEDBY":p("Cited by"),"MAINTALETLST_DELSELALERT_TOOLTIP":p("Delete the selected alerts"),"MAINTALETLST_SAVON":p("Saved on"),"ALERT_AUTHOR_DATE":p("Date"),"ALERT_AUTHOR_TEXT_PRIVACY":p("Elsevier respects your privacy and does not disclose, rent or sell your personal information to any non-affiliated third parties without your consent, except as may be stated in the Scopus Online Privacy Policy at {0}."),"alert_error_inactivate_js":p("Are you sure you want to inactivate this alert?\\r\\nYou can only activate it again if you subscribe to Scopus."),"SETALERT_LOGIN_COLLAPSE_LOGIN_OPT":p("Collapse options"),"ALERTTEXT_SEARCH":p("You can access all search results at:"),"AUTHOR_CITATION_ALERTS":p("Author Citation Alerts"),"ALERT_TEXT":p("Text"),"ALERTCONF_INACTIVE":p("It is presently <b>inactive<\/b>."),"ALERT_DOCUMENT_TEXT_FOOTER_TERMS_2":p("(c) {0} Scopus. All rights reserved. Any unauthorized use, reproduction, or transfer of this message or its contents, in any medium, is strictly prohibited. Scopus ® is a registered trademark of Elsevier B.V."),"SETALERT_LOGIN_CLOSE_TOOLTIP":p("close"),"ALERT_AUTHOR_IMAGE_ALT":p("Articles not published yet, but available online"),"ALERT_AUTHOR_TEXT_AUTHOR_DOCUMENT":p("New document(s) citing"),"ALERT_AUTHOR_VIEW_RESULTS":p("View all new results in Scopus"),"ALERTCONF_ALERTON":p("Alert will check {0} on {1} for new results and send mail in <b>HTML<\/b> format."),"ALERT_AUTHOR_TEXT_FOOTER_3":p("This email has been sent to you by Scopus ®, a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911."),"DOCUMENT_CITATION_ALERTS":p("Document Citation Alerts"),"ALERT_SEARCH_HTML_DOCUMENT":p("Document"),"alert_my_list_status_inactive_alt":p("Click to activate alert"),"MAILALERT_VIEWDOC":p("View document citations in Scopus"),"ALERT_AUTHOR_ACCESS_ALL":p("Access all new results"),"alert_my_list_status_inactive":p("Inactive"),"ALERT_DOCUMENT":p("Alert:"),"MAINTALETLST_ALTNAM":p("Alert name"),"ALERTTEXT_TOMANAGE":p("To manage your alerts, go to Alerts in Scopus: {0}/alert/form/MyAlerts.uri"),"ALERT_AUTHOR_DOCUMENT_TITLE":p("Document title"),"alert_my_list_edit":p("Edit"),"ALERT_SEARCH_TEXT_OVERVIEW_3":p("In the overview below, you can see the {0} result for this Search Alert:"),"ALERT_SEARCH_TEXT_OVERVIEW_2":p("In the overview below, you can see the {0} results for this Search Alert:"),"ALERT_SEARCH_TEXT_OVERVIEW_1":p("In the overview below, you can see the First 25 of {0} results for this Search Alert:"),"MAILALERT_VIEWAUTH":p("View author citations in Scopus"),"alert_my_list_saved_on":p("Saved on"),"ALERTTEXT_INACTIVE":p("It is presently inactive."),"MAINTALETLST_DELSELALERT_ALT":p("Delete the selected alerts"),"ALERT_AUTHOR_TEXT_FOOTER_MANAGE":p("To manage your alerts, go to Alerts in Scopus: {0} ."),"ALERT_EMAILADDRESS":p("Email address(es)"),"SETALERT_LOGIN_CLOSE":p("close"),"MAINTALETLST_AUTHIDNOAVAIL":p("Author Identifier {0} is no longer available"),"ALERT_ET_AL_TEXT":p("et al."),"ALERTCONF_THEALERTS":p("The alerts will be sent to the following recipients:"),"ALERTTEXT_DOCALERT":p("Document citation alert"),"JS_MSG_ALERTS_UNSUBSCRIBE_EMAIL_REQUIRED":p("E-mail Address is required.\r\nPlease enter a complete e-mail address and click Send.\r\nExample: john.smith@abc-university.edu"),"ALERT_SEARCH_HTML_CITATIONS":p("Citations"),"ALERT_SEARCH_EMAIL_SUBJECT":p("Scopus Search alert"),"alert_my_list_view":p("View"),"alert_my_list_unable_to_activate_alt":p("No valid email address to activate"),"document_alert":p("Document"),"alert_my_list_status_active_alt":p("Click to deactivate alert"),"DOCUMENT_CITATION_ALERT_MSG":p("When you set a Document Citation Alert you will receive an e-mail each time that document is cited in Scopus."),"ALERTTEXT_ALERTONTHE":p("Alert will check {0} on the {1} for new results and send mail in plain text format."),"MAINTALETLST_SRCHALL_TOOLTIP":p("Search for all articles by this author"),"forgotten":{"js":{"error":{"emailinvalid":p("Incomplete E-mail Address entered.\\r\\nPlease enter a complete e-mail address and click Send.\\r\\nExample: john.smith@abc-university.edu"),"required":{"email":p("E-mail Address is required.\\r\\nPlease enter a complete e-mail address and click Send.\\r\\nExample: john.smith@abc-university.edu")}}}},"alert_my_list_search":p("Search"),"ALERT_AUTHOR_NEW_RESULT":p("{0} new result"),"ALERTCONF_ALERTWILL":p("Alert will check Every day for new results and send mail in <b>HTML<\/b> format."),"SETALERT_LOGIN_MORE_LOGIN_OPT":p("More login options"),"ALERTCONF_ACTIVE":p("It is presently <b>active<\/b>."),"ALERT_AUTHOR_SOURCE_TITLE":p("Source Title"),"MAINTALETLST_DOCCITUNAVAIL":p("Document Citation is currently unavailable."),"MAILALERT_VIEWSEARCH":p("View results in Scopus"),"ALERTTEXT_ALERTON":p("Alert will check {0} on {1} for new results and send mail in plain text format. "),"alert_my_list_setfeed_tooltip":p("Set feed"),"ALERT_AUTHOR_TEXT_FOOTER_QUESTIONS":p("If you have questions about this or other features of Scopus, Please visit our Info Site: http://www.info.sciverse.com/scopus/ ."),"ALERTTEXT_ANEWSEARCH":p("A new Search alert called \"{0}\" has been set up:"),"alert_my_list_doc_unavailable":p("Document Citation is currently unavailable."),"ALERT_AUTHOR_HTML_FOOTER_CONFIRMATIONID":p("Confirmation Job ID:"),"ALERT_AUTHOR_SOURCE":p("Source"),"MAILALERT_ANEWSEARCH":p("A new Search alert called <b>\"{0}\"<\/b> has been set up:"),"ALERT_SEARCH_HTML_TYPE":p("Search"),"MAINTALETLST_FREQ":p("Frequency"),"alert_message_delete_specific_js":p("Are you sure you want delete alert: {0} ?"),"ALERTS":p("Alerts"),"CTO_BATCH_APPLICAITON_EMAIL_SUBJECT":p("Citation Tracker from Scopus"),"alert_my_list_frequency":p("Frequency"),"ALERT_NAME":p("Alert name"),"MAINTALETLST_AUTHPREFNAME":p("{0} (Author Identifier&nbsp;{1})"),"ALERT_AUTHOR_HTML_FOOTER_9":p("Webuser ID: "),"ALERTCONF_TOMANAGE":p("To manage your alerts, go to <a href=\"{0}/alert/form/MyAlerts.uri\">Alerts<\/a> in Scopus."),"ALERT_AUTHOR_HTML_FOOTER_7":p("Copyright &#169; {0} <a href=\"https://www.elsevier.com\" target=\"_blank\"   title=\"Elsevier homepage (opens in a new window)\"> Elsevier B.V.<\/a> Scopus &#174; is a registered trademark of Elsevier B.V."),"ALERT_AUTHOR_HTML_FOOTER_8":p("Delivery Job: ID:"),"ALERT_AUTHOR_HTML_FOOTER_5":p("By using the Scopus alerts, you are agreeing to abide by the <a href=\"{0}\">Scopus Terms and Conditions<\/a>. "),"ALERT_EMAIL_FORMAT":p("E-mail format:"),"ALERT_AUTHOR_HTML_FOOTER_3":p("This email has been sent to you by Scopus &#174;, a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911."),"ALERTUNSUB_RECIPIENT":p("Recipient has declined {0} alert"),"AUTHOR_CITATION_ALERT_MSG":p("When you set an Author Citation Alert you will receive an e-mail each time a document of that author is cited in Scopus."),"ALERT_AUTHOR_HTML_FOOTER_4":p("Elsevier respects your privacy and does not disclose, rent or sell your personal information to any non-affiliated third parties without your consent, except as may be stated in the <a href=\"{0}\">Scopus Online Privacy Policy<\/a> . "),"ALERT_AUTHOR_HTML_FOOTER_1":p("To manage your alerts, go to <a href=\"{0}\">Alerts<\/a> in Scopus. If this alert was set by someone else and you do not wish to receive it, please click <a href=\"{1}\">here<\/a>."),"ALERT_DOCUMENT_TEXT_CITATION_1":p("Your Document Citation Alert called \"{0}\" has found {1} new results on Scopus."),"ALERT_AUTHOR_HTML_FOOTER_2":p("If you have questions about this or other features of Scopus,please visit our <a href=\"http://www.info.sciverse.com/scopus/\">Info site<\/a>."),"ALERT_DOCUMENT_TEXT_CITATION_2":p("Your Document Citation Alert called \"{0}\" has found {1} new result on Scopus."),"MAILALERT_ANEWAUTHOR":p("A new Author citation alert called <b>\"{0}\"<\/b> has been set up:"),"ALERT_AUTHOR_EMAIL_SUBJECT":p("Scopus Author Citation alert"),"ALERT_DOCUMENT_TEXT_OVERVIEW_1":p("In the overview below, you can see the {0} results for this Document Citation Alert:"),"ALERTTEXT_THISEMAIL":p("This email has been sent to you by Scopus ®, a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911."),"ALERTUNSUB_RECIPIENTAUTH":p("Recipient has declined Author citation alert"),"ALERT_DOCUMENT_TEXT_OVERVIEW_2":p("In the overview below, you can see the result for this Document Citation Alert:"),"ALERT_DOCUMENT_TEXT_OVERVIEW_3":p("In the overview below, you can see the First 25 of {0} results for this Document Citation Alert:"),"ALERT_AUTHOR_PREVIOUS":p("The previous alert was sent on {0}"),"ALERTTEXT_DOC":p("You can access all document citations at:"),"MAINTALETLST_INACTIVATE":p("Inactivate"),"ALERT_DOCUMENT_EMAIL_SUBJECT":p("Scopus Document Citation alert"),"ALERT_AUTHOR_YEAR":p("Year"),"ALERT_HEADER_TOOLTIP":p("Select to go to the Scopus main search page"),"SEARCH_ALERT_MSG":p("You will receive an alert each time one of these searches renders new results in Scopus."),"MAILALERT_ANEWDOCUMENT":p("A new Document citation alert called <b>\"{0}\"<\/b> has been set up:"),"ALERTTEXT_AUTH":p("You can access all author citations at:"),"SEARCH_ALERTS":p("Search Alerts"),"ALERT_HTML":p("HTML"),"alert":{"button":{"label":{"cancel":p("Cancel",({"alt":p("Cancel")})),"setalert":p("Set alert",({"alt":p("Set Alert")})),"save":p("Save",({"alt":p("Save")}))}},"unsubscribe":{"form":{"cancel":p("Cancel",({"alt":p("Cancel")})),"msg":p("To stop receiving the Scopus alert named \"{0}\", please confirm your e-mail address below:"),"alt_title":p("Unsubscribe from Scopus Alert"),"unsubscribe":p("Unsubscribe"),"title":p("Unsubscribe from alert"),"email":p("E-mail address:"),"required":p("Required field")},"confirmation":{"msg2":p("You will no longer receive e-mails from this alert."),"msg1":p("You have now been removed from the Scopus alert named \"{0}\"."),"title":p("Unsubscribe successful")}},"instruction":{"search":p("A Search Alert is a saved search that you can schedule to run at certain intervals. If any new results are found you will receive an e-mail with the first 25 results and a link into Scopus to access all new results."),"raven":{"search":p("A Search Alert is a saved search that you can schedule to run at certain intervals. If any new results are found you will receive an e-mail with the first 20 results and a link into Scopus to access all new results."),"author":p("An Author Citation Alert will keep you informed when a document cites this author, you can schedule this alert to run at certain intervals. If any new results are found you will receive an e-mail with the first 20 results and a link into Scopus to access all new results."),"gdpr":p("If the email address you input belongs to another individual, ensure you have their permission to sign them up for this alert. Your email address will be included on subsequent email alerts.")},"author":p("An Author Citation Alert will keep you informed when a document♦ cites this author, you can schedule this alert to run at certain intervals. If any new results are found you will receive an e-mail with the first 25 results and a link into Scopus to access all new results."),"document":p("A Document Citation Alert will keep you informed when a document cites this document, you can schedule this alert to run at certain intervals. If any new results are found you will receive an e-mail with the first 20 results and a link into Scopus to access all new results.")},"maint":{"search":{"select":{"all":p("Select all Search alerts")},"inactivate":p("Inactivate this Search alert"),"delete":p("Delete this Search alert"),"email":p("You will receive an e-mail each time one of these searches renders new results in Scopus")},"author":{"select":{"all":p("Select all Author Citation alerts")},"inactivate":p("Inactivate this Author Citation alert"),"delete":p("Delete this Author Citation alert"),"email":p("You will receive an e-mail each time one of these documents of that author is cited in Scopus")},"document":{"select":{"all":p("Select all Document Citation alerts")},"inactivate":p("Inactivate this Document Citation alert"),"delete":p("Delete this Document Citation alert"),"email":p("You will receive an e-mail each time one of these documents is cited in Scopus")}},"setup":{"alertHeading":p("Set alert"),"dayOfUnit":{"month_4":p("4th"),"month_30":p("30th"),"month_3":p("3rd"),"month_31":p("31st"),"month_6":p("6th"),"month_10":p("10th"),"saturday":p("Saturday"),"month_5":p("5th"),"month_11":p("11th"),"month_2":p("2nd"),"month_1":p("1st"),"month_8":p("8th"),"month_7":p("7th"),"month_9":p("9th"),"month_27":p("27th"),"wednesday":p("Wednesday"),"month_28":p("28th"),"friday":p("Friday"),"month_29":p("29th"),"month_23":p("23rd"),"month_24":p("24th"),"month_25":p("25th"),"monday":p("Monday"),"month_26":p("26th"),"month_20":p("20th"),"month_21":p("21st"),"week_7":p("Saturday"),"month_22":p("22nd"),"week_6":p("Friday"),"week_5":p("Thursday"),"week_4":p("Wednesday"),"week_3":p("Tuesday"),"week_2":p("Monday"),"week_1":p("Sunday"),"thursday":p("Thursday"),"sunday":p("Sunday"),"tuesday":p("Tuesday"),"month_16":p("16th"),"month_17":p("17th"),"month_18":p("18th"),"month_19":p("19th"),"month_12":p("12th"),"month_13":p("13th"),"month_14":p("14th"),"month_15":p("15th")},"author":p("Author:",({"no":{"id":p("Author Identifier {0} is no longer available")},"id":p("Author Identifier")})),"alertname":p("Name of alert"),"document":p("Document:",({"search":{"tip":p("Search for all articles by this author")}})),"privacy":{"link":p("Privacy Policy",({"open":p("Privacy Policy (Opens in a new window)")}))},"loading":{"text":p("loading ..")},"required":{"fields":p("=&nbsp;Required fields",({"rebranded":p("Required fields")}))},"frequency":{"sixmonths":p("Every six months"),"week":p("Every week"),"month":p("Every month"),"twoweeks":p("Every two weeks"),"twomonths":p("Every two months"),"day":p("Every day"),"threemonths":p("Every three months"),"on":{"the":{"day":p("on the")},"day":p("on")}},"search":p("Search terms",({"edit":p("Edit",({"query":p("Edit query")}))})),"name":{"required":p("Name of alert is a required field.")},"results":{"go":p("Go")},"email":{"required":p("Your email address is a required field.")}},"update":{"title":{"search":p("Edit a Search Alert"),"author":p("Edit an Author Citation Alert"),"document":p("Edit a Document Citation Alert")}},"create":{"title":{"search":p("Save a Search Alert"),"author":p("Set author citation alert"),"document":p("Set document citation alert")}},"my":{"nav":{"search":p("Search alerts",({"alt":p("Search alerts ")})),"author":p("Author citation alerts",({"alt":p("Author citation alerts")})),"document":p("Document citation alerts",({"alt":p("Document citation alerts")})),"manage":p("Manage the alerts you have set in Scopus.")},"list":{"view":{"results":p("Check for new results since {0}",({"alt":p("Retrieve new results since the last run")}))},"edit":{"alt":p("Edit alert")},"author":{"no":{"id":p("ID is no longer available")}},"delete":{"alt":p("Click to delete alert")}},"empty":{"new":{"search":p("Set new search alert",({"alt":p("Set new search alert")})),"author":p("Set new author citation alert",({"alt":p("Set new author citation alert")})),"document":p("Set new document citation alert",({"alt":p("Set new document citation alert")}))},"none":{"search":p("No Search Alerts have been set, click on {0} to set a new alert."),"author":p("No Author Citation Alerts have been set, click on {0} to set a new alert."),"document":p("No Document Citation Alerts have been set, click on {0} to set a new alert.")}}},"message":{"author":{"newalert":p("Your Author citation  alert has been created. You can view your alerts on the <a href=\"/alert/form/MyAlerts.uri\">Alerts Page<\/a>.")},"document":{"newalert":p("Your Document citation  alert has been created. You can view your alerts on the <a href=\"/alert/form/MyAlerts.uri\">Alerts Page<\/a>.")},"record":{"newalert":p("Your Document citation  alert has been created. You can view your alerts on the <a href=\"/alert/form/MyAlerts.uri\">Alerts Page<\/a>.")},"setup":{"search":{"edit":p("<h2 class=\"txtLarge infoText marginB5\">You have edited the search for this Alert. <\/h2><ol><li>Click '{0}' to save this change to your Search alert.<\/li><\/ol><div class=\"hr\" style=\"width:746px;\"><hr/><\/div><br>")}},"results":{"newalert":p("Your Search  alert has been created. You can view your alerts on the <a href=\"/alert/form/MyAlerts.uri\">Alerts Page<\/a>.")}},"error":{"popup":{"duplicate":{"exists":p("<span class=\"errorCntTxt\">Alert name exists. Please choose a unique alert name or  select 'Set Alert' to overwrite existing alert.<\/span>")}},"edit":{"no":{"emails":p("Your alert was edited, however, due to system problems, the email addresses you included will not receive the alert. Please try again later to update the alert with the email addresses.")}},"exists":{"setalert":{"js":p("Alert name and query exists. Please enter a unique alert name or  select 'Set Alert' to overwrite existing alert.")},"js":p("The name you have chosen for this alert already exists.\\nDo you want to replace it?")},"create":{"no":{"emails":p("Your alert was created, however, due to system problems, the email addresses you included will not receive the alert. Please try again later to update the alert with the email addresses.")}},"mandatory":{"setalertpopup":{"js":p("<span class=\"errorCntTxt\">You must enter all required fields.<\/span>")},"setalert":{"js":p("You must enter all required fields.")},"js":p("You have not provided mandatory information.\\r\\nPlease complete all required (*) fields and click Save.")}},"email":{"invalid":{"msg":p("An invalid email address was entered in the Email address field")},"example":p("E.g., j.smith@mail.com, p.smith@mail.com")}},"ALERT_COMMON_FOOTER":p("Note: Results from CSA Illumina are not included in this e-mail alert. Your results list on Scopus for this e-mail alert can contain not only newly published documents, but also newly added archive material with an earlier publication date."),"ALERT_AUTHOR_HTML_RESULTS_1":p("First 25 of {0} results"),"ALERT_DOCUMENT_TEXT_PREVIOUS":p("Your previous alert for {0} was sent on {1}"),"ALERT_AUTHOR_HTML_RESULTS_2":p("{0} results"),"SETALERT_LOGIN_MORE_LOGIN_OPT_TOOLTIP":p("More login options"),"ALERT_AUTHOR_HTML_RESULTS_3":p("{0} result"),"ALERT_AUTHOR_QUERY":p("This alert is based on the following query:"),"alert_error_author_delete_js":p("No Author Citation Alerts were selected.\\r\\nPlease check one or more Author Citation Alerts from the list below and click delete."),"ALERT_DOCUMENT_HTML_HEADING":p("Document Citation alert:"),"ALERTCONF_COPYRIGHT":p("Copyright © {0} <a href=\"https://www.elsevier.com\">Elsevier B.V.<\/a> All rights reserved. Scopus ®  is a registered trademark of Elsevier B.V."),"ALERT_AUTHOR_UNAVAILABLE":p("Unavailable"),"ALERT_SEARCH_HTML_TITLE":p("Search Alert:"),"MAILALERT_YOUR":p("Your query :"),"ALERT_AUTHOR_HTML_FOOTER_ALERTID":p("Alert ID: "),"ALERTCONF_ELSEVIER":p("Elsevier respects your privacy and does not disclose, rent or sell your personal information to any non-affiliated third parties without your consent, except as may be stated in the <a href=\"https://www.elsevier.com/locate/privacypolicy\">Online Privacy Policy<\/a> . By using the Scopus alerts, you are agreeing to abide by the <a href=\"https://www.elsevier.com/locate/termsandconditions\">Terms and Conditions<\/a> ."),"JS_MSG_ALERTS_UNSUBSCRIBE_INVALIS_EMAIL":p("An invalid e-mail address was entered in the E-mail Address field.\r\nPlease check and correct the following email address: {0}"),"ALERT_AUTHOR_HEADING":p("Scopus author citation alert"),"alert_my_list_delete":p("Delete"),"alert_error_delete_js":p("No Search Alerts were selected.\\r\\nPlease check one or more Search Alerts from the list below and click delete."),"ALERTTEXT_AUTHALERT":p("Author citation alert"),"ALERT_DOCUMENT_TEXT_CITE":p("Document Citation Alert for:"),"ALERTUNSUB_RECIPIENTDOC":p("Recipient has declined Document citation alert"),"SETALERT_LOGIN_COLLAPSE_LOGIN_OPT_TOOLTIP":p("Collapse options")})})();;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.error=({"js":{"message":{"search":{"syntax":{"clear":{"icon":p("Clear input field ")},"orcid":{"format":{"message":p("To search using ORCID, please use a 16 digit (alpha) numerical value.")}},"authorid":{"format":{"message":p("To search using AUTHORID, please use a 11 digit numerical value.")}}},"error":{"invalid":{"syntax":p("<span>The search contains a syntax error.<\/span>")}}}}}})})();function writeXmlHttpRequestCookie()
{var cookie=new Cookie("xmlHttpRequest");cookie.value=true;cookie.store(365,"/");}
jQuery(writeXmlHttpRequestCookie);function internalServerErrorHandler(request){if(request.getResponseHeader("sessionExpired")==="true")
{window.location="../standard/sessionexpired.uri";}}
function selectAllAlerts(form)
{var count=0;var check=form.selectAll.checked;for(var i=0;i<form.elements.length;i++)
{if(form.elements[i].name==="alerts")
{if(check&&form.elements[i].name!=="selectAll"&&form.elements[i].type==="checkbox"){form.elements[i].checked=true;count++;}else{form.elements[i].checked=false;}}}
if(check)
{form.deletecount.value=count.toString();}
else
{form.deletecount.value="0";}
return true;}
function updateCheckedCount(form,checkbox)
{var currentCount=parseInt(form.deletecount.value);if(checkbox.checked)
{currentCount++;var totalCount=parseInt(form.totalcount.value);if(totalCount===currentCount){form.selectAll.checked=true;}}
else
{currentCount--;if(form.selectAll.checked){form.selectAll.checked=false;}}
form.deletecount.value=currentCount.toString();}
function setDeleteBtnText(btn,text)
{btn.alt="Delete the "+btn.form.deletecount.value+" selected "+text+" alerts";btn.title="Delete the "+btn.form.deletecount.value+" selected "+text+" alerts";}
function validateDelete(form)
{var checkedCount=0;for(var i=0;i<form.elements.length;i++)
{if(form.elements[i].checked&&form.elements[i].name==="alerts")
{checkedCount++;}}
if(checkedCount==0)
{if(form.elements['type'].value==="document"){alert(messages.alert_cite_error_delete_js());}else if(form.elements['type'].value==="authcite"){alert(messages.alert_author_error_delete_js());}else{alert(messages.alert_error_delete_js());}
return false;}
else if(checkedCount==1)
{return confirm(messages.alert_message_delete_one_js());}
else
{return confirm(messages.alert_message_delete_many_js());}}
function toggleSubscriptionStatus(obj,discoveryEventID,status,discoveryEngineID){var closestUL=jQuery(obj).closest('li').parent();var url='/alert/submit/status.uri';var queryString="?discoveryEventID="+discoveryEventID+'&discoveryEngineID='+discoveryEngineID;url=url+queryString;$(obj).addClass('disabledLink');jQuery.ajax({url:url,type:"get",error:function(error){$(obj).removeClass('disabledLink');},success:function(){$(obj).removeClass('disabledLink');if(status==='Inactive'){closestUL.addClass('myAlertDisabled');obj.onclick=function(){toggleSubscriptionStatus(this,discoveryEventID,'Active',discoveryEngineID);};jQuery(obj).attr('title',alertProp.alert_my_list_status_active_alt());jQuery(obj).attr('aria-label',alertProp.alert_my_list_status_active());obj.innerHTML=alertProp.alert_my_list_status_active();}else{closestUL.removeClass('myAlertDisabled');obj.onclick=function(){toggleSubscriptionStatus(this,discoveryEventID,'Inactive',discoveryEngineID);};jQuery(obj).attr('title',alertProp.alert_my_list_status_inactive_alt());jQuery(obj).attr('aria-label',alertProp.alert_my_list_status_inactive());obj.innerHTML=alertProp.alert_my_list_status_inactive();}}});}
function toggleStatus(obj,alertID,status){var closestUL=jQuery(obj).closest('li').parent();var url='/alert/submit/status.uri';var queryString="?alerts="+alertID+"&status="+status+"";url=url+queryString;jQuery.ajax({url:url,type:"get",success:function(){if(status==='SA'){closestUL.addClass('myAlertDisabled');obj.onclick=function(){toggleStatus(this,alertID,'SI');};jQuery(obj).attr('title',alertProp.alert_my_list_status_inactive_alt());jQuery(obj).attr('aria-label',alertProp.alert_my_list_status_inactive_alt());obj.innerHTML=alertProp.alert_my_list_status_inactive();}else{closestUL.removeClass('myAlertDisabled');obj.onclick=function(){toggleStatus(this,alertID,'SA');};jQuery(obj).attr('title',alertProp.alert_my_list_status_active_alt());jQuery(obj).attr('aria-label',alertProp.alert_my_list_status_active_alt());obj.innerHTML=alertProp.alert_my_list_status_active();}}});}
jQuery('document').ready(function(){setinitialValuesonTextArea();if(jQuery("#confirmMsgContainer,#errorMsgContainer,#warningMsgContainer,#infoMsgContainer,#orcidErrorMsgContainer,#txtZoneInfoMsgContainer,#confirmMsgContainerDiv,#erroMsgDiv").length){jQuery('.ariaHidden').focus();}
if(jQuery('#showRemoteAccessLnk').length){setRemoteAccessLnk();}});function setinitialValuesonTextArea(){jQuery('#emailAddressTextarea').off('keydown').on('keydown',function(e){var textAr=jQuery('#emailAddressTextarea').val();if(e.which===186||e.which===59){insertAtCaret('emailAddressTextarea',';\n');jQuery('#emailAddressTextarea').val(textAr+';\n');jQuery('#emailAddressTextarea').attr('rows',Number(jQuery('#emailAddressTextarea').attr('rows'))+1);e.preventDefault();setSelectionRange(jQuery('#emailAddressTextarea')[0],jQuery('#emailAddressTextarea').val().length,jQuery('#emailAddressTextarea').val().length);}
if(e.which===13){if(textAr.substr(textAr.length-1,textAr.length)!==';'){jQuery('#emailAddressTextarea').val(jQuery('#emailAddressTextarea').val()+';');jQuery('#emailAddressTextarea').attr('rows',Number(jQuery('#emailAddressTextarea').attr('rows'))+1);}
setSelectionRange(jQuery('#emailAddressTextarea')[0],jQuery('#emailAddressTextarea').val().length,jQuery('#emailAddressTextarea').val().length);}
if(textAr.substr(textAr.length-1,textAr.length)===';'&&e.which===186){e.preventDefault();}});jQuery('#emailAddressTextarea').off('keyup').on('keyup',function(e){resizeTxtArea();});jQuery('#frequency').bind('change',function(){setFrequency('change');});jQuery('#alertfrequencymonth #dayOfUnit').bind('change',function(){if(jQuery('#frequency').parents('.listItemLinkRow').css('visibility')==="visible"){$('#frequency').parents('li.lstRowHover').addClass('listItemHover');$('#frequency').parents('li.lstRowHover').attr('data-hover','true');}});jQuery('#alertfrequency #dayOfUnit').bind('change',function(){if(jQuery('#frequency').parents('.listItemLinkRow').css('visibility')==="visible"){$('#frequency').parents('li.lstRowHover').addClass('listItemHover');$('#frequency').parents('li.lstRowHover').attr('data-hover','true');}});if(jQuery('#emailAddressTextarea')[0]){jQuery('body').append('<div class="hiddenDiv" style="position:absolute;display:none;z-index:-100;top:0;visibility:hidden;"></div>');setFrequency('');resizeTxtArea('load');}}
function setSelectionRange(input,selectionStart,selectionEnd){if(input.setSelectionRange){input.focus();input.setSelectionRange(selectionStart,selectionEnd);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(true);range.moveEnd('character',selectionEnd);range.moveStart('character',selectionStart);range.select();}}
function insertAtCaret(areaId,text){var txtarea=document.getElementById(areaId);var scrollPos=txtarea.scrollTop;var strPos=0;var br=((txtarea.selectionStart||txtarea.selectionStart==='0')?"ff":(document.selection?"ie":false));var range;if(br==="ie"){txtarea.focus();range=document.selection.createRange();range.moveStart('character',-txtarea.value.length);strPos=range.text.length;}else if(br==="ff")strPos=txtarea.selectionStart;var front=(txtarea.value).substring(0,strPos);var back=(txtarea.value).substring(strPos,txtarea.value.length);txtarea.value=front+text+back;strPos=strPos+text.length;if(br==="ie"){txtarea.focus();range=txtarea.createTextRange();range.collapse(true);range.moveStart('character',-txtarea.value.length);range.moveStart('character',strPos);range.moveEnd('character',0);range.select();}else if(br==="ff"){txtarea.selectionStart=strPos;txtarea.selectionEnd=strPos;txtarea.focus();}
txtarea.scrollTop=scrollPos;}
function resizeTxtArea(type){var content=jQuery('#emailAddressTextarea').val();if(type==='load'){content=content.replace(/;/g,";\n");}
jQuery('#emailAddressTextarea').val(content);content=content.replace(/\n/g,'<br>&nbsp;');jQuery('.hiddenDiv').html(content);jQuery('.hiddenDiv').css({'display':'block'});if(jQuery('.hiddenDiv').height()>=55){jQuery('#emailAddressTextarea').css('height',jQuery('.hiddenDiv').height());jQuery('.hiddenDiv').css({'display':'none'});jQuery('#emailAddressTextarea').height(jQuery('#emailAddressTextarea')[0].scrollHeight);}else{jQuery('#emailAddressTextarea').height("30px");}}
function confirmAlertDelete(obj){var msg=alertProp.alert_message_delete_specific_js(jQuery.trim(jQuery(obj).parents('tr.alertListData').find('td.dataCol3 div,td.dataCol11 div').text()));var del=confirm(msg);if(!del){return false;}}
function handleDropdown(destroyBoth,destroy,create){if(destroyBoth){jQuery.each(jQuery("#alertfrequency #dayOfUnit, #alertfrequencymonth #dayOfUnit"),function(){if(jQuery(jQuery(this).selector+"-button").length){jQuery(this).selectmenu('destroy');}});return;}
if(jQuery("#"+destroy+" #dayOfUnit-button").length){jQuery("#"+destroy+" #dayOfUnit").selectmenu('destroy');}
var classAppend='';var width='';if(create==="alertfrequencymonth"){classAppend="extraSmallSelect";width=70;}else if(create==="alertfrequency"){classAppend="smallSelect";width=150;}
jQuery("#"+create+" #dayOfUnit").selectmenu({icons:{button:'btn-primary btn-icon ico-navigate-down flexDisplay flexAlignCenter flexJustifyCenter'},classes:{'ui-selectmenu-button':classAppend,'ui-selectmenu-menu':classAppend},width:width,change:function(event,ui){event.stopPropagation();}});}
function setFrequency(evtType){var d=new Date();var currentDay=d.getDay();var currentDayofMonth=d.getDate();var currentdayforalerts=currentDay+1;if(evtType==='change'||jQuery("input[name='mode']").val()==='C'){jQuery('#alertfrequency option:selected').removeAttr('selected');jQuery("#alertfrequency option[value='"+currentdayforalerts+"']").attr('selected','selected');jQuery("#alertfrequencymonth option[value='"+currentDayofMonth+"']").attr('selected','selected');if(jQuery('#frequency').parents('.listItemLinkRow').css('visibility')==="visible"){$('#frequency').parents('li.lstRowHover').addClass('listItemHover');$('#frequency').parents('li.lstRowHover').attr('data-hover','true');}}
var frqVal;if(typeof ravenFeatureOn!=='undefined'){frqVal=jQuery('#frequency').val();if(frqVal==='DAY'){jQuery('#alertfrequency').hide();jQuery('#alertfrequencymonth').hide();}else if(frqVal==='WEEK'){jQuery('#alertfrequency').show();jQuery('#alertfrequencymonth').hide();jQuery('select',jQuery('#alertfrequency')).attr('name','dayOfUnit');jQuery('select',jQuery('#alertfrequencymonth')).attr('name','');}else if(frqVal==='MONTH'){jQuery('#alertfrequency').hide();jQuery('#alertfrequencymonth').show();jQuery('select',jQuery('#alertfrequency')).attr('name','');jQuery('select',jQuery('#alertfrequencymonth')).attr('name','dayOfUnit');}}else{frqVal=jQuery('#frequency').val();if(frqVal==='daily'){jQuery('#alertfrequency').hide();jQuery('#alertfrequencymonth').hide();}else if(frqVal==='weekly'||frqVal==='bi_weekly'){jQuery('#alertfrequency').show();jQuery('#alertfrequencymonth').hide();jQuery('select',jQuery('#alertfrequency')).attr('name','dayOfUnit');jQuery('select',jQuery('#alertfrequencymonth')).attr('name','');}else if(frqVal==='monthly'||frqVal==='ebi_monthly'||frqVal==='tri_monthly'||frqVal==='half_a_year'){jQuery('#alertfrequency').hide();jQuery('#alertfrequencymonth').show();jQuery('select',jQuery('#alertfrequency')).attr('name','');jQuery('select',jQuery('#alertfrequencymonth')).attr('name','dayOfUnit');}}}
function validateAction(form,action)
{if(action==='inactivate'){return confirm(alertProp.alert_error_inactivate_js());}else if(action==='delete'){return confirm(alertProp.alert_message_delete_one_js());}else{return false;}}
jQuery('a#searchAnchor').click(function(e){if(jQuery('div#searchAlertsDiv').is(':visible')){e.preventDefault();jQuery('html, body').animate({scrollTop:150},0);}});jQuery('a#authorAnchor').click(function(e){if(jQuery('div#authorAlertsDiv').is(':visible')){e.preventDefault();jQuery('html,body').animate({scrollTop:jQuery('div#authorAlertsDiv').offset().top-150},0);}});jQuery('a#docAnchor').click(function(e){if(jQuery('div#docAlertsDiv').is(':visible')){e.preventDefault();jQuery('html,body').animate({scrollTop:jQuery('div#docAlertsDiv').offset().top-150},0);}});jQuery.fn.outerHTML=function(s){if(this.length===0)return false;var elem=this[0],name=elem.tagName.toLowerCase();if(elem.outerHTML)return elem.outerHTML;var attrs=jQuery.map(elem.attributes,function(i){return i.name+'="'+i.value+'"';});return"<"+name+(attrs.length>0?" "+attrs.join(" "):"")+">"+elem.innerHTML+"</"+name+">";};function setRemoteAccessLnk(){var getRemoteAccessLnk=jQuery('a#logout-remote-access').parent().outerHTML();jQuery('#showRemoteAccessLnk').html(getRemoteAccessLnk);}
var CitOver={currentPage:'',sourceInfoId:'',addLoadingImage:function(){showLoading();},validateYearRange:function(){jQuery('#ctoWarningErrorContainer').remove();var startYear=jQuery('#startYear').val();var endYear=jQuery('#endYear').val();if(parseInt(startYear)>parseInt(endYear))
{CitOver.removeMessages();var yearDiffWaring=jQuery('<div>').attr({'id':'warningMsgContainer','class':'alert alert-danger','role':'alert','aria-live':'assertive'});yearDiffWaring.html('<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');yearDiffWaring.append('<p>'+messages.YEAR_RANGE_REVERSE_SELECTION()+'</p>');var yearDiffWaringContainer=jQuery('<div>').attr({'id':'ctoWarningErrorContainer','role':'alert'});yearDiffWaringContainer.html(yearDiffWaring).appendTo("#alertArea");jQuery(document).scrollTop('#ctoWarningErrorContainer');return false;}
if((parseInt(endYear)-parseInt(startYear))>maxYearRange)
{CitOver.removeMessages();var yearDiffWaring=jQuery('<div>').attr({'id':'warningMsgContainer','class':'alert alert-danger','role':'alert','aria-live':'assertive'});yearDiffWaring.html('<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');yearDiffWaring.append('<p>'+messages.SELECTED_YEAR_MORE(maxYearRange,maxYearRange)+'</p>');var yearDiffWaringContainer=jQuery('<div>').attr({'id':'ctoWarningErrorContainer','role':'alert'});yearDiffWaringContainer.html(yearDiffWaring).appendTo("#alertArea");jQuery(document).scrollTop('#ctoWarningErrorContainer');return false;}
return true;},submitForm:function(){jQuery('docsPerPage').val(docs_per_page);},viewCitationOverviewSearchResults:function(){jQuery('form[name=SearchResultsForm] input[name=clickedLink]').val('CTOListButton');jQuery('form[name=SearchResultsForm] input[name=rebrandResultsPage]').val(true);CitOver.currentPage='searchResults';CitOver.addLoadingImage();var frm=jQuery('#searchResFormId');jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),dataType:"text",data:frm.serialize(),success:function(data,status,xhr){hideLoading();var responseText=xhr.responseText;if(responseText.indexOf("Timeou")!==-1){location.reload();}else{jQuery("#loadingModal").off('hidden.bs.modal').on('hidden.bs.modal',function(){CitOver.confirmCTOOrBigCTO(data);});}}});},viewCitationOverviewAuthorDetails:function(clickedObj){CitOver.currentPage='authorDetails';CitOver.addLoadingImage();var ctoHrefId='#cto2Href';if(clickedObj=='grouped'){ctoHrefId='#groupedCTO2Href';}
var authorCTOURL=jQuery(ctoHrefId).html();authorCTOURL=authorCTOURL.replace(/&amp;/g,'&');jQuery.ajax({url:authorCTOURL,type:'GET',success:function(data){window.location=data.url;}});},ViewCitationOverviewAuthorResults:function(){jQuery('form[name=AuthorLookupResultsForm] input[name=rebrandResultsPage]').val(true);CitOver.currentPage='authorResults';CitOver.addLoadingImage();var frm=jQuery('#authorResultsFormId');frm.find('input[name=clickedLink]').val('CitationOverviewButton');jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),dataType:"text",data:frm.serialize(),success:function(data,status,xhr){hideLoading();var responseText=xhr.responseText;if(responseText.indexOf("Timeou")!==-1){location.reload();}else{jQuery("#loadingModal").off('hidden.bs.modal').on('hidden.bs.modal',function(){CitOver.confirmCTOOrBigCTO(data);});}}});},ViewCitationOverviewSourceInfo:function(event){CitOver.currentPage='sourceInfo';event.preventDefault();var sourceId=event.target.id;CitOver.sourceInfoId=sourceId;CitOver.addLoadingImage();var sourceURL=jQuery('#'+sourceId).attr('data');sourceURL=sourceURL+"&rebrandResultsPage=true"
jQuery.ajax({url:sourceURL,type:'GET',success:function(data){hideLoading();jQuery("#loadingModal").off('hidden.bs.modal').on('hidden.bs.modal',function(){if(!jQuery.isPlainObject(data)){CitOver.confirmCTOOrBigCTO(data);}else{window.location=data.url;}});}});},bigCTORequestSubmit:function(event){var errorOccured=CitOver.bigCTOFormValidation();if(errorOccured){jQuery('form[name=CTOBatchRequestForm] input[name=clickedLink]').val('REQUEST');var emailObj=jQuery("#emailCTO");emailObj.val(emailObj.val().replace(/\s/g,''));var frm=jQuery('#batchRequestForm');jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),dataType:"text",data:frm.serialize(),success:function(data){var bigCTOConfMess=jQuery('#bigCTOConfirmationMessage').html();bigCTOConfMess=bigCTOConfMess.replace('{0}',emailObj.val());var addTo='';if(CitOver.currentPage=='sourceInfo'){addTo='jnlMetricPageAlertArea';}else if(CitOver.currentPage=='searchResults'||CitOver.currentPage=='authorResults'){addTo='resultsPageAlertArea';}else{addTo='alertArea';}
CitOver.buildConfirmationMessage(addTo,bigCTOConfMess);}});jQuery('#dialogBigCTOModal').modal('hide');}
return false;},closeBigCTODialog:function(event){jQuery('form[name=SearchResultsForm] input[name=clickedLink]').val('');jQuery('form[name=AuthorLookupResultsForm] input[name=clickedLink]').val('');var frm=jQuery('#updateOverviewForm');if(frm.length>0){jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),dataType:"text",data:frm.serialize(),async:false,success:function(response){CitOver.ctoPageReset(jQuery.parseJSON(response).sucess);}});}
jQuery('#dialogBigCTOModal').modal('hide');jQuery('#dialogBigCTO').addClass('displayNone');if(event.target.id=='closeBigCTODialog'){event.preventDefault();if(CitOver.currentPage=='searchResults'){jQuery('#ctoDocResultLink').focus();}else if(CitOver.currentPage=='authorResults'){jQuery('#ctoAuthorResultLink').focus();jQuery('#dialogBigCTOModal').addClass('displayNone');}}},bigCTOFormValidation:function(){var notErrorOccurred=true;CitOver.removeMessages();notErrorOccurred=CitOver.emailValidation('bigCTOErrorDiv');var startYear=jQuery('#startYearDial').val();var endYear=jQuery('#endYearDial').val();var maxYearRange=parseInt(jQuery('#maxYearRange').html());var isYearNotValid=false;var yearErrorMessage;if(startYear>endYear){yearErrorMessage=jQuery('#yearRangeReverseSelection').html();notErrorOccurred=false;isYearNotValid=true;}else if(endYear-startYear>maxYearRange){yearErrorMessage=jQuery('#yearRangeSelectedMore').html();notErrorOccurred=false;isYearNotValid=true;}
if(isYearNotValid){var yearWarningMessage=jQuery('<div>').attr({'id':'warningMsgContainer','class':'alert alert-danger'});yearWarningMessage.html('<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');yearWarningMessage.append('<p>'+yearErrorMessage+'</p>');jQuery('#bigCTOErrorDiv').append(yearWarningMessage);}
return notErrorOccurred;},ctoPageReset:function(data){var params=CitOver.getLongLoadingParams();showLoading();data.isPageReset=true;jQuery("#startYear option[value="+start_year+"]").attr("selected","selected");jQuery('span#startYear-button ui-selectmenu-text').attr('data-val',start_year).html(start_year);jQuery("#endYear option[value="+end_year+"]").attr("selected","selected");jQuery('span#endYear-button ui-selectmenu-text').attr('data-val',end_year).html(end_year);jQuery("#updateOverviewBox input:checkbox:checked").click();CitOver.ctoPageLoading(data);if(data.excludeAuthors){jQuery("#excludeAuthorsBox").prop("checked",true);selectSelfBox();}
else if(data.excludeArticleAuthors){jQuery("#excludeArticleAuthorsBox").prop("checked",true);selectAllBox();}
else if(data.excludeBooks){jQuery("#excludeBooksBox").prop("checked",true);selectBooksBox();}},emailValidation:function(){var isValid=true;var emailAddress=jQuery("#emailCTO").val();emailAddress=emailAddress.replace(/;/g,',');var multipleMailAddress=emailAddress.split(',');var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;var msg=jQuery('#emailValidationError').html();jQuery.each(multipleMailAddress,function(index,mail){var mailId=mail.trim();var noOfAt=(mailId.match(/@/g)||[]).length;if(!assertNotEmptyString(mailId)||noOfAt!==1||!mailformat.test(mailId)){isValid=false;return false;}});if(isValid){return true;}else{CitOver.removeMessages();var emailMessage=jQuery('<div>').attr({'id':'errorMsgContainer','class':'alert alert-danger'});emailMessage.html('<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');emailMessage.append('<p>'+msg+'</p>');jQuery('#bigCTOErrorDiv').append(emailMessage);return false;}},removeMessages:function(){var errorMessage=jQuery('#errorMsgContainer');if(errorMessage.length>0){jQuery(errorMessage).remove();}
var warningMessageObj=jQuery('#warningMsgContainer');if(warningMessageObj.length>0){jQuery(warningMessageObj).remove();}
var confirmationMessage=jQuery('#confirmMsgContainer');if(confirmationMessage.length>0){jQuery(confirmationMessage).remove();}
var errorContainerSer=jQuery('#cto_server_messages');if(errorContainerSer.length>0){jQuery(errorContainerSer).remove();}
var errorContainerBigCTO=jQuery('#bigCTORequestExceeded');if(errorContainerBigCTO.length>0){jQuery(errorContainerBigCTO).remove();}
var errorContainer=jQuery('.alert');if(errorContainer.length>0){jQuery(errorContainer).remove();}},confirmCTOOrBigCTO:function(data){if(data.indexOf('CTOBatchRequestForm')>-1){jQuery('#dialogBigCTO').html('');jQuery('#dialogBigCTO').append(data);jQuery('#dialogBigCTO').removeClass("displayNone");jQuery("#dialogBigCTOModal").modal();jQuery('select.citationYearSelect').selectmenu({icons:{button:'btn-primary btn-icon ico-navigate-down'},classes:{'ui-selectmenu-menu':'smallSelect'},width:150});}else if(data.indexOf('bigCTORequestExceeded')>-1){var bigCTORequestExceededMessage=jQuery('<div>').attr({'id':'bigCTORequestExceededContainer','class':'alert alert-danger'});bigCTORequestExceededMessage.append('<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');bigCTORequestExceededMessage.append(jQuery(data));CitOver.removeMessages();var addTo='';if(CitOver.currentPage=='sourceInfo'){addTo='jnlMetricPageAlertArea';}else if(CitOver.currentPage=='searchResults'){addTo='resultsPageAlertArea';}else if(CitOver.currentPage=='authorResults'){addTo='authorResultsFormId';}else{addTo='alertArea';}
jQuery('#'+addTo).html(bigCTORequestExceededMessage);}
else{var jsonObject=jQuery.parseJSON(data);window.location=jsonObject.url;}},dialogCloseEvent:function(){if(isIE8){jQuery("#outerWrapper").removeClass('bigCTOOverlay');}},drawHighChart:function(chartResponse){var chartArray=[];for(var x=0;x<chartResponse.length;x++){chartArray.push(jQuery.parseJSON(chartResponse[x]));}
jQuery('#highChart').highcharts({title:{text:'',style:{'display':'none'}},accessibility:{keyboardNavigation:{skipNullPoints:true}},chart:{type:'line',height:'15%',description:'This is a description of what the chart is displaying so that the screen reader will read this out.'},tooltip:{formatter:function(){var s=this.x;jQuery.each(this.points,function(i,point){s='<div class="chartTooltipWraper"><div class="primInfoToolTip">'+s+'</div><div class="secInfoToolTip">'+point.y+' '+messages.JS_MSG_HIGHCHART_Y_TITLE()+'</div>'+'<div class="clktoViewTooltip">'+messages.JS_CTO_CHART_DATA_INS_TOOLTIP()+'</div></div>';});return s;},shared:true,useHTML:true},exporting:{enabled:false},yAxis:{showFirstLabel:true,showLastLabel:true,title:{text:messages.JS_MSG_HIGHCHART_Y_TITLE()},labels:{formatter:function(){if((this.isFirst==true)||(this.isLast==true))
{return this.value;}}}},xAxis:{categories:['abc'],title:{text:messages.JS_MSG_HIGHCHART_X_TITLE()},tickInterval:1,labels:{formatter:function(){return this.value;},description:'This is the xAxis description'}},series:[{data:chartArray,point:{events:{click:function(){var someURL=this.options.url;if(someURL&&this.y!=0){window.open(someURL,"_self");}}}}}],credits:{enabled:false},legend:{enabled:false}});},exportConfirmation:function(){CitOver.removeMessages();var exportConfirmationMess=messages.EXPORT_SUCESS_MSG();CitOver.buildConfirmationMessage('cto_messages',exportConfirmationMess);},buildConfirmationMessage:function(appendTo,message){var bigCTOConfirmation=jQuery('<div>').attr({'id':'confirmMsgContainer','class':'alert alert-success'});bigCTOConfirmation.append('<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');bigCTOConfirmation.append('<p>'+message+'</p>');jQuery('#'+appendTo).html(bigCTOConfirmation);if(typeof CitOver.currentPage!=='undefined'&&CitOver.currentPage==='sourceInfo'){var confObj=jQuery('#confirmMsgContainer');confObj.append("<a title='close' aria-label='close' data-dismiss='alert' class='iconSmall close' href='#'><span class='hidden-label'>Close</span>&nbsp;</a>");confObj.addClass('alert');}},jumpToPageNumericValidation:function(e){var isNS=(navigator.appName=="Netscape")?1:0;var key;if(!isNS){key=e.keyCode;}else{key=e.which;}
if(key==8||key==0||key==9){return true;}else if(key>47&&key<58){return true;}else if(key==13){var pageVal=jQuery('#pageStatus').val();if(pageVal==''){return false;}
pageVal=parseInt(pageVal);var totalPageNumber=Math.ceil(number_of_docs/docs_per_page);if(totalPageNumber<=1){return false;}
var currPage=jQuery('#pageStatus').attr('data-value');if(currPage==pageVal){return false;}
if(pageVal>=totalPageNumber){pageVal=totalPageNumber-1;}
else{pageVal=pageVal-1;}
if(pageVal<=0){pageVal=0;}
var newOffset=pageVal*docs_per_page;updateDetails(newOffset,docs_per_page);var maxNumberInpage=newOffset+docs_per_page;if(maxNumberInpage>999){jQuery('#detailsHeaderLeftColumn').css('width','478px');}else if(maxNumberInpage>99){jQuery('#detailsHeaderLeftColumn').css('width','471px');}else{if(docs_per_page>99&&number_of_docs>99){jQuery('#detailsHeaderLeftColumn').css('width','471px');}else{jQuery('#detailsHeaderLeftColumn').css('width','464px');}}}
return false;},updatePagination:function(offset,docs_per_page,number_of_docs){var calPageNumber=Math.round(offset/docs_per_page)+1;jQuery('#pageStatus').attr('data-value',calPageNumber);jQuery('#pageStatus').val(calPageNumber);jQuery('#totalPages').html('/ '+Math.ceil(number_of_docs/docs_per_page));},sortNavItemClick:function(event){event.preventDefault();var selectedNav=event.target.id;CitOver.sortFieldSub(selectedNav,'sort',document.CTOForm);Bubble.forceHideAll(event);return false;},sortFieldSub:function(sortValue,sortFieldName,form){jQuery("#sortType").val(sortValue);jQuery('#startYear').val(start_year);jQuery('#endYear').val(end_year);jQuery("form[name='CTOForm'] input[name='excludeArticleAuthors']").val(all_author_exclusion?'on':'off');jQuery("form[name='CTOForm'] input[name='excludeBooks']").val(books_exclusion?'on':'off');jQuery("form[name='CTOForm'] input[name='excludeAuthors']").val(author_self_citation?'on':'off');jQuery('#sortMainNav').remove();jQuery('#showSortBubble-data').remove();CitOver.ctoUpdateEvent(false);},docSortInit:function(){var plf_f_Value=ctoDocSort?ctoDocSort.CTOSORT_FIELD_DATENEW():"";var plf_f_title=ctoDocSort?ctoDocSort.CTOSORT_FIELD_DATENEW_TITLE():"";var cp_f_Value=ctoDocSort?ctoDocSort.CTOSORT_FIELD_CITEDBYDES():"";var cp_f_title=ctoDocSort?ctoDocSort.CTOSORT_FIELD_CITEDBYDES_TITLE():"";var plf_t_Value=ctoDocSort?ctoDocSort.CTOSORT_FIELD_DATEOLD():"";var plf_t_title=ctoDocSort?ctoDocSort.CTOSORT_FIELD_DATEOLD_TITLE():"";var lfp_t_Value=ctoDocSort?ctoDocSort.CTOSORT_FIELD_CITEDBYASC():"";var lfp_t_title=ctoDocSort?ctoDocSort.CTOSORT_FIELD_CITEDBYASC_TITLE():"";var docSortSelect=jQuery("#navLoad");docSortSelect.append('<option value="pubyearDescend">'+plf_f_Value+'</option>').append('<option value="pubyearAscend">'+plf_t_Value+'</option>').append('<option value="citationDescend">'+cp_f_Value+'</option>').append('<option value="citationAscend">'+lfp_t_Value+'</option>');var selectedNav=jQuery("#sortType").val();docSortSelect.val(selectedNav);jQuery('select#navLoad').selectmenu({change:function(event,ui){CitOver.sortFieldSub(jQuery(event.target).val(),'sort',document.CTOForm);CitOver.createPagination(number_of_docs,docs_per_page,1)}}).selectmenu("refresh");},totalLoadingImageAndTable:function(){},init:function(){if(jQuery("#detailsTableWrapper").length!=0){CitOver.totalLoadingImageAndTable();}
jQuery('#batchRequest').live('click',CitOver.bigCTORequestSubmit);jQuery('#closeBigCTODialog').live('click',function(e){jQuery('#dialogBigCTOModal').modal('hide');});if(typeof originVal!="undefined"&&originVal!=''&&originVal!='null'){if(originVal==='sourceinfo'){jQuery('.sourceInfoDataCol3 a').live('click',function(event){if(!jQuery(this).hasClass('previewLink')){CitOver.ViewCitationOverviewSourceInfo(event);}});}
if(originVal==='cto'){jQuery('#CTOExport').live('click',CitOver.exportConfirmation);jQuery('input.paginationNum').live('focus',function(){jQuery('span.paginationTxt').css({'visibility':'hidden'});jQuery('input.paginationNum').val('');}).bind('blur',function(){jQuery('span.paginationTxt').css({'visibility':'visible'});jQuery('input.paginationNum').val(jQuery(this).attr('data-value'));});CitOver.docSortInit(false);}}
jQuery('#pageStatus').keypress(CitOver.jumpToPageNumericValidation);jQuery('select.selectMenu').selectmenu({appendTo:jQuery(this).next()});jQuery('body #CTOWrapper').die("click").on('click',function(e){Bubble.hideAll(e);});jQuery('#cto_details_table tr.columnCTO a').live('focus',function(e){jQuery(e.currentTarget).closest('tbody').find('tr').removeClass('columnCTOFocus');jQuery(e.currentTarget).closest('tr').addClass('columnCTOFocus');});jQuery('#cto_details_table tr.columnCTO').live('hover',function(e){jQuery(e.currentTarget).closest('tbody').find('tr').removeClass('columnCTOFocus');});jQuery('body').off("input.emailCTO").on('input.emailCTO','input[name="emailAddress"]',function(){if(jQuery('input[name="emailAddress"]').val()==""){jQuery('input[name="sendBatchCTOButton"]').attr('aria-disabled','true');jQuery('input[name="sendBatchCTOButton"]').attr('disabled',true);}
else{jQuery('input[name="sendBatchCTOButton"]').attr('aria-disabled','false');jQuery('input[name="sendBatchCTOButton"]').attr('disabled',false);}});jQuery("body").on("hidden.bs.modal","#dialogBigCTOModal",function(event){CitOver.closeBigCTODialog(event);jQuery('#dialogBigCTOModal').addClass('displayNone');});},ctoUpdateEvent:function(isUpdate){var isYearValid=false;CitOver.totalLoadingImageAndTable();if(isUpdate){if(!jQuery('#exportButtonOn').hasClass('hidden')){jQuery('#exportButtonOn').addClass("hidden");jQuery('#exportButtonOff').removeClass("hidden");}
isYearValid=CitOver.validateYearRange();}
if((isYearValid&&isUpdate)||!isUpdate){totalRowChart=false;drawTableContent=false;isAjaxUpdateBtn=true;toggleButton('updateOverviewButton',false);var params=CitOver.getLongLoadingParams();showLoading();var frm=jQuery('#updateOverviewForm');jQuery.ajax({url:frm.attr('action')+"&rebrandResultsPage=true",type:frm.attr('method'),data:frm.serialize(),success:function(response){if(!jQuery.isPlainObject(response)){CitOver.confirmCTOOrBigCTO(response);toggleButton('updateOverviewButton',true);hideLoading();}else{if(response.hasOwnProperty("sucess")){if(jQuery('#ctoWarningErrorContainer').length>0){jQuery('#ctoWarningErrorContainer').remove();}
if(jQuery('#bigCTORequestExceeded').length>0){jQuery('#bigCTORequestExceeded').remove();}
if(jQuery('#confirmMsgContainer').length>0){jQuery('#confirmMsgContainer').remove();}
var data=response.sucess;CitOver.createPagination(number_of_docs,docs_per_page,1);CitOver.ctoPageLoading(data);}else{if(jQuery('#ctoWarningErrorContainer').length>0){jQuery('#ctoWarningErrorContainer').remove();}
var data=response.failure;jQuery('select#navLoad').html('');jQuery("#sortType").val(data.sortOption);CitOver.docSortInit();CitOver.createPagination(number_of_docs,docs_per_page,1);CitOver.ctoPageLoading(data);var errMsgKey=data.errorMessage;var errMsg=ctoDoc[errMsgKey]();var errorMsgDivObj=jQuery('<div>').attr({'id':'warningMsgContainer','class':'alert alert-danger','role':'alert','aria-live':'assertive'});errorMsgDivObj.html('<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');errorMsgDivObj.append('<span class="ariaHidden">Warning message</span>');errorMsgDivObj.append('<span>'+errMsg+'</span>');var errorWarningContainer=jQuery('<div>').attr({'id':'ctoWarningErrorContainer','role':'alert','aria-live':'assertive'});errorWarningContainer.html(errorMsgDivObj).appendTo("#alertArea");jQuery(document).scrollTop('#ctoWarningErrorContainer');}}},failure:function(){if(typeof console!="undefined"){console.log('Some problem occured while making ajax');}}});}},selectIndividualRecord:function(){var pages=number_of_docs/docs_per_page;var arraySelected=jQuery("input[name='selectedCTORow']:checked");if(arraySelected.length>0){jQuery("#removeCitationRecords").attr("disabled",false);}else{jQuery("#removeCitationRecords").attr("disabled",true);}
if(number_of_docs===1){jQuery("#removeCitationRecords").attr("disabled",true);jQuery("#pageCheckBoxCTO").attr("disabled",true);}
if(pages<=1){jQuery("#pageCheckBoxCTO").attr("disabled",true);}else{jQuery("#pageCheckBoxCTO").attr("disabled",false);if(arraySelected.length===jQuery("input[name='selectedCTORow']").length){jQuery('#pageCheckBoxCTO').attr('checked',true);}else{jQuery('#pageCheckBoxCTO').attr('checked',false);}}
var eidArray=jQuery("input[name='selectedCTORow']:checked");var checkTag=(eidArray.length==number_of_docs)?true:false;if(number_of_docs>1&&pages<=1&&eidArray.length>0&&!checkTag){jQuery("#removeCitationRecords").attr("disabled",false);}else if(checkTag){jQuery("#removeCitationRecords").attr("disabled",true);}},ctoSelectDeselectEvent:function(eid,stateKey,origin,authProfileOrgStatus){var inputValue=jQuery("input[name=selectedCTORow]").val();if(jQuery('#pageCheckBoxCTO').attr('checked')){for(i=1;i<=docs_per_page;i++){jQuery("#pageCheckBoxCTORow_"+parseInt(inputValue)).attr("checked",true);inputValue++;}
jQuery("#removeCitationRecords").attr("disabled",false);}
if(!jQuery('#pageCheckBoxCTO').attr('checked')){for(i=1;i<=docs_per_page;i++){jQuery("#pageCheckBoxCTORow_"+parseInt(inputValue)).attr("checked",false);inputValue++;}
jQuery("#removeCitationRecords").attr("disabled",true);}},ctoDeleteEvent:function(eid,stateKey,origin,authProfileOrgStatus){var selecteInputArray=jQuery("input[name='selectedCTORow']:checked");var deleteString="";jQuery.each(selecteInputArray,function(index,selectedElement){deleteString+=jQuery(selectedElement).attr("data-eid");deleteString+=',';});var action="/cto2/delete.uri?stateKey="+stateKey+"&origin="+origin+"&eidDeleteArray="+deleteString;if(authProfileOrgStatus=="true"){action=action+"&authorProfileOrigin=true"}
var params=CitOver.getLongLoadingParams();showLoading();jQuery.ajax({url:action,type:"GET",success:function(response){if(response.hasOwnProperty("sucess")){if(jQuery('#ctoWarningErrorContainer').length>0){jQuery('#ctoWarningErrorContainer').remove();}
if(jQuery('#bigCTORequestExceeded').length>0){jQuery('#bigCTORequestExceeded').remove();}
if(jQuery('#confirmMsgContainer').length>0){jQuery('#confirmMsgContainer').remove();}
var data=response.sucess;CitOver.updateCitedCount(data.numberOfDocs,data.stateKey);CitOver.ctoPageLoading(data);}else{if(jQuery('#ctoWarningErrorContainer').length>0){jQuery('#ctoWarningErrorContainer').remove();}
var data=response.failure;CitOver.updateCitedCount(data.numberOfDocs,data.stateKey);jQuery("#sortType").val(data.sortOption);jQuery('select#navLoad').html('');CitOver.docSortInit();CitOver.ctoPageLoading(data);var errMsgKey=data.errorMessage;var errMsg=ctoDoc[errMsgKey]();var errorMsgDivObj=jQuery('<div>').attr({'id':'warningMsgContainer','class':'alert alert-danger','role':'alert'});errorMsgDivObj.html('<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');errorMsgDivObj.append('<span class="ariaHidden">Warning message</span>');errorMsgDivObj.append('<span>'+errMsg+'</span>');var errorWarningContainer=jQuery('<div>').attr({'id':'ctoWarningErrorContainer','role':'alert'});errorWarningContainer.html(errorMsgDivObj).appendTo("#alertArea");jQuery(document).scrollTop('#ctoWarningErrorContainer');}},failure:function(){if(typeof console!="undefined"){console.log('Some problem occured while making ajax');}}});},updateCitedCount:function(updatedCiteDocs,stateKeyData){var fromPage=jQuery('.citedCountCTO').attr("data-fromPage");switch(fromPage){case'browseSource':jQuery('.citedCountCTO').text(messages.HEAD_THIS_IS_A_46(updatedCiteDocs));break;case'docResults':jQuery('.citedCountCTO').text(messages.HEAD_THISISA_46(updatedCiteDocs));break;case'authResAnalyzeRes':jQuery('.citedCountCTO').text(updatedCiteDocs+' '+messages.MAIN_CITEDDO_68());break;case'authorProfile':jQuery('.citedCountCTO').text(updatedCiteDocs+' '+messages.MAIN_CITEDDO_68());break;default:if(typeof console!='undefined'){console.log('CTO from page undefined');}}
if(jQuery('#hirschButton').length){var hGraphUrl='/cto2/hirsch.uri?stateKey='+stateKeyData+'&amp;documentCount='+updatedCiteDocs;jQuery('#hirschButton').attr('href',hGraphUrl);}},ctoPageLoading:function(data){ctoId=data.ctoId;state_key=data.stateKey;start_year=data.startYear;end_year=data.endYear;latest_year=data.latestYear;all_author_exclusion=data.excludeArticleAuthors;author_self_citation=data.excludeAuthors;books_exclusion=data.excludeBooks;offset=data.offset;number_of_docs=data.numberOfDocs;maxDocNumberForClickableTotals=data.maxNumberForClickableTotals;CitOver.ctoUpdateFormRefresh(data);var ctoDetails=jQuery.get('/cto2/getdetails.uri',{'ctoId':ctoId,'stateKey':state_key,'startYear':start_year,'endYear':end_year,'docsPerPage':docs_per_page,'offset':offset,'usageKELogging':false,'authorProfileOrigin':isAuthorProfileOrigin});ctoDetails.done(function(response){jQuery("#cto_details_table").html(response);onSuccessDetails(response);jQuery('#pageCheckBoxCTO').attr('checked',false);CitOver.selectIndividualRecord();CitOver.createPagination(number_of_docs,docs_per_page,(offset/docs_per_page)+1);}).always(function(response,status,jqXHR){onCompleteDetails(response,status);hideLoading();});retrieveSummary(freq);if(!data.hasOwnProperty("isPageReset")){CitOver.updateCitationYearHdr();}
CitOver.confirmMsgForExclusion(data);},ctoUpdateFormRefresh:function(data){jQuery("#startYear option[value="+start_year+"]").attr("selected","selected");jQuery('span#startYear-button ui-selectmenu-text').attr('data-val',start_year).html(start_year);jQuery("#endYear option[value="+end_year+"]").attr("selected","selected");jQuery('span#endYear-button ui-selectmenu-text').attr('data-val',end_year).html(end_year);jQuery("#excludeAuthorsBox").prop("checked",author_self_citation);selectSelfBox();jQuery("#excludeArticleAuthorsBox").prop("checked",all_author_exclusion);selectAllBox();jQuery("#excludeBooksBox").prop("checked",books_exclusion);selectBooksBox();},confirmMsgForExclusion:function(data){var confirmMsgContainer=jQuery('<div>').attr({'id':'confirmMsgContainer','class':'alert alert-success','role':'alert','aria-live':'assertive'});var confirmMessage='<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>';if(data.excludeArticleAuthors==true){var errMsgExcludeArticleAuthors=ctoDoc['JS_MSG_HEAD_SELFCIT_49']();confirmMsgContainer.html(confirmMessage+'<span>'+errMsgExcludeArticleAuthors+'</span>');jQuery('#messagePH').html(confirmMsgContainer);}
else if(data.excludeBooks==true){var errMsgExcExcludeBooks=ctoDoc['JS_MSG_BOOKS_SELECT_MESSAGE']();confirmMsgContainer.html(confirmMessage+'<span>'+errMsgExcExcludeBooks+'</span>');jQuery('#messagePH').html(confirmMsgContainer);}
else if(data.excludeAuthors==true){var errMsgExcExcludeAuthors=ctoDoc['JS_MSG_HEAD_AREEXCL_51']();confirmMsgContainer.html(confirmMessage+'<span>'+errMsgExcExcludeAuthors+'</span>');jQuery('#messagePH').html(confirmMsgContainer);}},updateCitationYearHdr:function(){var ltYear=jQuery('.setSelectedYear');var gtYear=jQuery('.subtotalCellCto');if(latest_year==start_year){var selectedYear=start_year-1;jQuery('.previousYearsHeader').html('&le;'+selectedYear);}
else{jQuery('.previousYearsHeader').html('&lt;'+start_year);}
jQuery('.ctoHdrYrRange').remove();var objDiv=jQuery('<div>');var objTh=jQuery('<th>',{'class':'alignRight ctoHdrYrRange'});for(var i=start_year;i<=end_year;i++){var objSpan='';if(latest_year==end_year&end_year==i){var yr=latest_year-1;var grtYr='>'+yr;objSpan=jQuery('<span>',{'class':'yearTotal','html':grtYr});}else{objSpan=jQuery('<span>',{'class':'yearTotal','html':i});}
objDiv.append(objTh.clone().append(objSpan));}
jQuery(objDiv.html()).insertAfter(ltYear);jQuery('.selectedEndYear').remove();if(latest_year!=end_year){var objDivOuter=jQuery('<div>');var objTotalOuterTh=jQuery('<th>',{'class':'alignRight selectedEndYear'});var objTotalSpan=jQuery('<span>',{'class':'laterYearsHeader','html':'&gt;'+end_year});objDivOuter.append(objTotalOuterTh.append(objTotalSpan));jQuery(objDivOuter.html()).insertAfter(gtYear);}},getLongLoadingParams:function(){return{"loadingText1":ctoDoc.JS_MSG_CTO_UPDATING(),"loadingText2":ctoDoc.JS_MSG_CTO_LONGLOADING(),"loadDivContainer":"ctoDateSec"};},createPagination:function(numberOfDocs,recordsPerPage,currentValue){CitOver.selectIndividualRecord();jQuery("#currentPage").val(currentValue);jQuery("ul.pagination").html("");var offset=(currentValue*recordsPerPage)-(2*recordsPerPage)+1;var finalPagePagination="";if(numberOfDocs>2000){finalPagePagination=2000/recordsPerPage;}
else if(numberOfDocs<=2000){finalPagePagination=parseInt((numberOfDocs/recordsPerPage)+((numberOfDocs/recordsPerPage)%1==0?0:1));}
if(!(offset==""||offset==0||offset<0)){if(currentValue>5){var ppb=jQuery("li.previousPreviousButton").html();jQuery("ul.pagination").append(ppb);}
var pb=jQuery("li.previousButton").html();jQuery("ul.pagination").append(pb);}
if(finalPagePagination<=5){if(finalPagePagination==0&&numberOfDocs<recordsPerPage){jQuery("ul.pagination").append("<li><a data-value='1' href='#' onClick='CitOver.navigate(1)'>1</a></li>");}else{for(var i=1;i<=finalPagePagination;i++){jQuery("ul.pagination").append("<li><a data-value='"+i+"' href='#' onClick='CitOver.navigate("+i+")'>"+i+"</a></li>");}}}else if(finalPagePagination>5&&currentValue<5){for(var i=1;i<=5;i++){jQuery("ul.pagination").append("<li><a data-value='"+i+"' href='#' onClick='CitOver.navigate("+i+")'>"+i+"</a></li>");}
jQuery("ul.pagination").append("<li>...</li>");jQuery("ul.pagination").append("<li><a data-value='"+finalPagePagination+"' href='#' onClick='CitOver.navigate("+finalPagePagination+")'>"+finalPagePagination+"</a></li>");}else if(finalPagePagination>5&&currentValue>4&&currentValue<=finalPagePagination-4){jQuery("ul.pagination").append("<li><a data-value='1' href='#' onClick='CitOver.navigate(1)'>1</a></li>");jQuery("ul.pagination").append("<li>...</li>");for(var i=(currentValue-1);i<=(currentValue+1);i++){jQuery("ul.pagination").append("<li><a data-value='"+i+"' href='#' onClick='CitOver.navigate("+i+")'>"+i+"</a></li>");}
jQuery("ul.pagination").append("<li>...</li>");jQuery("ul.pagination").append("<li><a data-value='"+finalPagePagination+"' href='#' onClick='CitOver.navigate("+finalPagePagination+")'>"+finalPagePagination+"</a></li>");}else if(finalPagePagination>5&&currentValue>finalPagePagination-4){jQuery("ul.pagination").append("<li><a data-value='1' href='#' onClick='CitOver.navigate(1)'>1</a></li>");jQuery("ul.pagination").append("<li>...</li>");for(var i=finalPagePagination-4;i<=finalPagePagination;i++){jQuery("ul.pagination").append("<li><a data-value='"+i+"' href='#' onClick='CitOver.navigate("+i+")'>"+i+"</a></li>");}}
if(finalPagePagination>5){if(!(numberOfDocs<=2000&&finalPagePagination==currentValue)){var nb=jQuery("li.nextButton").html();jQuery("ul.pagination").append(nb);if(!(numberOfDocs<=2000&&currentValue>finalPagePagination-5)){var nnb=jQuery("li.nextNextButton").html();jQuery("ul.pagination").append(nnb);}}}
jQuery("a[data-value="+currentValue+"]").addClass("selectedPage");jQuery("a[data-value="+currentValue+"]").removeAttr("href");jQuery("a.previousPreviousButton").click(function(){CitOver.navigate(currentValue-5);});jQuery("a.previousButton").click(function(){CitOver.navigate(currentValue-1);});jQuery("a.nextButton").click(function(){CitOver.navigate(currentValue+1);});jQuery("a.nextNextButton").click(function(){CitOver.navigate(currentValue+5);});},navigate:function(pageVal){var newOffSet=docs_per_page*(pageVal-1);jQuery('#pageCheckBoxCTO').attr('checked',false);if(pageVal===jQuery('#currentPage').val()){return;}
updateDetails(newOffSet,docs_per_page);CitOver.createPagination(number_of_docs,docs_per_page,pageVal);}};jQuery(document).ready(function(){CitOver.init();if(jQuery("#confirmMsgContainer,#errorMsgContainer,#warningMsgContainer,#infoMsgContainer,#orcidErrorMsgContainer,#txtZoneInfoMsgContainer,#confirmMsgContainer").length){jQuery('.ariaHidden').focus();}
if(location.href.indexOf("/cto")>-1){CitOver.createPagination(number_of_docs,docs_per_page,(offset/docs_per_page)+1);}
jQuery('#docs_per_page').on('selectmenuchange',function(){updateDocsPerPage();CitOver.createPagination(number_of_docs,docs_per_page,1);});if(typeof saveDocumentsToList!='undefined'){jQuery('#saveListResults').on('click',saveDocumentsToList);}});var isSearchResultModalElement=false;jQuery(document).ready(function(){var dummmyid=new Array();var dummyStat=new Array();jQuery("#navigators").sortable({containment:'parent',handle:'div.dragDropBox',items:"div.panel-group",start:function(event,ui){jQuery("#cib_Overlay").hide();document.getElementById("navigators").style.zoom='1';document.getElementById("RefineResults").style.zoom='1';dummmyid=new Array();dummyStat=new Array();var bodyDiv=jQuery(".dummyNav .dummyBody");var placeholder=jQuery("#clusterData .ui-sortable-placeholder");placeholder.css({'border':'1px dashed #007398','margin':'2px','visibility':'visible'});for(var i=0;i<bodyDiv.length;i++){dummmyid.push(jQuery(bodyDiv[i]).attr('id'));dummyStat.push(jQuery(bodyDiv[i]).attr('css'));}},helper:'clone',update:function(event,ui){for(var i=0;i<dummmyid.length;i++){jQuery("#"+dummmyid[i]).attr('css',dummyStat[i]);}
var childrenArray=jQuery(this).children();var sortableString="";for(var k=0;k<childrenArray.length;k++){sortableString+=childrenArray[k].id+",";}
sortableString=sortableString.substring(0,sortableString.length-1);reArrangeClusters(sortableString);document.getElementById("navigators").style.zoom='1';document.getElementById("RefineResults").style.zoom='1';},cancel:''});jQuery("#leftDragCluster").sortable({containment:'parent',handle:'.scopusDragHandle',beforeStop:function(event,ui){document.getElementById("RefineResults").style.zoom='1';document.getElementById("RefineResults").style.position='relative';document.getElementById("navigators").style.zoom='1';},stop:function(event,ui){document.getElementById("RefineResults").style.zoom='1';document.getElementById("sSearchWithin").style.zoom='1';},start:function(event,ui){document.getElementById("sSearchWithin").style.zoom='1';var placeholder=jQuery("#clusterData .ui-sortable-placeholder");placeholder.css({'border':'1px dashed red','margin':'2px','visibility':'visible'});jQuery("#cib_Overlay").hide();},update:function(event,ui){document.getElementById("RefineResults").style.zoom='1';document.getElementById("RefineResults").style.position='static';document.getElementById("navigators").style.zoom='1';document.getElementById("sSearchWithin").style.zoom='1';var childrenArray=jQuery(this).children();var sortString="";for(var k=0;k<childrenArray.length;k++){sortString+=childrenArray[k].lang+":";}
sortString=sortString.substring(0,sortString.length-1);reArrangeWidgets(sortString);}});jQuery('#search_within_submit').on("click",function(e){document.SearchResultsForm.clickedLink.value="SearchWithinResultsButton";});var cibObject=jQuery("#navigators .dropdownGroup");cibObject.live("click",function(ev){var thisObj=jQuery(this);var superparId=thisObj.parents(".body").attr('id');var searchType=jQuery("#searchType").html();if(thisObj.closest(".refineResultModalBody").length>0){isSearchResultModalElement=true;}else{isSearchResultModalElement=false;}
var liClusterTypeId=thisObj.parents("li").attr("id");var cibObj=jQuery("#"+liClusterTypeId+" #cib_Overlay");if(cibObj.is(":visible")){jQuery("#"+liClusterTypeId+" a.greyArrow").show();jQuery("#"+liClusterTypeId+" a.greyArrow").focus();cibObj.hide();}else{var clusterid="cib_Div_Overlay_"+liClusterTypeId.substring(liClusterTypeId.indexOf("_")+1,liClusterTypeId.length);clusterid=clusterid.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,'\\\\$1');var cib_Div_Overlay_Obj=jQuery("#"+clusterid);cib_Div_Overlay_Obj.html(jQuery("#cib_Div_Overlay").html());cibObj=jQuery("#"+liClusterTypeId+" #cib_Overlay");jQuery("#navigators #cib_Overlay").each(function(){jQuery(this).hide();});superparId=superparId.substring(superparId.indexOf("_")+1,superparId.length);var clusterTypeId=thisObj.parents("ul").attr("id");var fistIndex=clusterTypeId.indexOf("_");var clusterType=clusterTypeId.substring(fistIndex+1,clusterTypeId.length);var clusterOverLay=clusterTypeId.substring(0,fistIndex);var typeOfAttr=clusterType;var lastChar=typeOfAttr.charAt((typeOfAttr.length)-1);if(lastChar=='1'||lastChar=='2'||lastChar=='3'||lastChar=='4'){typeOfAttr=clusterType.substring(0,(clusterType.length)-1);}
var displayText=thisObj.parent("li").find("span.btnText").eq(0).text();var clusterAttrVal=typeOfAttr+","+displayText.replace(/^\s\s*/,'').replace(/\s\s*$/,'');var closestLabel=thisObj.parent("li").find("label");var hiddenArray=thisObj.prevUntil(closestLabel,"input");var categoryText=jQuery(hiddenArray[1]).val();var relatedText=jQuery(hiddenArray[0]).val();if(typeOfAttr==='AUTHOR_NAME_AND_ID'){relatedText=displayText.trim()+encodeURIComponent('#')+relatedText;}
var relatedId=thisObj.parent("li").find(".checkbox-label").attr("for");if(isSearchResultModalElement){jQuery("#overlayBody_"+superparId).addClass('displayNone');jQuery(".refineResultModalSelect").addClass("displayNone");if(!jQuery("#advancedCibBox").length){thisObj.closest(".resultViewMoreModal").find('.modal-body').append('<div id="advancedCibBox"></div>');}
jQuery('div.resultViewMoreModal').block({message:jQuery('#loadingModal .modal-content').html(),css:{border:'1rem solid rgba(235, 235, 235, .85)'}});}else{jQuery("#overlayBody_"+superparId).removeClass('displayNone');jQuery(".refineResultModalSelect").removeClass("displayNone");jQuery("#advancedCibBox").remove();jQuery.blockUI({message:jQuery('#loadingModal .modal-content').html(),css:{border:'1rem solid rgba(235, 235, 235, .85)'}});}
displayContextInfoBox(categoryText,relatedText,relatedId,'limit to',thisObj,'resultslist',clusterAttrVal,superparId,searchType);ev.preventDefault();}});});function getElementsByType(element,type){var ele=Form.getElements(element);var returnArr=new Array();ele.each(function(e){if(e.type==type)
returnArr.push(e);});return returnArr;}
var saveSettingsOpts={on401:unAuthorized,onFailure:saveSettingsFailure,onSuccess:saveSettingsSuccess};var saveSettingsFailureOpts={onFailure:saveSettingsToSessionFailure,onSuccess:saveSettingsToSessionSuccess};var restoreSettingsOpts={onSuccess:restoreSettingsSuccess,onFailure:restoreSettingsFailure};var updateSessionOpts={onSuccess:updateSessionSuccess,onFailure:updateSessionFailure};var addCategoriesOptsForUpdate={onSuccess:addCategoriesSuccessForUpdate,onFailure:addCategoriesFailure};var saveClusterOpts={onFailure:saveSelectedClusterFailure,onSuccess:saveSelectedClusterSuccess};var fastCallDone=new Array();fastCallDone['EXACTSRCTITLE']=new Array('160','false');fastCallDone['PUBYEAR']=new Array('160','false');fastCallDone['DOCTYPE']=new Array('160','false');fastCallDone['SUBJAREA']=new Array('160','false');fastCallDone['AUTHOR_NAME_AND_ID']=new Array('160','false');fastCallDone['LANGUAGE']=new Array('160','false');fastCallDone['COUNTRY_NAME']=new Array('160','false');fastCallDone['AFFIL']=new Array('160','false');fastCallDone['SCOPUSSRCTYPE']=new Array('160','false');fastCallDone['EXACTKEYWORD']=new Array('160','false');fastCallDone['STATUSTYPE']=new Array('160','false');fastCallDone['AUCITE']=new Array('160','false');fastCallDone['affilcity']=new Array('160','false');fastCallDone['affilctry']=new Array('160','false');fastCallDone['subjclus']=new Array('160','false');fastCallDone['afnameid']=new Array('160','false');fastCallDone['srctitle']=new Array('160','false');fastCallDone['srctype']=new Array('160','false');fastCallDone['subtype']=new Array('160','false');fastCallDone['txt14']=new Array('160','false');var keywordArray=new Array();var contentSrcArray=new Array();var infoTypeArray=new Array();var clusterSubAreaArray=new Array();var clusterSourceTitleArray=new Array();var clusterAuthorNameArray=new Array();var clusterCountryNameArray=new Array();var clusterPubYearArray=new Array();var clusterAffilArray=new Array();var clusterLanguageArray=new Array();var clusterDocTypeArray=new Array();var clusterKeyWordArray=new Array();var clusterSourceTypeArray=new Array();var clusterStatusTypeArray=new Array();var clusterAuthCiteArray=new Array();var affilCityArray=new Array();var affilCntryArray=new Array();var affilNameArray=new Array();var affilSubAreaArray=new Array();var affilSourceTitleArray=new Array();var affilMatchLevelArray=new Array();var clusterBaseUrl="/standard/viewMore.uri";function sortField(sortValue,sortFieldName,form){form.elements[sortFieldName].value=sortValue;form.target="_self";form.submit();}
function collapseSection(clusterType,clusterstate){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;if(cluster!=clusterType){overlayHide(cluster);}}
var clusterCount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);var session=1;setClusterResultsCount(clusterType,0,session);setSelectedCluster(clusterType,clusterstate,clusterCount);clusterstate='open';jQuery("#body_"+clusterType).collapse('hide');jQuery("#collapse_"+clusterType+"_link").attr("onclick","expandSection('"+clusterType+"','"+clusterstate+"')");jQuery("#collapse_"+clusterType+"_link").attr("aria-expanded","false");jQuery("#collapse_"+clusterType+"_link").focus();var checkString=document.getElementById("checkArray_"+clusterType).innerHTML;var checkCounter=0;var checkArray="";if(checkString!=""){checkArray=checkString.split(",");checkCounter=checkArray.length;}
if(document.getElementById("body_"+clusterType)!=null){var navClusterCheck=jQuery("#body_"+clusterType).find("input");for(var i=0;i<navClusterCheck.length;i++){if(navClusterCheck[i].checked){checkCounter+=1;}}}
if(checkCounter>0){var tempValue="JS_MSG_AFFIL_CHECK_BOX_SELECTED"+"("+checkCounter+")";var selectedValue=eval('affiliation.'+tempValue);jQuery('#checkCount_'+clusterType).html(selectedValue);jQuery('#checkCount_'+clusterType).removeClass('hidden');}else{jQuery('#checkCount_'+clusterType).addClass('hidden');}
$('.modal').modal('hide');}
function expandSection(clusterType,clusterstate){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;if(cluster!=clusterType){overlayHide(cluster);}}
if(clusterType=='AFFIL'){if(fastAffilCallDone[clusterType][0]=='false'){jQuery.blockUI({message:jQuery('#loadingModal .modal-content').html(),css:{border:'1rem solid rgba(235, 235, 235, .85)'}});retrieveClusterAttributesFromFAST(0,numClusterCat,searchType,clusterType,'selectedAffiliationClusterCategories');}
if(clusterState!=null&&clusterState.length>0){var clusterStateString=clusterState.substring(1,clusterState.length-1);clusterStateString=clusterStateString.replace(/^\s\s*/,'').replace(/\s\s*$/,'');var clusterStateArray=clusterStateString.split(",");for(var i=0;i<clusterStateArray.length;i++){if(clusterStateArray[i].replace()!=''){var clusterNameState=clusterStateArray[i].split("=");clusterNameState[1].split("-");clusterNameState[0].replace(/^\s\s*/,'').replace(/\s\s*$/,'');}}}
if(clusterState!=null){clusterState=null;}}
var clusterCount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);var session=0;setClusterResultsCount(clusterType,clusterCount,session);setSelectedCluster(clusterType,clusterstate,clusterCount);clusterstate='collapse';jQuery("#body_"+clusterType).collapse('show');jQuery("#collapse_"+clusterType+"_link").attr("onclick","collapseSection('"+clusterType+"','"+clusterstate+"')");jQuery("#collapse_"+clusterType+"_link").attr("aria-expanded","true");jQuery("#collapse_"+clusterType+"_link").focus();jQuery("#checkCount_"+clusterType).addClass("hidden");}
function setSelectedCluster(clusterType,clusterstate,count){var url='/standard/saveClusterToSession.uri';var pageName="";if(document.getElementById("hidden_src")!=null){pageName=document.getElementById("hidden_src").innerHTML;pageName=pageName+":";}
var clusterTypePage=pageName+clusterType;var queryString="?clusterCategory="+clusterTypePage+"&clusterDisplayCount="+count+"&clusterState="+clusterstate;url=url+queryString;jQuery.ajax({url:url,type:"get",success:saveSelectedClusterSuccess,error:saveSelectedClusterFailure});}
function openCollapseLeftSideBar(state){if(state=='open'){$('#resultsPanelCol').removeClass('col-md-12').addClass('col-md-9');$('#refinePanelCol').addClass('col-md-3');$('#hideRefineSearchResultCol').attr('aria-expanded','true');$('#showRefineSearchResultCol').toggleClass('hidden');$('#rightTrianglePosition').toggleClass('hidden');$('#leftTrianglePosition').toggleClass("hidden");$('#sRefineResults').toggleClass('hidden',500);if(!$("#showRefineSearchResultCol").hasClass("hidden")){$("#showRefineSearchResultCol").addClass("hidden");}
$("#rightTrianglePosition").addClass("hidden");$("#leftTrianglePosition").removeClass("hidden");$("#sRefineResults").removeClass("hidden",500);}else{$("#sRefineResults").addClass("hidden");$("#refinePanelCol").removeClass("col-md-3");$("#resultsPanelCol").removeClass("col-md-9").addClass("col-md-12");$('#hideRefineSearchResultCol').attr('aria-expanded','false');if($("#showRefineSearchResultCol").hasClass("hidden")){$("#showRefineSearchResultCol").removeClass("hidden");}
$("#rightTrianglePosition").removeClass("hidden");$("#leftTrianglePosition").addClass("hidden");}
$('.modal').modal('hide');var url='/standard/saveClusterToSession.uri';var pageName=document.getElementById("hidden_src").innerHTML;var queryString="?leftSideBarPageName="+pageName+"&leftSideBarState="+state;url=url+queryString;jQuery.ajax({url:url,type:"get",success:saveSelectedClusterSuccess,error:saveSelectedClusterFailure});showHideLastDocHeaderLnk();}
function saveSelectedClusterFailure(){}
function saveSelectedClusterSuccess(){}
function unAuthorized(){var url=saveToSessionURL;var queryString="?key="+sessionSaveNavigatorsToProfileKey+"&value=true";url=url+queryString;jQuery.ajax({url:url,type:"get",success:saveSettingsToSessionSuccess,error:saveSettingsToSessionFailure});}
function showLoadingState(clusterType,nextClusterCount){if(nextClusterCount==160){jQuery.blockUI({message:jQuery('#loadingModal .modal-content').html(),css:{border:'1rem solid rgba(235, 235, 235, .85)'}});}else{jQuery('#navigatorOverlay_'+clusterType+" .modal-content").block({message:jQuery('#loadingModal .modal-content').html(),css:{border:'1rem solid rgba(235, 235, 235, .85)'}});}}
function overlayShow(clusterType){jQuery.unblockUI();jQuery('#navigatorOverlay_'+clusterType+" .modal-content").unblock();jQuery("#navigatorOverlay_"+clusterType).modal('show');var checkString=document.getElementById("checkArray_"+clusterType).innerHTML;var checkArray="";if(checkString!=""){checkArray=checkString.split(",");}
if(document.getElementById("body_"+clusterType)!=null){var navClusterCheck=jQuery("#body_"+clusterType).find("input:checkbox");if(document.getElementById("overlayul_"+clusterType+"1")!=null){var checkBoxes1=jQuery("#overlayul_"+clusterType+"1").find("input:checkbox");if(checkBoxes1.length==0){var clusterBodyli=jQuery("#body_"+clusterType).find("li");if(clusterBodyli[0]!=null){document.getElementById("overlayul_"+clusterType+"1").innerHTML=clusterBodyli[0].innerHTML;}}
for(i=0;i<checkBoxes1.length;i++){if(i<navClusterCheck.length){if(navClusterCheck[i].checked){checkBoxes1[i].checked=true;}else{checkBoxes1[i].checked=false;}}}}}
var i=0;var checkBoxobj;for(i=0;i<checkArray.length;i++){if(document.getElementById(checkArray[i])!=null){checkBoxobj=jQuery("#navigatorOverlay_"+clusterType).find("#"+checkArray[i]);jQuery(checkBoxobj).attr('checked',true);}}
setTimeout(function(){jQuery("#navigatorOverlay_"+clusterType).modal('show');},300);}
function findPosY(obj){var curtop=0;if(obj.offsetParent){while(1){curtop+=obj.offsetTop;if(!obj.offsetParent){break;}
obj=obj.offsetParent;}}else if(obj.y){curtop+=obj.y;}
return curtop;}
function saveSettingsToSessionFailure(){}
function saveSettingsFailure(){}
function saveSettingsToSessionSuccess(){if(featureInaccessible=='true'){window.location=featureInaccessibleURL;}else if(activationRequired=='true'){window.location=activationRequiredURL;}else{if(isIDPlusEnabled){var e=jQuery.Event("click");e.target=document.getElementById('saveNavigatorSettings');IDPlus.promptLogin(e,null,true);}else{window.location=loginURL;}}}
function saveSettingsSuccess(){var profileSuccessMessage=messages.result.search.restore.success();if(jQuery("#clusterMessages").length){jQuery("#clusterMessages").html('<div id="confirmMsgContainer" role="alert"><span class="ariaHidden">Confirmation message</span><span>'+profileSuccessMessage
+'<\/span></div>');}}
function restoreSettingsSuccess(){window.location.reload(true);}
function addCategoriesSuccessForUpdate(){var str=window.location;window.location=str;}
function addCategoriesFailure(){}
function restoreSettingsFailure(){}
function updateSessionFailure(){}
function updateSessionSuccess(){}
function addCategories(type){Element.hide("cat_"+type);if(currentClusterOrder.length==0){jQuery("#no_navigators").addClass("hidden");}
var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey;var str1=currentClusterOrder;if(str1.length>0){str1=str1+":";}
currentClusterOrder=str1+type;url=url+queryString+"&value="+currentClusterOrder;jQuery.ajax({url:url,type:"get",success:addCategoriesSuccessForUpdate,error:addCategoriesFailure});}
function getNavigatorIdByName(lang){var element;var count=1;while((element=document.getElementById('navigator_'+count))!=null){var elementName=element.getAttribute("lang");if(elementName==lang){return element.getAttribute("id");}
count++;}
return null;}
function updateSession(type){var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey;var index=currentClusterOrder.indexOf(type);var str1="";var str2="";if(index!=0){str1=currentClusterOrder.substring(0,index-1);str2=currentClusterOrder.substring(index+type.length);}else{if(currentClusterOrder.length>(type.length+1)){str2=currentClusterOrder.substring(type.length+1);}}
currentClusterOrder=str1+str2;url=url+queryString+"&value="+str1+str2;jQuery.ajax({url:url,type:"get",success:updateSessionSuccess,error:updateSessionFailure});}
function restoreSettings(){var str=restoreOriginalSettings+"\n\n"+restoreOriginalSettings2;jQuery('#documentResultConfirmRestoreSettingModal').find('.modal-body').html(str);jQuery('#documentResultConfirmRestoreSettingModal').modal('show');}
function restoreSettingsConfirm(){if(isShowSaveSettings=="true"){saveDefaultSettingsToSession();}else{var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey;url=url+queryString+"&value="+defaultClusterOrder;jQuery.ajax({url:url,type:"get",success:saveSettingsSuccess,error:function(request,e){if(request.status==401){unAuthorized();}else{saveSettingsFailure();}}});saveDefaultSettingsToMyProfile();}
testFooterLinks();}
function saveDefaultSettingsToSession(){var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey+"&value="+defaultClusterOrder;var origin=document.SearchResultsForm.origin.value;queryString=queryString+"&origin="+origin;url=url+queryString;jQuery.ajax({url:url,type:"get",success:restoreSettingsSuccess,error:restoreSettingsFailure});}
function saveDefaultSettingsToMyProfile(){var url=saveToOpaqueURL;var queryString="?key="+sessionSortOrderKey+"&value="+defaultClusterOrder;var origin=document.SearchResultsForm.origin.value;queryString=queryString+"&origin="+origin;url=url+queryString;jQuery.ajax({url:url,type:"get",success:restoreSettingsSuccess,error:restoreSettingsFailure});}
function saveSettingsToMyProfile(key,order){var url=saveToOpaqueURL;var queryString="?key="+key+"&value="+order;var origin=document.SearchResultsForm.origin.value;queryString=queryString+"&origin="+origin;url=url+queryString;jQuery.ajax({url:url,type:"get",success:saveSettingsSuccess,error:function(request,e){if(request.status==401){unAuthorized();}else{saveSettingsFailure();}}});}
function hideDimension(dimension,type){var temp=currentClusterOrder.split(':');if(temp.length==1){jQuery("#no_navigators").removeClass("hidden");}
updateSession(type);Element.hide(dimension);Element.show('cat_'+type);updateBorders();updateNavigatorSizes();testFooterLinks();}
function displayCat(){var element;var count=1;while((element=document.getElementById('navigator_'+count))!=null){var elementName=element.getAttribute("lang");var catElement=document.getElementById(elementName);if(catElement!=null){catElement.style.display='none';}
count++;}}
function testFooterLinks(){testRestoreOriginalSettingsLink();testSaveSettingToProfileLink(false);}
function testAddCategoriesLink(){var addCategoriesLIs=jQuery("#addCategoriesList").find('li');var flag=false;for(var i=0;i<addCategoriesLIs.length;i++){if(addCategoriesLIs[i].style.display!='none'){flag=true;}}
if(flag){document.getElementById("addCategories").style.display='inline';document.getElementById("activator").style.display='inline';}else{document.getElementById("addCategories").style.display='none';document.getElementById("activator").style.display='none';}}
function testRestoreOriginalSettingsLink(){if(currentClusterOrder==defaultClusterOrder){jQuery("ul.restoreDiv").addClass('hidden');}else{jQuery("ul.restoreDiv").removeClass('hidden');}}
function testSaveSettingToProfileLink(isReArrange,key,order){if(isReArrange&&isShowSaveSettings=="false"){saveSettingsToMyProfile(key,order);}else if(currentClusterOrder.length>0&&profileClusterOrder==currentClusterOrder){jQuery("#saveSettingsDivider").css('display','none');jQuery("#saveNavigatorSettings").css('display','none');}else{if(profileClusterOrder==""&&currentClusterOrder==defaultClusterOrder){jQuery("#saveSettingsDivider").css('display','none');jQuery("#saveNavigatorSettings").css('display','none');}else if((profileClusterOrder==""&&currentClusterOrder!=defaultClusterOrder)&&isShowSaveSettings=="true"){jQuery("#saveSettingsDivider").css({'display':'inline-block','color':'#B7B7B7'});jQuery("#saveNavigatorSettings").css('display','inline-block');jQuery("ul.restoreDiv").removeClass('hidden');}}}
function reArrangeClusters(order1){var order=order1+"";var temp=loadedCluserorder.split(':');var orderArray=order.split(',');currentClusterOrder.split(':');var str="";for(var i=0;i<temp.length;i++){var navigatorTitle=jQuery("#"+orderArray[i]).attr('lang');navigatorTitle=navigatorTitle.substring(4,navigatorTitle.length);if(currentClusterOrder.indexOf(navigatorTitle)!=-1){str=str+navigatorTitle+":";}}
str=str.substring(0,str.length-1);currentClusterOrder=str;var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey;url=url+queryString+"&value="+str;jQuery.ajax({url:url,type:"get",success:updateSessionSuccess,error:updateSessionFailure});testRestoreOriginalSettingsLink();testSaveSettingToProfileLink(true,sessionSortOrderKey,currentClusterOrder);}
var ajaxReq="";function displayContextInfoBox(property,value,selectedId,linkname,currObj,origin,clusterAttrVal,clusterType,searchTypeInp){var currentUrl=location.href;var limitToUrl="javascript:refineCIB('limit to','"+origin+"','"+property+"','"+value+"','"+selectedId+"')";var excludeUrl="javascript:refineCIB('exclude','"+origin+"','"+property+"','"+value+"','"+selectedId+"')";if(origin!=""&&origin=='AuthorNamesList'){currentUrl=currentUrl.replace('/results/authorNamesList','/results/authorLookup');currentUrl=currentUrl.replace('/results/coAuthorResults','/results/coAuthorLookup');}else if(origin!=""&&origin=='AffiliationNamesList'){currentUrl=currentUrl.replace('/results/affiliationResults','/results/affiliationLookup');}else if(origin!=""&&origin=='resultslist'){currentUrl=currentUrl.replace('/results/results','/results/handle');if(currentUrl.indexOf('/results/results')<0){currentUrl=currentUrl.replace('/results/references','/results/handle');currentUrl=currentUrl.replace('/results/citedbyresults','/results/handle');currentUrl=currentUrl.replace('/results/savedList','/results/handle');}}
if(origin!='resultslist'){var startPrevCount=currentUrl.indexOf("&previousResultCount");var evalResultsCount=eval(resultsCount);if(startPrevCount>-1){var endPrevCount=currentUrl.indexOf("&",startPrevCount+1);var prevCountVal=currentUrl.substring(startPrevCount,endPrevCount);currentUrl=currentUrl.replace(prevCountVal,'&previousResultCount='+evalResultsCount);}else{currentUrl=currentUrl+'&previousResultCount='+evalResultsCount;}}else{if(document.SearchResultsForm.count!=null){currentUrl=currentUrl+'&count='+eval(document.SearchResultsForm.count.value);}}
var startZonePos=currentUrl.indexOf("&zone");if(startZonePos>-1){var zoneEndPos=currentUrl.indexOf("&",startZonePos+1);var zoneVal=currentUrl.substring(startZonePos,zoneEndPos);currentUrl=currentUrl.replace(zoneVal,'&zone=contextBox');}else{currentUrl=currentUrl+'&zone=contextBox';}
if(currentUrl.indexOf('#')>-1){var hashIndexVal=currentUrl.charAt(currentUrl.indexOf('#'));currentUrl=currentUrl.replace(hashIndexVal,'');}
var navValueSelected=clusterAttrVal.substring((clusterAttrVal.indexOf(",")+1),clusterAttrVal.length);var queryString=null;if(currentUrl.indexOf('clickedLink')>-1){currentUrl=currentUrl.replace("clickedLink=","clickedLink="+linkname);queryString="&"+property+"="+value+"&clusterAttributeValue="+clusterAttrVal;}else{queryString="&clickedLink="+linkname+"&"+property+"="+value+"&clusterAttributeValue="+clusterAttrVal;}
var isRebrandLayout="&isRebrandLayout="+true;var searchtype="&searchtype="+"";if(searchTypeInp!=undefined&&searchTypeInp!==""){searchtype="&searchtype="+searchTypeInp;}
currentUrl=currentUrl+queryString+isRebrandLayout+searchtype;ajaxReq=value;jQuery.ajax({url:currentUrl,dataType:"html",async:true,success:function(data){if(ajaxReq==value){if(isSearchResultModalElement){jQuery('div.resultViewMoreModal').unblock().focus();var advancedCibBox=jQuery("#advancedCibBox");advancedCibBox.html(data);advancedCibBox.find(".modal-header").find('button.close').remove();advancedCibBox.find(".modal-header").removeClass('modal-header');advancedCibBox.find('.modal-body.modalBodyScroll').removeClass('modal-body modalBodyScroll');advancedCibBox.find('#documentNum').click(function(){refineCIB('resultsCount',origin,property,value,selectedId);});advancedCibBox.find("#cibLimit").attr('onclick',limitToUrl);advancedCibBox.find("#cibExclude").attr('onclick',excludeUrl);advancedCibBox.find("#cibNavValue").html(navValueSelected);advancedCibBox.find(".propName").html(navValueSelected);advancedCibBox.find("#cibDocTypeValue").html(navValueSelected.toLowerCase());jQuery("#docResultModalBackbutton").removeClass('displayNone');var footerDiv=advancedCibBox.find(".modal-footer");footerDiv.detach();if(jQuery(".modal-footer").find("#overlayFooter_"+clusterType)){jQuery(".modal-footer").addClass("displayNone");}
footerDiv.appendTo("#resultViewMoreModalMainContent_"+clusterType);jQuery("#docResultModalBackbutton").click(function(e){resetDocumnetSearchModalOverlay(clusterType);});var modalObj=jQuery(".resultViewMoreModal.in");var page=modalObj.data("page");if(typeof page!=="undefined"&&page==="AFW"){var content=modalObj.find("#documentNum").text();var spanObj=jQuery("<SPAN>",{"text":content});modalObj.find("#documentNum").replaceWith(spanObj);modalObj.find("#cibSearchResultsTable tbody td a").each(function(){jQuery(this).replaceWith(jQuery(this).text());});}}else{jQuery.unblockUI();jQuery("#resultLeftSidebarModal").modal('show');jQuery("#resultLeftSidebarModal .modal-content").html(data);jQuery("#resultLeftSidebarModal .modal-content").find('#documentNum').click(function(){refineCIB('resultsCount',origin,property,value,selectedId);});jQuery("#resultLeftSidebarModal .modal-content").find("#cibLimit").attr('onclick',limitToUrl);jQuery("#resultLeftSidebarModal .modal-content").find("#cibExclude").attr('onclick',excludeUrl);jQuery("#resultLeftSidebarModal .modal-content").find("#cibNavValue").html(navValueSelected);jQuery("#resultLeftSidebarModal .modal-content").find(".propName").html(navValueSelected);jQuery("#resultLeftSidebarModal .modal-content").find("#cibDocTypeValue").html(navValueSelected.toLowerCase());var page=jQuery("#resultLeftSidebarModal").data("page");if(typeof page!=="undefined"&&page==="AFW"){var content=jQuery("#documentNum").text();var spanObj=jQuery("<SPAN>",{"text":content});jQuery("#documentNum").replaceWith(spanObj);var docCountObj=jQuery("#cibSearchResultsTable tbody td a").each(function(){jQuery(this).replaceWith(jQuery(this).text());});}
if(!jQuery(".modal-footer").find("#overlayFooter_"+clusterType)){jQuery(".modal-footer").remove();}}}},error:function(){jQuery("#resultLeftSidebarModal .modal-body").html("<div class='alignTextCenter'><span class='txtRedBold'>The system is currently unable to retrieve the contextual information.</span><br/>Please try again later.</div>");}});}
function updateBorders(){var clusterOrderArray=currentClusterOrder.split(':');for(var i=0;i<clusterOrderArray.length;i++){if(clusterOrderArray[i].length>0){var navById=getNavigatorIdByName('cat_'+clusterOrderArray[i]);if(navById){var temp=navById.split('_');var size=document.getElementById('navigator_size_'+temp[temp.length-1]);if(i!=(clusterOrderArray.length-1)){size.style.borderRight='1px solid #9b9b9b';}else{size.style.borderRight='0px solid #9b9b9b';}}}}}
function isMSIE(){var agent=navigator.userAgent;var index=agent.indexOf("MSIE");if(index>0){return true;}
return false;}
function updateNavigatorSizes(){var element;var elements=[];var weights=[];var size;var sizes=[];var minimums=[];var agreedOnWidths=[];var paddingElements=[];var totalMinimums=0;var totalWeights=0;var elementWeight;var count=1;while((element=document.getElementById('navigator_'+count))!=null){if(element.style.display!='none'){elements.push(element);size=document.getElementById('navigator_size_'+count);sizes.push(size);paddingElements.push(document.getElementById('navigator_padding_'+count));var weightVal=element.className.split(" ");elementWeight=parseInt(weightVal[1]);weights.push(elementWeight);totalWeights+=elementWeight;element.style.width="0px";minimums.push(size.offsetWidth);totalMinimums+=size.offsetWidth;agreedOnWidths.push(-1);}
count++;}
totalMinimums+=2;var screenWidth=document.getElementById('clusterMessages').offsetWidth;var newWidth;if(totalMinimums>screenWidth){newWidth=totalMinimums;}else{newWidth=screenWidth;}
document.getElementById('NAVIGATOR_HEADER').style.width=newWidth+"px";if(isMSIE()){document.getElementById('NAVIGATOR_MIDDLE').style.width=(newWidth+4)+"px";document.getElementById('NAVIGATOR_FOOTER').style.width=newWidth+"px";}else{document.getElementById('NAVIGATOR_MIDDLE').style.width=(newWidth-1)+"px";document.getElementById('NAVIGATOR_FOOTER').style.width=(newWidth-2)+"px";}
var widths=calculateWidthsRecursively(elements,screenWidth-2,minimums,agreedOnWidths,totalWeights,weights,false);var bufWidth=0;var finalCount=0;for(count=0;count<sizes.length;count++){elements[count].style.width=widths[count]-1+"px";bufWidth+=widths[count]-1;finalCount=count;}
if(finalCount!=0){elements[finalCount].style.width=(widths[finalCount]+newWidth-bufWidth-2)+"px";}
updateHeights(paddingElements,sizes);}
function calculateWidthsRecursively(elements,total,minimums,agreedOnWidths,totalWeight,weights,usePercents){var count,percent;var widths=[];var accumulatedPercents=0;var whatsLeftPercent=total;var whatsLeftWeight=totalWeight;var weStillNeedMoreWork=false;var lastElementStillInQuestion=-1;for(count=elements.length-1;count>=0&&lastElementStillInQuestion<0;count--){if(agreedOnWidths[count]<0){lastElementStillInQuestion=count;}}
for(count=0;count<elements.length;count++){if(agreedOnWidths[count]>0){widths[count]=agreedOnWidths[count];}else{if(count==lastElementStillInQuestion){percent=total-accumulatedPercents;}else{percent=Math.round(weights[count]*total/totalWeight);}
if(percent<minimums[count]){agreedOnWidths[count]=minimums[count];whatsLeftPercent-=minimums[count];whatsLeftWeight-=weights[count];weStillNeedMoreWork=true;}else{widths[count]=percent;}
accumulatedPercents+=percent;}}
if(weStillNeedMoreWork){return calculateWidthsRecursively(elements,whatsLeftPercent,minimums,agreedOnWidths,whatsLeftWeight,weights,usePercents);}else{return widths;}}
function updateHeights(paddingElements,sizes){var paddingElement;for(count=0;count<paddingElements.length;count++){paddingElement=paddingElements[count];paddingElement.style.height=Number(0)+"px";}
var maxHeight=0;var expectedHeight,count;for(count=0;count<sizes.length;count++){expectedHeight=sizes[count].offsetHeight;if(expectedHeight>maxHeight){maxHeight=expectedHeight;}}
for(count=0;count<paddingElements.length;count++){paddingElement=paddingElements[count];if(sizes[count].offsetHeight<maxHeight){paddingElement.style.height=Number(maxHeight-sizes[count].offsetHeight+paddingElement.offsetHeight+1)+"px";}}
document.getElementById('NAVIGATOR_LEFT').style.height=Number(maxHeight)+"px";}
function closeOverlay(clusterType){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;overlayHide(cluster);$('.modal').modal('hide');}
handleViewFewerClusterData(clusterType,10,5);setOverlayStyle(clusterType);resetDocumnetSearchModalOverlay(clusterType);$('.modal').modal('hide');return;}
function resetDocumnetSearchModalOverlay(clusterType){jQuery("#advancedCibBox").closest(".refineResultModalBody").removeClass("advancedCibBoxHeight");jQuery("#advancedCibBox").remove();jQuery("#overlayBody_"+clusterType).removeClass('displayNone');jQuery("#overlayBody_"+clusterType).closest(".resultViewMoreModal").find('.modal-footer').removeClass("displayNone");jQuery(".refineResultModalSelect").removeClass("displayNone");jQuery('div.resultViewMoreModal').unblock().focus();if(jQuery("#resultViewMoreModalMainContent_"+clusterType).find(".modal-footer")[1]){jQuery(jQuery("#resultViewMoreModalMainContent_"+clusterType).find(".modal-footer")[1]).remove();}}
function overlayHide(clusterType){if(document.getElementById("navigatorOverlay_"+clusterType)!=null){if(document.getElementById("navigatorOverlay_"+clusterType).style.display=="block"){overlayHidepass(clusterType);}}}
function overlayHidepass(clusterType){if(document.SearchResultsForm!=null&&document.SearchResultsForm.src.value=='s'){jQuery("#navigators").sortable("enable");}
if(document.getElementById("navigatorOverlay_"+clusterType)!=null){document.getElementById("navigatorOverlay_"+clusterType).style.display="none";}
var i=0;var checkCounter=0;if(document.getElementById("checkArray_"+clusterType)!=null){var checkbuff=document.getElementById("checkArray_"+clusterType).innerHTML;var checkBuffCnt=0;if(checkbuff!=""){var checkArray=checkbuff.split(",");}
checkbuff="";if(checkArray!=null&&checkArray.length>0){for(var x=0;x<checkArray.length;x++){if(document.getElementById(checkArray[x])==null){checkbuff+=","+checkArray[x];checkBuffCnt+=1;}}}
document.getElementById("checkArray_"+clusterType).innerHTML=checkbuff;}
var checkBoxes1=null;var checkBoxes2=null;var checkBoxes3=null;var checkBoxes4=null;var checkString="";var liArray="";if(document.getElementById("overlayul_"+clusterType+"1")!=null){checkBoxes1=jQuery("#overlayul_"+clusterType+"1").find("input.overlaycloseCheck");liArray=jQuery('#overlayul_'+clusterType+"1").find("li");}
if(document.getElementById("overlayul_"+clusterType+"2")!=null){checkBoxes2=jQuery("#overlayul_"+clusterType+"2").find("input.overlaycloseCheck");}
if(document.getElementById("overlayul_"+clusterType+"3")!=null){checkBoxes3=jQuery("#overlayul_"+clusterType+"3").find("input.overlaycloseCheck");}
if(document.getElementById("overlayul_"+clusterType+"4")!=null){checkBoxes4=jQuery("#overlayul_"+clusterType+"4").find("input.overlaycloseCheck");}
if(checkBoxes2!=null&&checkBoxes2.length>0){for(i=0;i<checkBoxes2.length;i++){if(checkBoxes2[i].checked){checkString+=checkBoxes2[i].id+",";checkCounter+=1;}}}
if(checkBoxes3!=null&&checkBoxes3.length>0){for(i=0;i<checkBoxes3.length;i++){if(checkBoxes3[i].checked){checkString+=checkBoxes3[i].id+",";checkCounter+=1;}}}
if(checkBoxes4!=null&&checkBoxes4.length>0){for(i=0;i<checkBoxes4.length;i++){if(checkBoxes4[i].checked){checkString+=checkBoxes4[i].id+",";checkCounter+=1;}}}
var navClusterli;if(document.getElementById("body_"+clusterType)!=null){navClusterli=jQuery('#body_'+clusterType).find('li');}
var testHTML="";if(liArray!=""&&typeof navClusterli!="undefined"){for(i=0;i<navClusterli.length;i++){if(i<10){if(liArray.length==0&&i==0){testHTML=jQuery("#overlayul_"+clusterType+"1").html();jQuery(navClusterli[0]).html(testHTML);}else{if(i<liArray.length){testHTML=jQuery(liArray[i]).html();jQuery(navClusterli[i]).html(testHTML);var newLi=jQuery(liArray[i]);var oldLi=jQuery(navClusterli[i]);var authorId=newLi.attr("data-auid");oldLi.find("#cib_Div_Overlay_").remove();var overLayDiv=jQuery("<div>",{'id':'cib_Div_Overlay_'+authorId});oldLi.append(overLayDiv);}else{navClusterli[i].innerHTML="";}}}else{break;}}}
var navClusterCheck;if(document.getElementById("body_"+clusterType)!=null){navClusterCheck=jQuery("#body_"+clusterType).find("input.overlaycloseCheck");}
if(checkBoxes1!=null&&checkBoxes1.length>0){for(i=0;i<checkBoxes1.length;i++){if(checkBoxes1[i].checked){if(i<10){navClusterCheck[i].checked=true;}else{checkString+=checkBoxes1[i].id+",";}
checkCounter+=1;}else{if(i<10){navClusterCheck[i].checked=false;}}}}
if(checkCounter>0){var tempValue="JS_MSG_AFFIL_CHECK_BOX_SELECTED"+"("+checkCounter+")";var selectedValue=eval('affiliation.'+tempValue);jQuery('#checkCount_'+clusterType).html(selectedValue);jQuery('#checkCount_'+clusterType).removeClass('hidden');}else if(document.getElementById("checkCount_"+clusterType)!=null){jQuery('#checkCount_'+clusterType).addClass('hidden')}
if(checkString!=""){checkString=checkString.substring(0,checkString.length-1);}
if(document.getElementById("checkArray_"+clusterType)!=null){document.getElementById("checkArray_"+clusterType).innerHTML=checkString+checkbuff;}
var morecount;if(liArray!=""&&liArray.length>0){if(liArray.length<=5){if(document.getElementById("viewMoreCount_"+clusterType)!=null){morecount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);if(morecount>10){document.getElementById("viewMoreCount_"+clusterType).innerHTML=10;}}
if(document.getElementById("viewLessCount_"+clusterType)!=null){document.getElementById("viewLessCount_"+clusterType).innerHTML=0;}}else if(liArray.length>5){if(document.getElementById("viewMoreCount_"+clusterType)!=null){if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="block";}
morecount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);if(morecount>10){document.getElementById("viewMoreCount_"+clusterType).innerHTML=10;}}
if(document.getElementById("viewLessCount_"+clusterType)!=null){document.getElementById("viewLessCount_"+clusterType).innerHTML=5;}}}else if(liArray.length==0){if(document.getElementById("viewMoreCount_"+clusterType)!=null){morecount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);if(morecount>10){document.getElementById("viewMoreCount_"+clusterType).innerHTML=10;}}
if(document.getElementById("viewLessCount_"+clusterType)!=null){document.getElementById("viewLessCount_"+clusterType).innerHTML=0;}}
var cibObject=jQuery("#navigators .cib_Span");cibObject.each(function(i){this.style.background="#fff";});$('.modal').modal('hide');}
function viewMoreClusters(origin,originationType,clusterType,clusterCategory,actualClusterCount){if(clusterType=='affilcity'){handleViewMorForAllClusterData(origin,affilCityArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='affilctry'){handleViewMorForAllClusterData(origin,affilCntryArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='afnameid'){handleViewMorForAllClusterData(origin,affilNameArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='subjclus'){handleViewMorForAllClusterData(origin,affilSubAreaArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='srctitle'){handleViewMorForAllClusterData(origin,affilSourceTitleArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='txt14'){handleViewMorForAllClusterData(origin,keywordArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='subtype'){handleViewMorForAllClusterData(origin,infoTypeArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='srctype'){handleViewMorForAllClusterData(origin,contentSrcArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='EXACTSRCTITLE'){handleViewMorForAllClusterData(origin,clusterSourceTitleArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='PUBYEAR'){handleViewMorForAllClusterData(origin,clusterPubYearArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='DOCTYPE'){handleViewMorForAllClusterData(origin,clusterDocTypeArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='SUBJAREA'){handleViewMorForAllClusterData(origin,clusterSubAreaArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='AUTHOR_NAME_AND_ID'){handleViewMorForAllClusterData(origin,clusterAuthorNameArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='COUNTRY_NAME'){handleViewMorForAllClusterData(origin,clusterCountryNameArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='LANGUAGE'){handleViewMorForAllClusterData(origin,clusterLanguageArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='AFFIL'){handleViewMorForAllClusterData(origin,clusterAffilArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='SCOPUSSRCTYPE'){handleViewMorForAllClusterData(origin,clusterSourceTypeArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='EXACTKEYWORD'){handleViewMorForAllClusterData(origin,clusterKeyWordArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='AUCITE'){handleViewMorForAllClusterData(origin,clusterAuthCiteArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='STATUSTYPE'){handleViewMorForAllClusterData(origin,clusterStatusTypeArray,originationType,clusterType,clusterCategory,actualClusterCount);}
return;}
function handleViewMorForAllClusterData(origin,clusterArray,originationType,clusterType,clusterCategory,actualClusterCount){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;if(cluster!=clusterType){overlayHide(cluster);}}
if(jQuery("#resultViewMoreModalMainContent_"+clusterType).find(".modal-footer").find("#overlayFooter_"+clusterType)){jQuery("#resultViewMoreModalMainContent_"+clusterType).find(".modal-footer").removeClass("displayNone");}
var currentClusterCount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);var viewMoreCount=0;var viewLessCount=0;if(currentClusterCount==5){viewMoreCount=10;viewLessCount=5;jQuery("#hidden_"+clusterType).removeClass('hidden');jQuery("#viewMoreLink_"+clusterType).addClass('hidden');jQuery("#viewAllLink_"+clusterType).removeClass('hidden');if(actualClusterCount<=10){jQuery("#viewAllLink_"+clusterType).addClass('hidden');}
jQuery("#viewFewerLink_"+clusterType).removeClass('hidden');document.getElementById("viewMoreCount_"+clusterType).innerHTML=viewMoreCount;document.getElementById("viewLessCount_"+clusterType).innerHTML=viewLessCount;var session=0;setClusterResultsCount(clusterType,actualClusterCount,session);setSelectedCluster(clusterType,'open',10);}else{if(currentClusterCount==10){viewMoreCount=160;viewLessCount=10;}
if((fastCallDone[clusterType][1]=='false'&&viewMoreCount==160)){if(origin=='AuthorNamesList'){retrieveAuthorFromFAST(viewMoreCount,originationType,clusterType,clusterCategory);}else if(origin=='AffiliationNamesList'){retrieveAffiliationFromFAST(viewMoreCount,originationType,clusterType,clusterCategory);}else if(origin=='resultslist'){retrieveDocumentFromFAST(viewMoreCount,originationType,clusterType,clusterCategory);}}else{replaceCurrentClusterData(clusterArray,clusterType,viewMoreCount,viewLessCount);}
document.getElementById("navigatorOverlay_"+clusterType).focus();}}
function retrieveDocumentFromFAST(nextClusterCount,originationType,clusterType,clusterCategory){var docURL=buildDocumentURL(nextClusterCount,originationType,clusterType,clusterCategory);showLoadingState(clusterType,nextClusterCount);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){putClusterDataInArray(xmlhttp,clusterType,nextClusterCount);};xmlhttp.open("POST",clusterBaseUrl,true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",docURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(docURL);}
function retrieveAuthorFromFAST(nextClusterCount,originationType,clusterType,clusterCategory){var authURL=buildAuthorURL(nextClusterCount,originationType,clusterType,clusterCategory);showLoadingState(clusterType,nextClusterCount);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){putClusterDataInArray(xmlhttp,clusterType,nextClusterCount);};xmlhttp.open("POST","/standard/viewMore.uri",true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",authURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(authURL);}
function buildAuthorURL(nextClusterCount,originationType,clusterType,clusterCategory){var authorURL="";var authorResultsForm=document.AuthorLookupResultsForm;if(jQuery("#authorResultsFormId").length>0){authorResultsForm=jQuery("#authorResultsFormId")[0];}
if(authorResultsForm!=null){var query=authorResultsForm.s.value;var offset=authorResultsForm.offset.value;var st1="";if(authorResultsForm.st1!=null){st1=authorResultsForm.st1.value;}
var st2="";if(authorResultsForm.st2!=null){st2=authorResultsForm.st2.value;}
var sid=authorResultsForm.sid.value;var sessionSearchId=authorResultsForm.sessionSearchId.value;var origin="AuthorNamesList";var authSubObj=authorResultsForm.authSubject;var optionsAuthSubj="";if(authSubObj!=null){optionsAuthSubj=new Array(authSubObj.length);for(var i=0;i<authSubObj.length;i++){optionsAuthSubj[i]=authSubObj[i].value;}}
var sort=authorResultsForm.sort.value;if(sort==null||sort==''){sort=authorResultsForm.currentSort.value;}
var affCity=authorResultsForm.affilCity.value;var affCntry=authorResultsForm.affilCntry.value;var affId="";if(authorResultsForm.affiliationId!=null){affId=authorResultsForm.affiliationId.value;}
var affName="";if(authorResultsForm.affilName!=null){affName=authorResultsForm.affilName.value;}
var isExactSearch=false;if(authorResultsForm.exactAuthorSearch!=null){isExactSearch=authorResultsForm.exactAuthorSearch.checked;}
var clusterData="";if(authorResultsForm.cluster!=null){var clusterAtt=authorResultsForm.cluster.value;clusterData=escape(clusterAtt);clusterData=clusterData.replace(/\+/g,'%2B');}
var scls="";var sIndex="";if(authorResultsForm.scls!=null){sIndex=authorResultsForm.scls.selectedIndex;if(sIndex!=""&&sIndex>0){scls=authorResultsForm.scls.options[sIndex].value;}}
var sclsb="";var sclsbIndex="";if(authorResultsForm.sclsb!=null){sclsbIndex=authorResultsForm.sclsb.selectedIndex;if(sclsbIndex!=""&&sclsbIndex>0){sclsb=authorResultsForm.sclsb.options[sclsbIndex].value;}}
var aclan="";var aclanIndex="";if(authorResultsForm.aclan!=null){aclanIndex=authorResultsForm.aclan.selectedIndex;if(aclanIndex!=""&&aclanIndex>0){aclan=authorResultsForm.aclan.options[aclanIndex].value;}}
var aclac="";var aclacIndex="";if(authorResultsForm.aclac!=null){aclacIndex=authorResultsForm.aclac.selectedIndex;if(aclacIndex!=""&&aclacIndex>0){aclac=authorResultsForm.aclac.options[aclacIndex].value;}}
var aclcn="";var aclcnIndex="";if(authorResultsForm.aclcn!=null){aclcnIndex=authorResultsForm.aclcn.selectedIndex;if(aclcnIndex!=""&&aclcnIndex>0){aclcn=authorResultsForm.aclcn.options[aclcnIndex].value;}}
var fullList=false;if(authorResultsForm.showFullList!=null){fullList=authorResultsForm.showFullList.value;}
var coAuthor=false;var displayCount="clusterDisplayCount="+nextClusterCount;var searchQuery="&s="+query;var offsetVal="&offset="+offset;var srchTerm1="&st1="+st1;var srchTerm2="&st2="+st2;var sidParam="&sid="+sid;var originParam="&origin="+origin;var authParam="&authSubject="+optionsAuthSubj;var sortType="&sort="+sort;var affilCity="&affilCity="+affCity;var affilCntry="&affilCntry="+affCntry;var affiliationId="&affiliationId="+affId;var affilName="&affilName="+affName;var exactAuthorSearch="&exactAuthorSearch="+isExactSearch;var cluster="&cluster="+clusterData;var originType="&sot="+originationType;var dimensionName="&navigatorName="+clusterType;var selectedCategory="&clusterCategory="+clusterCategory;var sclsParam="&scls="+scls;var sclsbParam="&sclsb="+sclsb;var aclanParam="&aclan="+aclan;var aclacParam="&aclac="+aclac;var aclcnParam="&aclcn="+aclcn;var coAuthorForm="&coAuthorForm="+coAuthor;var showFullList="&showFullList="+fullList;var sessionId="&sessionSearchId="+sessionSearchId;var isRebrandLayout="&isRebrandLayout="+true;authorURL=displayCount+searchQuery+offsetVal+srchTerm1+srchTerm2+sidParam+originParam+authParam+sortType+affilCity+affilCntry
+affiliationId+affilName+exactAuthorSearch+cluster+originType+dimensionName+selectedCategory+sclsParam+sclsbParam+aclanParam
+aclacParam+aclcnParam+coAuthorForm+showFullList+sessionId+isRebrandLayout;}else if(document.CoAuthorResultsForm!=null){coAuthor=true;query=document.CoAuthorResultsForm.s.value;offset=document.CoAuthorResultsForm.offset.value;if(document.CoAuthorResultsForm.st1!=null){st1=document.CoAuthorResultsForm.st1.value;}
if(document.CoAuthorResultsForm.st2!=null){st2=document.CoAuthorResultsForm.st2.value;}
sid=document.CoAuthorResultsForm.sid.value;sessionSearchId=document.CoAuthorResultsForm.sessionSearchId.value;origin="AuthorNamesList";authSubObj=document.CoAuthorResultsForm.authSubject;if(authSubObj!=null){optionsAuthSubj=new Array(authSubObj.length);for(i=0;i<authSubObj.length;i++){optionsAuthSubj[i]=authSubObj[i].value;}}
sort=document.CoAuthorResultsForm.sort.value;if(sort==null||sort==''){sort=document.CoAuthorResultsForm.currentSort.value;}
affCity=document.CoAuthorResultsForm.affilCity.value;affCntry=document.CoAuthorResultsForm.affilCntry.value;if(document.CoAuthorResultsForm.affiliationId!=null){affId=document.CoAuthorResultsForm.affiliationId.value;}
if(document.CoAuthorResultsForm.affilName!=null){affName=document.CoAuthorResultsForm.affilName.value;}
if(document.CoAuthorResultsForm.exactAuthorSearch!=null){isExactSearch=document.CoAuthorResultsForm.exactAuthorSearch.checked;}
if(document.CoAuthorResultsForm.cluster!=null){clusterAtt=document.CoAuthorResultsForm.cluster.value;clusterData=escape(clusterAtt);clusterData=clusterData.replace(/\+/g,'%2B');}
if(document.CoAuthorResultsForm.scls!=null){sIndex=document.CoAuthorResultsForm.scls.selectedIndex;if(sIndex!=""&&sIndex>0){scls=document.CoAuthorResultsForm.scls.options[sIndex].value;}}
if(document.CoAuthorResultsForm.sclsb!=null){sclsbIndex=document.CoAuthorResultsForm.sclsb.selectedIndex;if(sclsbIndex!=""&&sclsbIndex>0){sclsb=document.CoAuthorResultsForm.sclsb.options[sclsbIndex].value;}}
if(document.CoAuthorResultsForm.aclan!=null){aclanIndex=document.CoAuthorResultsForm.aclan.selectedIndex;if(aclanIndex!=""&&aclanIndex>0){aclan=document.CoAuthorResultsForm.aclan.options[aclanIndex].value;}}
if(document.CoAuthorResultsForm.aclac!=null){aclacIndex=document.CoAuthorResultsForm.aclac.selectedIndex;if(aclacIndex!=""&&aclacIndex>0){aclac=document.CoAuthorResultsForm.aclac.options[aclacIndex].value;}}
if(document.CoAuthorResultsForm.aclcn!=null){aclcnIndex=document.CoAuthorResultsForm.aclcn.selectedIndex;if(aclcnIndex!=""&&aclcnIndex>0){aclcn=document.CoAuthorResultsForm.aclcn.options[aclcnIndex].value;}}
var authId="";if(document.CoAuthorResultsForm.authorId!=null){authId=document.CoAuthorResultsForm.authorId.value;}
displayCount="clusterDisplayCount="+nextClusterCount;searchQuery="&s="+query;offsetVal="&offset="+offset;srchTerm1="&st1="+st1;srchTerm2="&st2="+st2;sidParam="&sid="+sid;originParam="&origin="+origin;authParam="&authSubject="+optionsAuthSubj;sortType="&sort="+sort;affilCity="&affilCity="+affCity;affilCntry="&affilCntry="+affCntry;affiliationId="&affiliationId="+affId;affilName="&affilName="+affName;exactAuthorSearch="&exactAuthorSearch="+isExactSearch;cluster="&cluster="+clusterData;originType="&sot="+originationType;dimensionName="&navigatorName="+clusterType;selectedCategory="&clusterCategory="+clusterCategory;sclsParam="&scls="+scls;sclsbParam="&sclsb="+sclsb;aclanParam="&aclan="+aclan;aclacParam="&aclac="+aclac;aclcnParam="&aclcn="+aclcn;coAuthorForm="&coAuthorForm="+coAuthor;showFullList="&showFullList="+fullList;var authorId="&authorId="+authId;sessionId="&sessionSearchId="+sessionSearchId;authorURL=displayCount+searchQuery+offsetVal+srchTerm1+srchTerm2+sidParam+originParam+authParam+sortType+affilCity+affilCntry
+affiliationId+affilName+exactAuthorSearch+cluster+originType+dimensionName+selectedCategory+sclsParam+sclsbParam+aclanParam
+aclacParam+aclcnParam+coAuthorForm+showFullList+authorId+sessionId;}
return authorURL;}
function retrieveAffiliationFromFAST(nextClusterCount,originationType,clusterType,clusterCategory){var affilURL=buildAffilURL(nextClusterCount,originationType,clusterType,clusterCategory);showLoadingState(clusterType,nextClusterCount);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){putClusterDataInArray(xmlhttp,clusterType,nextClusterCount);};xmlhttp.open("POST","/standard/viewMore.uri",true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",affilURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(affilURL);}
function buildAffilURL(nextClusterCount,originationType,clusterType,clusterCategory){var query=document.AffiliationLookupResultsForm.s.value;var st1=document.AffiliationLookupResultsForm.st1.value;var st2=document.AffiliationLookupResultsForm.st2.value;var sot="";if(document.AffiliationLookupResultsForm.sot!=null){sot=document.AffiliationLookupResultsForm.sot.value;}
var sid=document.AffiliationLookupResultsForm.sid.value;var affiName=document.AffiliationLookupResultsForm.affilName.value;var affiCity=document.AffiliationLookupResultsForm.affilCity.value;var affiCntry=document.AffiliationLookupResultsForm.affilCntry.value;var affiId="";if(document.AffiliationLookupResultsForm.affiliationId!=null){affiId=document.AffiliationLookupResultsForm.affiliationId.value;}
var origin="AffiliationNamesList";var sort=document.AffiliationLookupResultsForm.sort.value;if(sort==null||sort==''){sort=document.AffiliationLookupResultsForm.currentSort.value;}
var cluster="";if(document.AffiliationLookupResultsForm.cluster!=null){var clusterAtt=document.AffiliationLookupResultsForm.cluster.value;cluster=escape(clusterAtt);cluster=cluster.replace(/\+/g,'%2B');}
var afclcn="";var afclcnIndex="";if(document.AffiliationLookupResultsForm.afclcn!=null){afclcnIndex=document.AffiliationLookupResultsForm.afclcn.selectedIndex;if(afclcnIndex!=""&&afclcnIndex>0){afclcn=document.AffiliationLookupResultsForm.afclcn.options[afclcnIndex].value;}}
var afclac="";var afclacIndex="";if(document.AffiliationLookupResultsForm.afclac!=null){afclacIndex=document.AffiliationLookupResultsForm.afclac.selectedIndex;if(afclacIndex!=""&&afclacIndex>0){afclac=document.AffiliationLookupResultsForm.afclac.options[afclacIndex].value;}}
var displayCount="clusterDisplayCount="+nextClusterCount;var originType="&sot="+originationType;var dimensionName="&navigatorName="+clusterType;var selectedCategory="&clusterCategory="+clusterCategory;var searchQuery="&s="+query;var srchTerm1="&st1="+st1;var srchTerm2="&st2="+st2;var sotParam="&sot="+sot;var sidParam="&sid="+sid;var affilName="&affilName="+affiName;var affilCity="&affilCity="+affiCity;var affilCntry="&affilCntry="+affiCntry;var affilId="&affiliationId="+affiId;var originParam="&origin="+origin;var sortType="&sort="+sort;var clusterData="&cluster="+cluster;var afclcnParam="&afclcn="+afclcn;var afclacParam="&afclac="+afclac;var isRebrandLayout="&isRebrandLayout="+true;var affiliationURL=displayCount+originType+dimensionName+selectedCategory+searchQuery+srchTerm1+srchTerm2+sotParam+sidParam+affilName
+affilCity+affilCntry+affilId+originParam+sortType+clusterData+afclcnParam+afclacParam+isRebrandLayout;return affiliationURL;}
function viewFewerClusters(clusterType){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;if(cluster!=clusterType){overlayHide(cluster);}}
var clusterLessCount=Number(document.getElementById("viewLessCount_"+clusterType).innerHTML);if(clusterLessCount==0){collapseSection(clusterType,'collapse');}else if(clusterLessCount==5){jQuery("#hidden_"+clusterType).addClass('hidden');document.getElementById("viewMoreCount_"+clusterType).innerHTML=5;document.getElementById("viewLessCount_"+clusterType).innerHTML=0;jQuery("#viewMoreLink_"+clusterType).removeClass('hidden');jQuery("#viewFewerLink_"+clusterType).addClass('hidden');jQuery("#viewAllLink_"+clusterType).addClass('hidden');setSelectedCluster(clusterType,'open',5);}else if(clusterLessCount==10){$('#navigatorOverlay_'+clusterType).modal('hide');handleViewFewerClusterData(clusterType,10,5);}
setOverlayStyle(clusterType);return;}
function preProcessClusterSorting(event){var selectId=event.id;var clusterJson=jQuery('#onchangeinput'+selectId.substr(selectId.indexOf('_'),selectId.length)).attr('data-onchangeinputs');var clusterjsonstrn=jQuery.parseJSON(clusterJson);handleClusterSorting('resultslist',searchType,clusterjsonstrn.clusterType,clusterjsonstrn.selectedClustersName);}
function handleClusterSorting(origin,originationType,clusterType,clusterCategory){if(origin=='resultslist'){if(document.getElementById("clusterSort_scls")!=null&&document.getElementById("clusterSort_scls").value!='# of results'){jQuery("#hideAnalyzeSources").css('display','inline-block');jQuery("#showAnalyzeSources").css('display','none');}else{jQuery("#showAnalyzeSources").css('display','inline-block');jQuery("#hideAnalyzeSources").css('display','none');}}
var currentClusterCount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);updateCheckBuffer(clusterType);var xmlhttp;if(origin=='AuthorNamesList'){var authURL=buildAuthorURL(currentClusterCount,originationType,clusterType,clusterCategory);xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){fetchSortedClusterValue(xmlhttp,clusterType,currentClusterCount);};xmlhttp.open("POST","/standard/viewMore.uri",true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",authURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(authURL);}else if(origin=='AffiliationNamesList'){var affilURL=buildAffilURL(currentClusterCount,originationType,clusterType,clusterCategory);xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){fetchSortedClusterValue(xmlhttp,clusterType,currentClusterCount);};xmlhttp.open("POST","/standard/viewMore.uri",true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",affilURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(affilURL);}else if(origin=='resultslist'){var docURL=buildDocumentURL(currentClusterCount,originationType,clusterType,clusterCategory);xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){fetchSortedClusterValue(xmlhttp,clusterType,currentClusterCount);};xmlhttp.open("POST",clusterBaseUrl,true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",docURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(docURL);}
return;}
function updateCheckBuffer(clusterType){var checkbuff=document.getElementById("checkArray_"+clusterType).innerHTML;if(checkbuff!=""){var checkArray=checkbuff.split(",");}
checkbuff="";if(checkArray!=null&&checkArray.length>0){for(var x=0;x<checkArray.length;x++){if(document.getElementById(checkArray[x])==null){checkbuff+=","+checkArray[x];}}}
var checkBoxes1=null;var checkBoxes2=null;var checkBoxes3=null;var checkBoxes4=null;var checkString="";if(document.getElementById("overlayul_"+clusterType+"1")!=null){checkBoxes1=jQuery("#overlayul_"+clusterType+"1").find("input");}
if(document.getElementById("overlayul_"+clusterType+"2")!=null){checkBoxes2=jQuery("#overlayul_"+clusterType+"2").find("input");}
if(document.getElementById("overlayul_"+clusterType+"3")!=null){checkBoxes3=jQuery("#overlayul_"+clusterType+"3").find("input");}
if(document.getElementById("overlayul_"+clusterType+"4")!=null){checkBoxes4=jQuery("#overlayul_"+clusterType+"4").find("input");}
var i;if(checkBoxes2!=null&&checkBoxes2.length>0){for(i=0;i<checkBoxes2.length;i++){if(checkBoxes2[i].checked){checkString+=checkBoxes2[i].id+",";}}}
if(checkBoxes3!=null&&checkBoxes3.length>0){for(i=0;i<checkBoxes3.length;i++){if(checkBoxes3[i].checked){checkString+=checkBoxes3[i].id+",";}}}
if(checkBoxes4!=null&&checkBoxes4.length>0){for(i=0;i<checkBoxes4.length;i++){if(checkBoxes4[i].checked){checkString+=checkBoxes4[i].id+",";}}}
if(checkBoxes1!=null&&checkBoxes1.length>0){for(i=0;i<checkBoxes1.length;i++){if(checkBoxes1[i].checked){checkString+=checkBoxes1[i].id+",";}}}
if(checkString!=""){checkString=checkString.substring(0,checkString.length-1);}
document.getElementById("checkArray_"+clusterType).innerHTML=checkString+checkbuff;}
function fetchSortedClusterValue(xmlhttp,clusterType,currentClusterCount){if(xmlhttp.readyState==4){var clusterVal=xmlhttp.responseText.substr(0,(xmlhttp.responseText.lastIndexOf(']')+1));if(clusterVal!=null&&clusterVal!=''){var evalClusterVal=eval(clusterVal);if(currentClusterCount==160){document.getElementById("viewLessCount_"+clusterType).innerHTML=40;}
if(clusterType=='EXACTSRCTITLE'){clusterSourceTitleArray=evalClusterVal;replaceWithSortedClusterData(clusterSourceTitleArray,clusterType,currentClusterCount);}else if(clusterType=='PUBYEAR'){clusterPubYearArray=evalClusterVal;replaceWithSortedClusterData(clusterPubYearArray,clusterType,currentClusterCount);}else if(clusterType=='DOCTYPE'){clusterDocTypeArray=evalClusterVal;replaceWithSortedClusterData(clusterDocTypeArray,clusterType,currentClusterCount);}else if(clusterType=='SUBJAREA'){clusterSubAreaArray=evalClusterVal;replaceWithSortedClusterData(clusterSubAreaArray,clusterType,currentClusterCount);}else if(clusterType=='AUTHOR_NAME_AND_ID'){clusterAuthorNameArray=evalClusterVal;replaceWithSortedClusterData(clusterAuthorNameArray,clusterType,currentClusterCount);}else if(clusterType=='COUNTRY_NAME'){clusterCountryNameArray=evalClusterVal;replaceWithSortedClusterData(clusterCountryNameArray,clusterType,currentClusterCount);}else if(clusterType=='LANGUAGE'){clusterLanguageArray=evalClusterVal;replaceWithSortedClusterData(clusterLanguageArray,clusterType,currentClusterCount);}else if(clusterType=='AFFIL'){clusterAffilArray=evalClusterVal;replaceWithSortedClusterData(clusterAffilArray,clusterType,currentClusterCount);}else if(clusterType=='SCOPUSSRCTYPE'){clusterSourceTypeArray=evalClusterVal;replaceWithSortedClusterData(clusterSourceTypeArray,clusterType,currentClusterCount);}else if(clusterType=='EXACTKEYWORD'){clusterKeyWordArray=evalClusterVal;replaceWithSortedClusterData(clusterKeyWordArray,clusterType,currentClusterCount);}else if(clusterType=='AUCITE'){clusterAuthCiteArray=evalClusterVal;replaceWithSortedClusterData(clusterAuthCiteArray,clusterType,currentClusterCount);}else if(clusterType=='STATUSTYPE'){clusterStatusTypeArray=evalClusterVal;replaceWithSortedClusterData(clusterStatusTypeArray,clusterType,currentClusterCount);}else if(clusterType=='affilcity'){affilCityArray=evalClusterVal;replaceWithSortedClusterData(affilCityArray,clusterType,currentClusterCount);}else if(clusterType=='affilctry'){affilCntryArray=evalClusterVal;replaceWithSortedClusterData(affilCntryArray,clusterType,currentClusterCount);}else if(clusterType=='subjclus'){affilSubAreaArray=evalClusterVal;replaceWithSortedClusterData(affilSubAreaArray,clusterType,currentClusterCount);}else if(clusterType=='srctitle'){affilSourceTitleArray=evalClusterVal;replaceWithSortedClusterData(affilSourceTitleArray,clusterType,currentClusterCount);}else if(clusterType=='afnameid'){affilNameArray=evalClusterVal;replaceWithSortedClusterData(affilNameArray,clusterType,currentClusterCount);}else if(clusterType=='srctype'){contentSrcArray=evalClusterVal;replaceWithSortedClusterData(contentSrcArray,clusterType,currentClusterCount);}else if(clusterType=='txt14'){keywordArray=evalClusterVal;replaceWithSortedClusterData(keywordArray,clusterType,currentClusterCount);}else if(clusterType=='subtype'){infoTypeArray=evalClusterVal;replaceWithSortedClusterData(infoTypeArray,clusterType,currentClusterCount);}}
if(clusterVal==''){document.getElementById("overlayul_"+clusterType+'1').innerHTML="";document.getElementById("overlayul_"+clusterType+'2').innerHTML="";document.getElementById("overlayul_"+clusterType+'3').innerHTML="";document.getElementById("overlayul_"+clusterType+'4').innerHTML="";if(currentClusterCount==160){document.getElementById("viewLessCount_"+clusterType).innerHTML=10;}
if(clusterType=='EXACTSRCTITLE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SOURCE();clusterSourceTitleArray="";}else if(clusterType=='PUBYEAR'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_YEARS();clusterPubYearArray="";}else if(clusterType=='DOCTYPE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_DOCUMENT();clusterDocTypeArray="";}else if(clusterType=='SUBJAREA'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SUBJECT();clusterSubAreaArray="";}else if(clusterType=='AUTHOR_NAME_AND_ID'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AUTHOR();clusterAuthorNameArray="";}else if(clusterType=='COUNTRY_NAME'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_COUNTRIES();clusterCountryNameArray="";}else if(clusterType=='LANGUAGE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AUTHOR();clusterLanguageArray="";}else if(clusterType=='AFFIL'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AFFILIATION();clusterAffilArray="";}else if(clusterType=='SCOPUSSRCTYPE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SOURCE_TYPE();clusterSourceTypeArray="";}else if(clusterType=='EXACTKEYWORD'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_KEYWORDS();clusterKeyWordArray="";}else if(clusterType=='AUCITE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AUTHOR_NAME();clusterAuthCiteArray="";}else if(clusterType=='STATUSTYPE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_RESULT();clusterStatusTypeArray="";}else if(clusterType=='affilcity'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_CITIES();affilCityArray="";}else if(clusterType=='affilctry'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_COUNTRIES();affilCntryArray="";}else if(clusterType=='subjclus'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SUBJECT();affilSubAreaArray="";}else if(clusterType=='srctitle'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SOURCE();affilSourceTitleArray="";}else if(clusterType=='afnameid'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AFFILIATION();affilNameArray="";}else if(clusterType=='srctype'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_CONTENT();contentSrcArray="";}else if(clusterType=='txt14'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_KEYWORDS();keywordArray="";}else if(clusterType=='subtype'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_INFORMATION();infoTypeArray="";}}
setOverlayStyle(clusterType);enableDisableLmtExcBtn.noItemsSelected();}}
function replaceWithSortedClusterData(arrayValue,clusterType,clusterCount){if(fastCallDone[clusterType][3]=='true'&&clusterCount==40){fastCallDone[clusterType][3]='false';}
var newStr="";for(var i=0;i<clusterCount;i++){newStr=newStr+arrayValue[i];}
document.getElementById("overlayul_"+clusterType).innerHTML=newStr;document.getElementById("overlayul_"+clusterType+'1').innerHTML="";document.getElementById("overlayul_"+clusterType+'2').innerHTML="";document.getElementById("overlayul_"+clusterType+'3').innerHTML="";document.getElementById("overlayul_"+clusterType+'4').innerHTML="";var liList=jQuery("#overlayul_"+clusterType).find("li");var liHtml="";var listLen=0;var overlaycount="";if(clusterCount==160||clusterCount==40){overlaycount+=clusterCount;}
if(clusterCount==40&&liList.length==41){listLen=liList.length-1;}else{listLen=liList.length;}
var checkArray="",checkObj="",checkString="";if(clusterCount==40){if(listLen>30&&listLen<=40){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<30;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";for(i=30;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;}else if(listLen>20&&listLen<=30){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;}else if(listLen>10&&listLen<=20){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;}else if(listLen<=10){for(i=0;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;}
checkString=document.getElementById("checkArray_"+clusterType).innerHTML;if(checkString!=""){checkArray=checkString.split(",");}
for(i=0;i<checkArray.length;i++){if(checkArray[i]!=""){checkObj=jQuery("#navigatorOverlay_"+clusterType).find("#"+checkArray[i]);if(checkObj!=null){checkObj.attr('checked','true');}}}}else if(clusterCount==160){var divCnt=Math.floor(liList.length/4);var remCnt=liList.length%4;var firstRCnt=divCnt;if(remCnt>=1){firstRCnt+=1;}
var secRCnt=2*divCnt+remCnt;if(remCnt>=2){secRCnt=2*firstRCnt;}
var thirdRCnt=3*divCnt+remCnt;if(remCnt==3){thirdRCnt=3*firstRCnt;}
for(i=0;i<firstRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=firstRCnt;i<secRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";var isCountIncluded=false;for(i=secRCnt;i<thirdRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);isCountIncluded=true;}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";if(isCountIncluded){for(i=thirdRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}}else{if(liList.length>1){for(i=secRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}}}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;checkString=document.getElementById("checkArray_"+clusterType).innerHTML;if(checkString!=""){checkArray=checkString.split(",");}
for(i=0;i<checkArray.length;i++){if(checkArray[i]!=""){checkObj=jQuery("#navigatorOverlay_"+clusterType).find("#"+checkArray[i]);if(checkObj!=null){checkObj.attr('checked','true');}}}}
var liArray="";if(document.getElementById("overlayul_"+clusterType+"1")!=null){liArray=jQuery("#overlayul_"+clusterType+"1").find("li");}
var navClusterli=jQuery("#body_"+clusterType).find("li");if(liArray!=""){for(i=0;i<navClusterli.length;i++){if(i<10){if(liArray.length==0&&i==0){navClusterli[0].innerHTML=document.getElementById("overlayul_"+clusterType+"1").innerHTML;}else{if(i<liArray.length){var newLi=jQuery(liArray[i]);var authorId=newLi.attr("data-auid");var oldLi=jQuery(navClusterli[i]);var newId=["li_",authorId].join('');oldLi.attr("id",newId).html(newLi.html());oldLi.find("#cib_Div_Overlay_"+clusterCount+authorId).remove();var overLayDiv=jQuery("<div>",{'id':'cib_Div_Overlay_'+authorId});oldLi.append(overLayDiv);}else{navClusterli[i].innerHTML="";}}}else{break;}}
if(liArray.length>0){if(liArray.length<=5){if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="none";}
if(document.getElementById("overlayBody_"+clusterType)!=null){document.getElementById("overlayBody_"+clusterType).style.minHeight="80px";}}else if(liArray.length>5){if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="block";}
if(document.getElementById("overlayBody_"+clusterType)!=null){document.getElementById("overlayBody_"+clusterType).style.minHeight="120px";}}}}
document.getElementById("overlayul_"+clusterType).innerHTML="";}
function handleViewFewerClusterData(clusterType,moreCount,lessCount){if(clusterType=='EXACTSRCTITLE'){replaceCurrentClusterData(clusterSourceTitleArray,clusterType,moreCount,lessCount);}else if(clusterType=='PUBYEAR'){replaceCurrentClusterData(clusterPubYearArray,clusterType,moreCount,lessCount);}else if(clusterType=='DOCTYPE'){replaceCurrentClusterData(clusterDocTypeArray,clusterType,moreCount,lessCount);}else if(clusterType=='SUBJAREA'){replaceCurrentClusterData(clusterSubAreaArray,clusterType,moreCount,lessCount);}else if(clusterType=='AUTHOR_NAME_AND_ID'){replaceCurrentClusterData(clusterAuthorNameArray,clusterType,moreCount,lessCount);}else if(clusterType=='COUNTRY_NAME'){replaceCurrentClusterData(clusterCountryNameArray,clusterType,moreCount,lessCount);}else if(clusterType=='LANGUAGE'){replaceCurrentClusterData(clusterLanguageArray,clusterType,moreCount,lessCount);}else if(clusterType=='AFFIL'){replaceCurrentClusterData(clusterAffilArray,clusterType,moreCount,lessCount);}else if(clusterType=='SCOPUSSRCTYPE'){replaceCurrentClusterData(clusterSourceTypeArray,clusterType,moreCount,lessCount);}else if(clusterType=='EXACTKEYWORD'){replaceCurrentClusterData(clusterKeyWordArray,clusterType,moreCount,lessCount);}else if(clusterType=='AUCITE'){replaceCurrentClusterData(clusterAuthCiteArray,clusterType,moreCount,lessCount);}else if(clusterType=='STATUSTYPE'){replaceCurrentClusterData(clusterStatusTypeArray,clusterType,moreCount,lessCount);}else if(clusterType=='affilcity'){replaceCurrentClusterData(affilCityArray,clusterType,moreCount,lessCount);}else if(clusterType=='affilctry'){replaceCurrentClusterData(affilCntryArray,clusterType,moreCount,lessCount);}else if(clusterType=='afnameid'){replaceCurrentClusterData(affilNameArray,clusterType,moreCount,lessCount);}else if(clusterType=='subjclus'){replaceCurrentClusterData(affilSubAreaArray,clusterType,moreCount,lessCount);}else if(clusterType=='srctitle'){replaceCurrentClusterData(affilSourceTitleArray,clusterType,moreCount,lessCount);}else if(clusterType=='txt14'){replaceCurrentClusterData(keywordArray,clusterType,moreCount,lessCount);}else if(clusterType=='srctype'){replaceCurrentClusterData(contentSrcArray,clusterType,moreCount,lessCount);}else if(clusterType=='subtype'){replaceCurrentClusterData(infoTypeArray,clusterType,moreCount,lessCount);}}
function replaceCurrentClusterData(arrayValue,clusterType,moreCount,lessCount){var newStr="";for(var i=0;i<moreCount;i++){newStr=newStr+arrayValue[i];}
if(moreCount==160||moreCount==40){var checkbuff=document.getElementById("checkArray_"+clusterType).innerHTML;if(checkbuff!=""){var checkArray=checkbuff.split(",");}
checkbuff="";if(checkArray!=null&&checkArray.length>0){for(var x=0;x<checkArray.length;x++){if(document.getElementById(checkArray[x])==null){checkbuff+=","+checkArray[x];}}}}
var overlaycount="";if(moreCount==160||moreCount==40){overlaycount+=moreCount;}
document.getElementById("overlayul_"+clusterType).innerHTML=newStr;document.getElementById("viewMoreCount_"+clusterType).innerHTML=moreCount;document.getElementById("viewLessCount_"+clusterType).innerHTML=lessCount;var liList=jQuery("#overlayul_"+clusterType).find("li");var liHtml="";var listLen=0;if(moreCount==40&&liList.length==41){listLen=liList.length-1;}else{listLen=liList.length;}
if(moreCount==10){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,"",i);}
overlayHidepass(clusterType);}else if(listLen<=40){if(document.getElementById("overlayul_"+clusterType+'1')!=null){document.getElementById("overlayul_"+clusterType+'1').innerHTML="";}
if(document.getElementById("overlayul_"+clusterType+'2')!=null){document.getElementById("overlayul_"+clusterType+'2').innerHTML="";}
if(document.getElementById("overlayul_"+clusterType+'3')!=null){document.getElementById("overlayul_"+clusterType+'3').innerHTML="";}
if(document.getElementById("overlayul_"+clusterType+'4')!=null){document.getElementById("overlayul_"+clusterType+'4').innerHTML="";}
if(listLen>30&&listLen<=40){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<30;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";for(i=30;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;}else if(listLen>20&&listLen<=30){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;}else if(listLen>10&&listLen<=20){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;}else if(listLen<=10){for(i=0;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;}
document.getElementById("viewMoreCount_"+clusterType).innerHTML="160";document.getElementById("viewLessCount_"+clusterType).innerHTML="10";overlayShow(clusterType);}else if(moreCount==160){var checkBoxes1=null;var checkBoxes2=null;var checkBoxes3=null;var checkBoxes4=null;var checkString="";if(document.getElementById("overlayul_"+clusterType+"1")!=null){checkBoxes1=jQuery("#overlayul_"+clusterType+"1").find("input");}
if(document.getElementById("overlayul_"+clusterType+"2")!=null){checkBoxes2=jQuery("#overlayul_"+clusterType+"2").find("input");}
if(document.getElementById("overlayul_"+clusterType+"3")!=null){checkBoxes3=jQuery("#overlayul_"+clusterType+"3").find("input");}
if(document.getElementById("overlayul_"+clusterType+"4")!=null){checkBoxes4=jQuery("#overlayul_"+clusterType+"4").find("input");}
if(checkBoxes2!=null&&checkBoxes2.length>0){for(i=0;i<checkBoxes2.length;i++){if(checkBoxes2[i].checked){checkString+=checkBoxes2[i].id+",";}}}
if(checkBoxes3!=null&&checkBoxes3.length>0){for(i=0;i<checkBoxes3.length;i++){if(checkBoxes3[i].checked){checkString+=checkBoxes3[i].id+",";}}}
if(checkBoxes4!=null&&checkBoxes4.length>0){for(i=0;i<checkBoxes4.length;i++){if(checkBoxes4[i].checked){checkString+=checkBoxes4[i].id+",";}}}
if(checkBoxes1!=null&&checkBoxes1.length>0){for(i=0;i<checkBoxes1.length;i++){if(checkBoxes1[i].checked){checkString+=checkBoxes1[i].id+",";}}}
if(checkString!=""){checkString=checkString.substring(0,checkString.length-1);}
document.getElementById("checkArray_"+clusterType).innerHTML=checkString+checkbuff;var divCnt=Math.floor(liList.length/4);var remCnt=liList.length%4;var firstRCnt=divCnt;if(remCnt>=1){firstRCnt+=1;}
var secRCnt=2*divCnt+remCnt;if(remCnt>=2){secRCnt=2*firstRCnt;}
var thirdRCnt=3*divCnt+remCnt;if(remCnt==3){thirdRCnt=3*firstRCnt;}
for(i=0;i<firstRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=firstRCnt;i<secRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);;}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";var isCountIncluded=false;for(i=secRCnt;i<thirdRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);isCountIncluded=true;}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";if(isCountIncluded){for(i=thirdRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}}else{for(i=secRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;document.getElementById("viewMoreCount_"+clusterType).innerHTML="160";document.getElementById("viewLessCount_"+clusterType).innerHTML="10";overlayShow(clusterType);}
setOverlayStyle(clusterType);document.getElementById("overlayul_"+clusterType).innerHTML="";}
function putClusterDataInArray(xmlhttp,clusterType,clusterCount){var authorResultsForm=document.AuthorLookupResultsForm;if(jQuery("#authorResultsFormId").length>0){authorResultsForm=jQuery("#authorResultsFormId")[0];}
if(xmlhttp.readyState==4){var clusterVal=xmlhttp.responseText.substr(0,(xmlhttp.responseText.lastIndexOf(']')+1));if(clusterVal!=null&&clusterVal!=''){var evalClusterVal=eval(clusterVal);if(clusterType=='EXACTSRCTITLE'){clusterSourceTitleArray=evalClusterVal;jQuery("[name='clsSrctitleCount']").val(clusterSourceTitleArray.length);writeClusterData(clusterSourceTitleArray,clusterType,clusterCount);}else if(clusterType=='PUBYEAR'){clusterPubYearArray=evalClusterVal;jQuery("[name='clsYearCount']").val(clusterPubYearArray.length);writeClusterData(clusterPubYearArray,clusterType,clusterCount);}else if(clusterType=='DOCTYPE'){clusterDocTypeArray=evalClusterVal;document.SearchResultsForm.clsDocTypeCount.value=clusterDocTypeArray.length;writeClusterData(clusterDocTypeArray,clusterType,clusterCount);}else if(clusterType=='SUBJAREA'){clusterSubAreaArray=evalClusterVal;document.SearchResultsForm.clsSubareaCount.value=clusterSubAreaArray.length;writeClusterData(clusterSubAreaArray,clusterType,clusterCount);}else if(clusterType=='AUTHOR_NAME_AND_ID'){clusterAuthorNameArray=evalClusterVal;document.SearchResultsForm.clsAuthnameCount.value=clusterAuthorNameArray.length;writeClusterData(clusterAuthorNameArray,clusterType,clusterCount);}else if(clusterType=='COUNTRY_NAME'){clusterCountryNameArray=evalClusterVal;jQuery("[name='clsDocCntryCount']").val(clusterCountryNameArray.length);writeClusterData(clusterCountryNameArray,clusterType,clusterCount);}else if(clusterType=='LANGUAGE'){clusterLanguageArray=evalClusterVal;document.SearchResultsForm.clsLangCount.value=clusterLanguageArray.length;writeClusterData(clusterLanguageArray,clusterType,clusterCount);}else if(clusterType=='AFFIL'){clusterAffilArray=evalClusterVal;document.SearchResultsForm.clsAffilCount.value=clusterAffilArray.length;writeClusterData(clusterAffilArray,clusterType,clusterCount);}else if(clusterType=='SCOPUSSRCTYPE'){clusterSourceTypeArray=evalClusterVal;document.SearchResultsForm.clsSrctypeCount.value=clusterSourceTypeArray.length;writeClusterData(clusterSourceTypeArray,clusterType,clusterCount);}else if(clusterType=='EXACTKEYWORD'){clusterKeyWordArray=evalClusterVal;document.SearchResultsForm.clsKeyCount.value=clusterKeyWordArray.length;writeClusterData(clusterKeyWordArray,clusterType,clusterCount);}else if(clusterType=='AUCITE'){clusterAuthCiteArray=evalClusterVal;writeClusterData(clusterAuthCiteArray,clusterType,clusterCount);}else if(clusterType=='STATUSTYPE'){clusterStatusTypeArray=evalClusterVal;document.SearchResultsForm.clsStatusTypeCount.value=clusterKeyWordArray.length;writeClusterData(clusterStatusTypeArray,clusterType,clusterCount);}else if(clusterType=='affilcity'){affilCityArray=eval(clusterVal);if(authorResultsForm!=null){authorResultsForm.clsCityCount.value=affilCityArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsCityCount.value=affilCityArray.length;}
if(document.AffiliationLookupResultsForm!=null){document.AffiliationLookupResultsForm.clsCityCount.value=affilCityArray.length;}
writeClusterData(affilCityArray,clusterType,clusterCount);}else if(clusterType=='affilctry'){affilCntryArray=eval(clusterVal);if(authorResultsForm!=null){authorResultsForm.clsCntryCount.value=affilCntryArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsCntryCount.value=affilCntryArray.length;}
if(document.AffiliationLookupResultsForm!=null){document.AffiliationLookupResultsForm.clsCntryCount.value=affilCntryArray.length;}
writeClusterData(affilCntryArray,clusterType,clusterCount);}else if(clusterType=='subjclus'){affilSubAreaArray=eval(clusterVal);if(authorResultsForm!=null){authorResultsForm.clsSubareaCount.value=affilSubAreaArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsSubareaCount.value=affilSubAreaArray.length;}
writeClusterData(affilSubAreaArray,clusterType,clusterCount);}else if(clusterType=='srctitle'){affilSourceTitleArray=eval(clusterVal);if(authorResultsForm!=null){authorResultsForm.clsSrctitleCount.value=affilSourceTitleArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsSrctitleCount.value=affilSourceTitleArray.length;}
writeClusterData(affilSourceTitleArray,clusterType,clusterCount);}else if(clusterType=='afnameid'){affilNameArray=eval(clusterVal);if(authorResultsForm!=null){authorResultsForm.clsAffilCount.value=affilNameArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsAffilCount.value=affilNameArray.length;}
writeClusterData(affilNameArray,clusterType,clusterCount);}else if(clusterType=='srctype'){contentSrcArray=evalClusterVal;document.SearchResultsForm.clsCntSourceCount.value=98;writeClusterData(contentSrcArray,clusterType,clusterCount);}else if(clusterType=='txt14'){keywordArray=evalClusterVal;document.SearchResultsForm.clsKeyCount.value=keywordArray.length;writeClusterData(keywordArray,clusterType,clusterCount);}else if(clusterType=='subtype'){infoTypeArray=evalClusterVal;document.SearchResultsForm.clsInfotypeCount.value=infoTypeArray.length;writeClusterData(infoTypeArray,clusterType,clusterCount);}}}}
function writeClusterData(clusterArrayData,clusterType,clusterCount){var newStr="";for(var i=0;i<clusterCount;i++){newStr=newStr+clusterArrayData[i];}
updateCheckBuffer(clusterType);document.getElementById("overlayul_"+clusterType).innerHTML=newStr;var liList=jQuery("#overlayul_"+clusterType).find("li");var liHtml="";var listLen=0;listLen=liList.length;if(clusterCount==160||(clusterCount==40&&clusterArrayData.length<=40)){overlaycount+=clusterCount;}
var overlaycount="";if(clusterCount==160||clusterCount==40){overlaycount+=clusterCount;}
if(listLen<=40){if(listLen>30&&listLen<=40){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<30;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";for(i=30;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;}else if(listLen>20&&listLen<=30){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;}else if(listLen>10&&listLen<=20){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;}else if(listLen<=10){for(i=0;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;}}else{var divCnt=Math.floor(liList.length/4);var remCnt=liList.length%4;var firstRCnt=divCnt;if(remCnt>=1){firstRCnt+=1;}
var secRCnt=2*divCnt+remCnt;if(remCnt>=2){secRCnt=2*firstRCnt;}
var thirdRCnt=3*divCnt+remCnt;if(remCnt==3){thirdRCnt=3*firstRCnt;}
for(i=0;i<firstRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=firstRCnt;i<secRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=secRCnt;i<thirdRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";for(i=thirdRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;}
document.getElementById("viewMoreCount_"+clusterType).innerHTML=clusterCount;overlayShow(clusterType);if(clusterCount==160){fastCallDone[clusterType][1]='true';document.getElementById("viewLessCount_"+clusterType).innerHTML=10;}
setOverlayStyle(clusterType);document.getElementById("overlayul_"+clusterType).innerHTML="";}
function replaceAllText(source,stringToFind,stringToReplace){var temp=source;var index=temp.indexOf(stringToFind);while(index!=-1){temp=temp.replace(stringToFind,stringToReplace);index=temp.indexOf(stringToFind);}
return temp;}
function refineCIB(linkname,origin,property,navValue,navId){var authorResultsForm=document.AuthorLookupResultsForm;if(jQuery("#authorResultsFormId").length>0){authorResultsForm=jQuery("#authorResultsFormId")[0];}
var markings=jQuery('input');for(var i=0;i<markings.length;i++){if(markings[i].type=="checkbox"){markings[i].checked=false;}}
document.getElementById(navId).checked=true;if(document.SearchResultsForm!=null){document.SearchResultsForm.target='_self';if(linkname=='limit to'||linkname=='resultsCount'){document.SearchResultsForm.clickedLink.value='limit to';if(linkname=='resultsCount'){document.SearchResultsForm.target='_blank';}}else{document.SearchResultsForm.clickedLink.value='exclude';}
document.SearchResultsForm.contextBox.value=true;document.SearchResultsForm.submit();}else if(authorResultsForm!=null){authorResultsForm.target='_self';if(linkname=='limit to'||linkname=='resultsCount'){authorResultsForm.clickedLink.value='limit to';if(linkname=='resultsCount'){authorResultsForm.target='_blank';}}else{authorResultsForm.clickedLink.value='exclude';}
authorResultsForm.contextBox.value=true;authorResultsForm.submit();}else if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.target='_self';if(linkname=='limit to'||linkname=='resultsCount'){document.CoAuthorResultsForm.clickedLink.value='limit to';if(linkname=='resultsCount'){document.CoAuthorResultsForm.target='_blank';}}else{document.CoAuthorResultsForm.clickedLink.value='exclude';}
document.CoAuthorResultsForm.contextBox.value=true;document.CoAuthorResultsForm.submit();}else if(document.AffiliationLookupResultsForm!=null){document.AffiliationLookupResultsForm.target='_self';if(linkname=='limit to'||linkname=='resultsCount'){document.AffiliationLookupResultsForm.clickedLink.value='limit to';if(linkname=='resultsCount'){document.AffiliationLookupResultsForm.target='_blank';}}else{document.AffiliationLookupResultsForm.clickedLink.value='exclude';}
document.AffiliationLookupResultsForm.contextBox.value=true;document.AffiliationLookupResultsForm.submit();}}
function setOverlayStyle(clusterType){var prevUL='',maxHeight=0,overlayID='overlayul_'+clusterType;var ulArr=jQuery("[id^='"+overlayID+"']").slice(0,4);ulArr.each(function(){prevUL=this;jQuery(prevUL).css({height:''});maxHeight=Math.max(maxHeight,jQuery(prevUL).attr('offsetHeight'));});if(maxHeight>0)
ulArr.css({'height':maxHeight+'px'});}
function toggleRefineResultsViewLnk(clusterType){var refineResultsViewLink=jQuery("#refineResultsViewLink_"+clusterType);if(refineResultsViewLink.css('visibility')=='hidden'){refineResultsViewLink.css({'visibility':'visible'});}else{refineResultsViewLink.css({'visibility':'hidden'});}}
function generateHTML(liHtml,liList,count,index){var liListID=liList[index].getAttribute('id');liListID=liListID.replace(/[^a-zA-Z0-9]/g,'');liHtml+="<li class='checkbox' id='li_"+count+liListID+"' data-auid='"+liListID+"'>"+liList[index].innerHTML+"<div id='cib_Div_Overlay_"
+count+liListID+"'><\/div><\/li>";return liHtml;}
jQuery(document).ready(function(){jQuery('#clusterSort_scls,#clusterSort_scla,#clusterSort_sclc,#clusterSort_sclk,#clusterSort_sclsb,#clusterSort_scll').on('selectmenuchange',function(){preProcessClusterSorting(this);});jQuery(".resultViewMoreModal").on('hidden.bs.modal',function(event){var clusterTypeName=event.currentTarget.dataset.clustertype;closeOverlay(clusterTypeName);});});var g_MAX_DOWNLOAD_DOC_COUNT;function PDFdownloadFromResultsPage(control){checkMaxDownloadDocsExceeded(control);var returnVal=true;if(g_maxDownloadSelectedExceeded){g_maxDownloadSelectedExceeded=false;returnVal=confirm(messages.results.error.max.download.exc(g_MAX_DOWNLOAD_DOC_COUNT));}
selCount=getSelectedDocumentCount(control);if(!g_maxDownloadSelectedExceeded&&selCount>0&&returnVal){openDownloadWindow('');document.SearchResultsForm.clickedLink.value="downloadButton";document.SearchResultsForm.target="downloadMain";document.SearchResultsForm.submit();}
return false;}
function PDFdownloadFromRecordPage(control,url){var chromeVer=getChromeVersion();var firefoxVer=getFirefoxVersion();var ieVer=getIEVersion();var chromeTextDDM=messages.resultlist.header.databutton.download.chrome45.ddm();var firefoxTextDDM=messages.resultlist.header.databutton.download.firefox.ddm();var browserMsgDDMTextZone=jQuery('#browserMsgDDMTextZone').html();var returnValue=false;if((ieVer>0)&(ieVer<12)&(ddmDisableQuosa==='false')){openDownloadWindow(url);returnValue=true;}
else{if(ieVer>=12){drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}
else if(ieVer>0){drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}
else if(parseInt(chromeVer)>0){if(ddmFlagForChrome==='true'){populateLinks(control,chromeTextDDM);}
else{drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}}
else if(parseInt(firefoxVer)>0){if(ddmFlagForFirefox==='true'){populateLinks(control,firefoxTextDDM);}
else{drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}}
else{drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}}
return returnValue;}
function getChromeVersion(){var raw=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(navigator.userAgent.match(/OPR/g)){raw=false;}
return raw?parseInt(raw[2],10):false;}
function getFirefoxVersion(){var raw=navigator.userAgent.match(/Firefox\/([0-9]+)\./);return raw?parseInt(raw[1]):0;}
function drawChromeMsgPopUp(infoMessage){jQuery('#dialog-modal-getExtension').removeClass('hidden');jQuery('#dialog-modal-getExtension').modal({backdrop:'static'})
jQuery('#dialog-modal-getExtension .modal-body').html(infoMessage);}
function drawBrowserMsgPopUpDDM(infoMessage){jQuery('#dialog-modal-browserMsgDDM').removeClass('hidden');jQuery('#dialog-modal-browserMsgDDM').modal({backdrop:'static'})
jQuery('#dialog-modal-browserMsgDDM .modal-body').html(infoMessage);}
function getIEVersion(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10);}
var trident=ua.indexOf('Trident/');if(trident>0){var rv=ua.indexOf('rv:');return parseInt(ua.substring(rv+3,ua.indexOf('.',rv)),10);}
var edge=ua.indexOf('Edge/');if(edge>0){return parseInt(ua.substring(edge+5,ua.indexOf('.',edge)),10);}
return false;}
function openDownloadWindow(url){if((navigator.appName=="Microsoft Internet Explorer")&&(parseFloat(navigator.appVersion)<4))
{return false;}
var parms='width=800'+',height=560'+',screenX=0'+',screenY=0'+',left=0'+',top=0'+',status=yes,toolbar=no,menubar=no,location=no'+',scrollbars=yes,resizable=yes';win=window.open(url,'downloadMain',parms);win.focus();return false;}
var g_formSubmitOK=true;var allowed=true;var reqFromhubLink=false;var hubPopupParams="directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,scrollbars=no,resizable=no";var chapterListEnabled;function toggleRefChkBoxes(control){for(var i=0;i<control.form.elements.length;++i){var eleControl=control.form.elements[i];if(eleControl.type=="checkbox"&&eleControl.name=="selectedEIDs"){eleControl.checked=control.checked;}}}
function toggleSelectAllChkBox(control){if(control.checked==false){control.form.selectAllCheckBox.checked=false;}
else{var allChecked=true;for(var i=0;i<control.form.elements.length;++i){var eleControl=control.form.elements[i];if(eleControl.type=="checkbox"&&eleControl.name=="selectedEIDs"){if(eleControl.checked==false){allChecked=false;break;}}}
control.form.selectAllCheckBox.checked=allChecked;}}
function searchHistory(link){document.RecordPageForm.clickedLink.value=link;document.RecordPageForm.submit();}
function viewAllReferences(){if(allowed){allowed=false;setTimeout("enableAllowed()",waitTime);return true;}else{return false;}}
function enableAllowed(){allowed=true;}
function submitReferencesLinks(button){document.RecordPageForm.clickedLink.value=button;document.RecordPageForm.submit();if(jQuery("#confirmMsgContainer,#errorMsgContainer,#warningMsgContainer,#infoMsgContainer,#orcidErrorMsgContainer,#txtZoneInfoMsgContainer,#confirmMsgContainerDiv").length){jQuery('.ariaHidden').focus();}}
var authorlistHeight=jQuery('div#authorlist').height();var authorlistDiv=jQuery('div#authorlist');var affilListParagraph=jQuery('p#affiliationlist');var defaultListHeight=62;function displayAuthAffilInRecordPage(){var cnt=0;jQuery('div.reaxysBlk').css({display:'block',position:'absolute',visible:'hidden'});jQuery('div.reaxysBlk a img').each(function(){if(jQuery(this)[0].clientHeight<=1){cnt++;}});jQuery('div.reaxysBlk').css({display:'none',position:'',visible:'visible'});if(cnt<=0){jQuery('div.reaxysBlk').show();jQuery('div.reaxysHide').show();}
if(cnt==1){jQuery('div.reaxysBlk span.divider').hide();jQuery('div.reaxysBlk').show();jQuery('div.reaxysHide').show();}
var totalSpan=jQuery('#authorlist > span').size();var temp='',prevTemp='';var endSpan;var containerSpan=jQuery('<div>').appendTo('#SpanContainer');endSpan="(...), <span>"
+jQuery('#authorlist > span').eq(totalSpan-2).html()+"</span><span>"
+jQuery('#authorlist > span').eq(totalSpan-1).html()+"</span>";for(var j=0;j<totalSpan;j++){for(var i=0;i<=j;i++){temp+="<span>"+jQuery('#authorlist > span').eq(i).html()+"</span>";}
jQuery(containerSpan).html(temp+endSpan);if(jQuery(containerSpan).height()>80){temp="";jQuery(containerSpan).html(prevTemp+endSpan);j=totalSpan;}else{prevTemp=temp;temp="";jQuery(containerSpan).html("");}}
if(authorlistHeight>defaultListHeight){jQuery('#authorlist').css({'display':'none'});jQuery('#SpanContainer').show();jQuery(authorlistDiv).css({'height':defaultListHeight+'px','overflow':'hidden','display':'block'});jQuery('#viewHideAuthorList').css({'display':'inline-block'});jQuery('#viewHideAuthorList-dummy').css({'display':'inline-block'});}else{jQuery('#SpanContainer').hide();jQuery(authorlistDiv).css({'height':'auto','overflow':'hidden','display':'block'});jQuery('#viewHideAuthorList').css({'display':'none'});jQuery('#viewHideAuthorList-dummy').css({'display':'none'});}
jQuery(affilListParagraph).css({'visibility':'visible'});if(jQuery('#affiliationlist span').length>=3){jQuery('#affiliationlist span:gt(2), #affiliationlist br:gt(2)').hide();jQuery('#viewHideAffilList').css({'display':'inline-block'});jQuery('#viewHideAffilList-dummy').css({'display':'inline-block'});}
else{jQuery('#viewHideAffilList').css({'display':'none'});jQuery('#viewHideAffilList-dummy').css({'display':'none'});}}
function getReaxysData(){var scp=jQuery('#currentRecordPageSCP').val();var sid=scp!=undefined?scp:"";var param={'sid':sid};jQuery.post('/record/reaxysDataAjax.uri',param).done(function(response){if(response.status==='OK'){var rxnsAvailability=response.reactions!==undefined,subsAvailability=response.substances!==undefined,reaxysObj=jQuery("<div>"),rxnsObj="",subsObj="",separatorSpanObj="",horizonLineObj=jQuery("<div>",{"class":""}),clearDivObj=jQuery("<div>",{"class":"clear"}),lineObj=jQuery("<div>",{"class":"hr"}),title="Reaxys Database Information",titleObj=jQuery("<h2>",{"class":"subTitle paddingT2","html":title});horizonLineObj=horizonLineObj.append(lineObj);if(rxnsAvailability){var rxnsUriObj=response["reactions"];var rxnsImgObj=jQuery("<img>",{"src":rxnsUriObj.imageURL,"alt":"","class":"floatL"});var rxnsAncObj=jQuery("<a>",{"href":rxnsUriObj.pageURL,"title":detail.RECORD_PAGE_REAXYS_VIEW_REACTIONS(),"target":"_blank"});rxnsObj=rxnsAncObj.append(rxnsImgObj);}
if(rxnsAvailability&&subsAvailability){separatorSpanObj=jQuery("<span>",{"class":"link_sep floatL","style":"padding-top:8px;padding-left:4px;","aria-hidden":"true","html":"|"});}
if(subsAvailability){var subsUriObj=response["substances"];var subsImgObj=jQuery("<img>",{"src":subsUriObj.imageURL,"alt":"","class":"floatL"});var subsAncObj=jQuery("<a>",{"href":subsUriObj.pageURL,"title":detail.RECORD_PAGE_REAXYS_VIEW_SUBSTANCES(),"target":"_blank"});subsObj=subsAncObj.append(subsImgObj);}
reaxysObj.append(horizonLineObj).append(titleObj).append(rxnsObj).append(separatorSpanObj).append(subsObj).append(clearDivObj);jQuery("div.reaxysHide").show();jQuery("div.reaxysBlk").show();jQuery("div#reaxysBlk").append(reaxysObj);}else{jQuery("div#reaxysBlk").remove();}}).fail(function(){jQuery("div#reaxysBlk").remove();});}
function showAffilContent(){jQuery('#viewHideAffilList a').html(detail.RECORD_PAGE_HIDE_AFFIL());jQuery('#affiliationlist span:gt(2), #affiliationlist br:gt(2)').show();jQuery('#viewHideAffilList a').addClass('hideAddIcon').removeClass('viewAddIcon retrievingImg');jQuery('#viewHideAffilList a').attr({'title':detail.RECORD_PAGE_HIDE_AFFIL(),'aria-expanded':'true'});jQuery('#viewHideAffilList a').unbind('click').bind('click',function(){showHideAffilContent();});}
var AffilContentLoaded=false;function showHideAffilContent(){if(jQuery('#viewHideAffilList a').html()==detail.RECORD_PAGE_VIEW_AFFIL()){if(!AffilContentLoaded){jQuery("#viewHideAffilList a").html(detail.RECORD_PAGE_RET()).addClass('retrievingImg').removeClass('viewAddIcon').unbind('click').attr({'aria-expanded':'true'});jQuery('#AffRetriving').css({'display':'inline-block'}).delay(5000).hide('0',function(){showAffilContent();AffilContentLoaded=true;});}else{showAffilContent();}}
else{jQuery('#viewHideAffilList a').html(detail.RECORD_PAGE_VIEW_AFFIL());jQuery('#affiliationlist span:gt(2), #affiliationlist br:gt(2)').hide();jQuery('#viewHideAffilList a').addClass('viewAddIcon').removeClass('hideAddIcon').attr({'title':detail.RECORD_PAGE_VIEW_AFFIL(),'aria-expanded':'false'});}}
jQuery('#viewHideAffilList a').unbind('click').bind('click',function(){showHideAffilContent();});function showAuthorContent(){jQuery('#viewHideAuthorList a').html(detail.RECORD_PAGE_HIDE_AUTHOR());jQuery(authorlistDiv).css({'height':'auto','overflow':'visible','display':'inline-block'});jQuery('#viewHideAuthorList a').addClass('hideAddIcon').removeClass('viewAddIcon retrievingImg');jQuery('#viewHideAuthorList a').attr('title',detail.RECORD_PAGE_HIDE_AUTHOR());jQuery('#viewHideAuthorList a').unbind('click').bind('click',function(){showHideAuthorContent();});jQuery('#authorlist').css("display:inline-block");jQuery('#SpanContainer').hide();}
var AuthorContentLoaded=false;function showHideAuthorContent(){if(jQuery('#viewHideAuthorList a').html()==detail.RECORD_PAGE_VIEW_AUTHOR()){if(!AuthorContentLoaded){jQuery("#viewHideAuthorList a").html(detail.RECORD_PAGE_RET()).addClass('retrievingImg').removeClass('viewAddIcon').unbind('click');jQuery('#AuthorRetriving').css({'display':'inline-block'}).delay(5000).hide('0',function(){showAuthorContent();AuthorContentLoaded=true;jQuery('#authorlist').css("display:inline-block");jQuery('#SpanContainer').hide();});}else{showAuthorContent();}}
else{jQuery('#viewHideAuthorList a').html(detail.RECORD_PAGE_VIEW_AUTHOR());jQuery(authorlistDiv).css({'height':defaultListHeight+'px','overflow':'hidden'});jQuery('#viewHideAuthorList a').addClass('viewAddIcon').removeClass('hideAddIcon');jQuery('#viewHideAuthorList a').attr('title',detail.RECORD_PAGE_VIEW_AUTHOR());jQuery('#authorlist').css({'display':'block'});jQuery('#SpanContainer').show();}}
jQuery('#viewHideAuthorList a').unbind('click').bind('click',function(){showHideAuthorContent();});jQuery('body').bind('click',function(e){if(!jQuery(e.target).closest('.recMoreLnk')){jQuery('.recMoreMenu').hide();}});jQuery('.arrowDownMore').click(function(e){var recmoreLnk=jQuery('.recMoreLnk');var recmoreLnkPosition=recmoreLnk.position();jQuery('.recMoreMenu').hide();if(recmoreLnkPosition!=null)
jQuery('#recMoreMenu').css({'display':'block','top':recmoreLnkPosition.top+4});});jQuery('.arrowUpMore').click(function(e){jQuery('.recMoreMenu').hide();});function getChapterList(){var chapterListUrl='/display/chapter.uri';var sourceId=jQuery('#sourceId').val();var sourceType=jQuery('#sourceType').val();var citationType=jQuery('#citationType').val();var currentEID=jQuery("#currentRecordPageEID").val();if(sourceId!=null&&sourceId!=''&&sourceType!=null&&sourceType!='')
{if(sourceType=='b'){param={sourceId:sourceId,requestedPage:"bookChapter",currentRecordPageEID:currentEID,citationCode:citationType};jQuery.ajax({url:chapterListUrl,dataType:"html",cache:false,data:param,type:"POST",success:function(data){if(data!=null&&data!=''){jQuery("#chapterList").html(data);jQuery('#chapterList').show();var bookEID=jQuery('#bookEID').val();if(jQuery('#sourceTitleId').length&&bookEID!=null&&bookEID!=''&&citationType!='bk'){jQuery('#sourceTitleId').attr('href','/record/display.uri?eid='+bookEID+'&origin=recordpage');jQuery('#sourceTitleId').removeClass('bookChapterLink');}}},error:function(data){}});}}}
function doucmentSaveToList(event){event.preventDefault();MessageContainer.removeMsgContatiner();var saveListURL=[];saveListURL.push('/citation/document.uri?origin=recordpage&view=&command=list&src=s&eid=');saveListURL.push(jQuery('#currentRecordPageEID').val());saveListURL.push('&type=AJAX');jQuery.ajax({url:saveListURL.join(''),dataType:"html",cache:false,type:"GET",success:function(data){if(data!=null&&data!=''){jQuery('#saveToList-data').html(data);event["data"]={position:Bubble.positionCenter,setDataBack:false};Bubble.showBubble(event);jQuery("#saveTolistSubmit").on('click',listSetUpSave);jQuery('#listPopupClose').on('click',closeListPopUp);setWaterMarkList();ddlOnloadforSelectmenu();jQuery('#saveListInput').on('keypress',function(e){if(e.keyCode==13){e.preventDefault();}});}},error:function(data){if(typeof console!=="undefined"){console.log('error in getting the save list pop up');}}});}
function closeListPopUp(event){event.preventDefault();Bubble.forceHideAll(event);}
function listSetUpSave(event){event.preventDefault();MessageContainer.removeMsgContatiner();var inputValTrim=jQuery.trim(jQuery('#listName').val());var listSelect=jQuery("#listId");var listFormObj=jQuery("#ListForm");if(listFormObj.length===0){listFormObj=jQuery("#searchResFormId");}
var savedListName='';var oldValue='';if(listSelect.length<1){if(inputValTrim.length<1){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVE_TO_LIST_NO_NAME();MessageContainer.insertMsgContainer();return;}
savedListName=inputValTrim;}else{var listSelectIndex=listSelect[0].selectedIndex;if(inputValTrim!=''&&listSelectIndex<=0){listFormObj.removeAttr('action');listFormObj.attr('action',"/list/savelist/add.uri");savedListName=inputValTrim;}
else if(inputValTrim==''&&listSelectIndex>0){listFormObj.removeAttr('action');listFormObj.attr('action',"/list/savelist/addItems.uri");savedListName=jQuery("select[name=listId] option:selected").text();oldValue=listFormObj.find("[name='listId']").val();listFormObj.find("[name='listId']").val(jQuery("select[name=listId] option:selected").val());}
else if(inputValTrim==''&&listSelectIndex<=0){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVELIST_ERROR_MESSAGES_EMPTYSUBMIT();MessageContainer.insertMsgContainer();return;}
else if(inputValTrim!=''&&listSelectIndex>0){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVELIST_ERROR_MESSAGES_BOTHSELECTED();MessageContainer.insertMsgContainer();return;}}
var saveForm=listFormObj;jQuery.ajax({url:saveForm.attr('action'),cache:false,type:"POST",dataType:'JSON',data:saveForm.serialize(),success:function(data){if(data!=null&&data!=''){if(data.hasOwnProperty('success')){MessageContainer.parentContainerObj=jQuery('#sciverseCanvasArea');MessageContainer.messageType=MessageContainer.CONFIRM_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_SUCCESS(savedListName,data.saveListURL);MessageContainer.insertMsgContainer();Bubble.forceHideAll(event);}else{MessageContainer.isReplace=true;switch(data.error){case'MaxListEntry':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_MAXIMUM_LIMIT(data.size,data.saveListURL);MessageContainer.insertMsgContainer();break;case'MaxListItem':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LISTITEM_MAXIMUM_LIMIT(data.size);MessageContainer.insertMsgContainer();break;case'DuplicateList':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_NAME_EXISTS();MessageContainer.insertMsgContainer();break;}
MessageContainer.isReplace=false;}}},error:function(data){listFormObj.find("[name='listId']").val(oldValue);if(typeof console!=="undefined"){console.log('error in save list call');}}});}
function setWaterMarkList(){if(jQuery('#listName').length){jQuery('#listName').searchForPlaceholder({left:{enabled:true,value:messages.RECORD_NEW_LIST_TXT(),type:"simple",classes:"searchForTxt"},right:{enabled:false}});}}
function ddlOnloadforSelectmenu(){jQuery('select.selectMenu').selectmenu({appendTo:jQuery(this).next()});}
function enableReferenceHeaderLnk(){if(jQuery("div.referenceLists input:checkbox:checked").length>0){jQuery('div.featuresRow span.docHeaderLinks').removeClass('lnkDisabled').addClass('lnkEnabled');showRefernceEnableToolTip();}
else{jQuery('div.featuresRow span.docHeaderLinks').addClass('lnkDisabled').removeClass('lnkEnabled');showRefernceDisableToolTip();}}
function enableDiableReferencesHeaderLnk(){if(jQuery("div.referenceLists input:checkbox:checked").length>0){enableReferenceHeaderLnk();}else{var directExport=jQuery('#referenceDirectExport');if(directExport.length>0){directExport.attr('title',Export.EXPORT_DISABLED_ALT());}}
jQuery('div.referenceLists input:checkbox, div.featuresRow input:checkbox').click(function(){enableReferenceHeaderLnk();});jQuery('body').on('click','.lnkDisabled a.clickAction',function(e){e.preventDefault();});jQuery('body').on('click','.lnkEnabled a.clickAction',function(e){var linkType=jQuery(this).attr('data-type');if(linkType=='exportLink'||linkType=='exportRecordLink'){oneClick.exportResult(e);}else if(linkType=='printLink'){submitReferencesLinks('Print');}else if(linkType=='pdfLink'){submitReferencesLinks('exportPdf');}
else if(linkType=='emailLink'){submitReferencesLinks('Email');}
else if(linkType=='bibliographyLink'){submitReferencesLinks('Quikbib');}else if(linkType=='directExport'){oneClick.oneClickExportSubmit(e,false,'record');}else if(linkType=='directExportReference'){oneClick.oneClickExportSubmit(e,false,'reference');}});}
function showRefernceEnableToolTip(){var exportLink=Export.EXPORT_RECORD_REF_EXP_SELECTED();var printLink=detail.RECORD_REF_PRINT_SELECTED();var emailLink=detail.RECORD_REF_EMAIL_SELECTED();var biblioLink=detail.RECORD_REF_BIB_SELECTED();var pdfLink=detail.RECORD_REF_PDF_SELECTED();jQuery('.docHeaderLinks .print').attr('title',printLink);jQuery('.docHeaderLinks .email').attr('title',emailLink);jQuery('.docHeaderLinks .createBibliography').attr('title',biblioLink);jQuery('.docHeaderLinks .exPdf').attr('title',pdfLink);var directExportRefObj=jQuery('#referenceDirectExport');if(directExportRefObj.length>0){var directExportTitle;if(oneClick.ExportSetting.Format=='CSV'){directExportTitle=Export.CSV_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='REFWORKS'){directExportTitle=Export.REFWORK_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='Mendeley'){directExportTitle=Export.SAVE_TO_MENDELEY_ALT();}
else if(oneClick.ExportSetting.Format=='RIS'){directExportTitle=Export.RIS_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='TEXT'){directExportTitle=Export.TEXT_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='BIB'){directExportTitle=Export.BIBTEXT_EXPORT_ALT();}
directExportRefObj.attr('title',directExportTitle);}else{jQuery('.docHeaderLinks .exportRefNormal').attr('title',exportLink);}}
function showRefernceDisableToolTip(){var disabledExport=Export.EXPORT_DISABLED_ALT();var disabledPrint=detail.RECORD_REF_PRINT_SELECTED_Disable();var disabledEmail=detail.RECORD_REF_EMAIL_SELECTED_Disable();var disabledBiblio=detail.RECORD_REF_BIB_SELECTED_Disable();var disabledPDf=detail.RECORD_REF_PDF_SELECTED_Disable();jQuery('.docHeaderLinks .print').attr('title',disabledPrint);jQuery('.docHeaderLinks .email').attr('title',disabledEmail);jQuery('.docHeaderLinks .createBibliography').attr('title',disabledBiblio);jQuery('.docHeaderLinks .exPdf').attr('title',disabledPDf);var directExportRefObj=jQuery('.docHeaderLinks .directExport');if(directExportRefObj.length>0){directExportRefObj.attr('title',disabledExport);}else{jQuery('.docHeaderLinks .exportRefNormal').attr('title',disabledExport);}}
jQuery('.correspondenceEmail').on("click",function(e){var urlText="/record/authoremail.uri"
+"?view=extended"
+"&authorEmail="+$(this).attr('href').substr(7)
+"&origin=abstract";setTimeout(function(){document.location.href=urlText;},100);});function hideBubbleAll(){jQuery('body').die("click").on('click',function(e){if(!jQuery(e.target).closest('#exportTrigger')[0]){Bubble.hideAll(e);}});jQuery(document).on("keyup",function(e){var code=e.keyCode||e.which;if(code===27){Bubble.forceHideAll(e);}});}
var setRecordBubbleCnt={buildSetRecordAlertBubble:function(event){var param={"loadingText1":alertProp.alert.setup.loading.text(),"loadingText2":alertProp.alert.setup.loading.text(),"loadDivContainer":"outerWrapper"};scopusTab.showHideLoadingContainer(param);jQuery('.loadingTableAndChart').show().css({'top':'4%',"left":"50%"});MessageContainer.removeMsgContatiner();var setCitationAlertUrl=jQuery('input[name="setCitationAlertUrl"]').val();retrieveAlertPop(setCitationAlertUrl,event);event.preventDefault();},buildRecordBubble:function(id,data,e,hideCallback){var alertContainer="#"+id+"-data";jQuery(alertContainer).html(data);e["data"]={position:Bubble.positionRight,setDataBack:false};if(id=='loginRegPopup'||id=='saveRegPopup'){var data={position:Bubble.positionRight,setDataBack:false};data.target=$('#'+id);Bubble.show(data);}else{Bubble.showBubble(e);}
if(jQuery('#bubble-'+id).length){ScopusLoginShowHideOptional.buidConatiner('contentWrapper',id);}
if(jQuery.isFunction(hideCallback)&&id=='loginRegPopup'){e["data"].hideCallback=loginRegReset();}else if(jQuery.isFunction(hideCallback)&&id=='saveRegPopup'){e["data"].hideCallback=saveRegReset();}}}
jQuery('div.citeinfo').on('click','#btnAlertSubmit',function(){submitAlert.alertConfirmationMessage=alertProp.alert.message.record.newalert(),submitAlert.alertIdentifier='saveAsAlert',submitAlert.alertType='documentCitationAlert',submitAlert.alertFornName='DocumentAlertValidatedForm',submitAlert.checkforDuplicateNames()});function retrieveAlertPop(alertUrl,e){jQuery.ajax({type:"GET",url:alertUrl,dataType:"html",success:function(data){setRecordBubbleCnt.buildRecordBubble(e.target.id,data,e,'');setinitialValuesonTextArea();e.preventDefault();setFrequency('');jQuery('#frequency').bind('change',function(){setFrequency('change');});scopusTab.hideLoadingOverlay();submitAlert.setEllipsisQuery();}});}
jQuery(document).ready(function(){jQuery("#closeAlertPopup, #closeloginPopup").live('click',function(e){Bubble.forceHideAll(e);e.preventDefault();});var fundingTextObj=jQuery('#fundingText');if(fundingTextObj.length){jQuery('#fundingTextHead').removeClass('displayNone');jQuery('#fundingText').removeClass('displayNone');var fundTxt=fundingTextObj.html();fundingTextObj.data("fullfundtext",fundTxt);if(fundTxt.length>1000){var viewMoreObj=jQuery('<a>').attr('id','fundViewMore').text('View More');var trunFundTxt=fundTxt.substr(0,1000)+'...';fundingTextObj.html(trunFundTxt);fundingTextObj.append(viewMoreObj);jQuery('#fundViewMore').on('click',function(){$('#fundingText').html(jQuery('#fundingText').data('fullfundtext'));});}else{fundingTextObj.html(fundTxt);}}});function showResults()
{var resultId=document.getElementById('moreThanThree');var viewMore=document.getElementById('toggleViewMore');var viewLess=document.getElementById('toggleViewLess');if(resultId.style.display=='none')
{resultId.style.display='block';viewMore.style.display='none';viewLess.style.display='block';}}
function hideResults()
{var resultId=document.getElementById('moreThanThree');var viewMore=document.getElementById('toggleViewMore');var viewLess=document.getElementById('toggleViewLess');if(resultId.style.display=='block')
{resultId.style.display='none';viewMore.style.display='block';viewLess.style.display='none';}}
function showHideHelp()
{var resultId=document.getElementById('displayHelp');if(resultId.style.display=='none')
{resultId.style.display='block';}
else
{resultId.style.display='none';}}
function hideHelp()
{var resultId=document.getElementById('displayHelp');if(resultId.style.display=='block')
{resultId.style.display='none';}}
var key='';var g_MAX_EMAIL_REF_COUNT;var g_MAX_PRINT_REF_COUNT;var g_MAX_EXPORT_REF_COUNT;var g_MAX_LIST_REF_COUNT;var g_MAX_CTO_REF_COUNT;var g_MAX_REFS_REF_COUNT;var g_MAX_CITEDBY_REF_COUNT;var g_MAX_DOWNLOAD_DOC_COUNT;var g_MAX_EXPORT_PDF_COUNT;var g_maxPdfSelectedExceeded=false;var g_maxEmailSelectedExceeded=false;var g_maxPrintSelectedExceeded=false;var g_maxExportSelectedExceeded=false;var g_maxListSelectedExceeded=false;var g_maxCTOBatchSelectedExceeded=false;var g_maxRefsSelectedExceeded=false;var g_maxCitedbySelectedExceeded=false;var g_maxDownloadSelectedExceeded=false;var g_resultsFormTarget='_self';var g_MAX_CTO_BATCH_REF_COUNT;var g_MAX_BATCH_EXPORT_REF_COUNT;var g_MAX_BATCH_EXPORT_REF_STRING;var reqFromhubLink=false;var g_ddmPagination=false;var isIE8=jQuery.browser.msie&&+jQuery.browser.version===8;var isIE9=jQuery.browser.msie&&+jQuery.browser.version===9;function setSelectedTab(source)
{document.SearchResultsForm.src.value=source;document.SearchResultsForm.cc.value="10";document.SearchResultsForm.resultsTab.value=source;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function reassertSelectedTab(source)
{if(document.SearchResultsForm){document.SearchResultsForm.src.value=source;document.SearchResultsForm.resultsTab.value=source;document.SearchResultsForm.target="_self";}}
function setClustering(moreOrLess)
{document.SearchResultsForm.clustering.value=moreOrLess;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function setSortClusteringField(sortClusterField)
{document.SearchResultsForm.sortClusterField.value=sortClusterField;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function setSortField(sortValue,sortFieldName,form,metricName,isFromSourceResults,metricDisplayIndex)
{if(isFromSourceResults){form.elements['sortPerformedState'].value='t';form.elements['metricDisplayIndex'].value=metricDisplayIndex;form.elements['sortField'].value=sortFieldName;if(metricName!==''&&metricName!=null){form.elements['metricName'].value=metricName;}}else{form.recordid.value='';if(form.details){form.details.value='';}
form.elements[sortFieldName].value=sortValue;}
form.target="_self";form.submit();}
function nextPageResults()
{document.SearchResultsForm.searchWithinResultsDefault.value="nextPage";document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
if(jQuery('#resultsPerPage').length>0){jQuery('#resultsPerPage').on('selectmenuchange',function(){if(null!=document.SearchResultsForm&&"undefined"!==document.SearchResultsForm){document.SearchResultsForm.displayPerPageFlag.value='t';nextPageResults();}});}
function checkForm()
{var returnVal=true;if(g_maxEmailSelectedExceeded){g_maxEmailSelectedExceeded=false;returnVal=confirm(messages.results.error.max.email.exc(g_MAX_EMAIL_REF_COUNT));}
if(g_maxPrintSelectedExceeded){g_maxPrintSelectedExceeded=false;returnVal=confirm(messages.results.error.max.print.exc(g_MAX_PRINT_REF_COUNT));}
if(g_maxExportSelectedExceeded){g_maxExportSelectedExceeded=false;returnVal=confirm(results.error.max.pdf.exc(g_MAX_BATCH_EXPORT_REF_COUNT));}
if(g_maxListSelectedExceeded){g_maxListSelectedExceeded=false;alert(messages.results.error.max.list.exc(g_MAX_LIST_REF_COUNT));returnVal=false;}
if(g_maxCTOBatchSelectedExceeded){g_maxCTOBatchSelectedExceeded=false;returnVal=confirm(messages.SEARCH_CITATION(g_MAX_CTO_BATCH_REF_COUNT)+"\r\n"+messages.SEARCH_CITATION_TRACTER(g_MAX_CTO_BATCH_REF_COUNT));}
if(g_maxRefsSelectedExceeded){g_maxRefsSelectedExceeded=false;returnVal=confirm(messages.results.error.max.refs.exc(g_MAX_REFS_REF_COUNT));}
if(g_maxCitedbySelectedExceeded){g_maxCitedbySelectedExceeded=false;returnVal=confirm(messages.results.error.max.citedby.exc(g_MAX_CITEDBY_REF_COUNT));}
if(g_maxDownloadSelectedExceeded){g_maxDownloadSelectedExceeded=false;returnVal=confirm(messages.results.error.max.download.exc(g_MAX_DOWNLOAD_DOC_COUNT));}
if(g_maxPdfSelectedExceeded){g_maxPdfSelectedExceeded=false;returnVal=confirm(messages.results.error.max.pdf.exc(g_MAX_EXPORT_PDF_COUNT));}
if(!reqFromhubLink){setFormTarget();reqFromhubLink=false;}
return returnVal;}
function setFormTarget(){if(document.SearchResultsForm!=null){document.SearchResultsForm.target=g_resultsFormTarget;g_resultsFormTarget="_self";}}
function getSelectedDocumentCount(form){var selCount=parseInt(form.scount.value);var ansCount=parseInt(form.count.value);var pageSelectTotal=parseInt(form.pageselecttotal.value);selCount=selCount-pageSelectTotal;var selAllChkBox=form.selectAllCheckBox.checked;if(selAllChkBox){selCount=ansCount;}else{var array=jQuery('[name="selectedEIDs"]');for(var i=0;i<array.length;i++){if(array[i].checked){++selCount;}}}
return selCount;}
function submitAndRedirect(url){document.SearchResultsForm.clustering.value='';document.SearchResultsForm.redirect.value=url;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function mouseImage(isSortAsc){var image1=new Image();var image2=new Image();image1.src="/static/images/arrow_down_white.gif";image2.src="/static/images/arrow_up_white.gif";if(isSortAsc==='F'){document.images.dateDown.src=image2.src;}else{document.images.dateDown.src=image1.src;}}
function checkMaxDownloadDocsExceeded(control){g_maxDownloadSelectedExceeded=checkMaxExceeded(control,g_MAX_DOWNLOAD_DOC_COUNT);return false;}
function checkMaxExceeded(form,max_size){var selCount=parseInt(form.scount.value);var ansCount=parseInt(form.count.value);var pageSelectTotal=parseInt(form.pageselecttotal.value);selCount=selCount-pageSelectTotal;var selAllChkBox=form.selectAllCheckBox.checked;if(selAllChkBox&&ansCount>max_size){return true;}else{for(var i=0;i<form.elements.length;++i){var eleControl=form.elements[i];if((eleControl.type==="checkbox"&&eleControl.name==="selectedEIDs")&&(eleControl.checked)){++selCount;}}
if(selCount>max_size){return true;}}
return false;}
function getselcount(form){var selCount=parseInt(form.scount.value);var ansCount=parseInt(form.count.value);var pageSelectTotal=parseInt(form.pageselecttotal.value);selCount=selCount-pageSelectTotal;var selAllChkBox=form.selectAllCheckBox.checked;if(selAllChkBox){return ansCount;}else{for(var i=0;i<form.elements.length;++i){var eleControl=form.elements[i];if((eleControl.type==="checkbox"&&eleControl.name==="selectedEIDs")&&(eleControl.checked)){++selCount;}}
return selCount;}}
function addCommas(nStr){nStr+='';var x=nStr.split('.');var x1=x[0];var x2=x.length>1?'.'+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2');}
return x1+x2;}
function processLinkClick(button,fromLoginPrompt){if(button==='saveSearchAlertButton'&&!isLoggedInUser&&isIDPlusEnabled&&!fromLoginPrompt){return;}
document.SearchResultsForm.clustering.value='';document.SearchResultsForm.clickedLink.value=button;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function validateDelete(form){var selCount=parseInt(form.scount.value);for(var i=0;i<form.elements.length;++i){var eleControl=form.elements[i];if((eleControl.type==="checkbox"&&eleControl.name==="selectedEIDs")&&(eleControl.checked)){++selCount;}}
if(selCount===1){return confirm(messages.results.deleteconfirm.no.selectionjs());}else{return confirm(messages.results.deletesconfirm.no.selectionjs());}}
function jumpToPageNumericValidation(e,page,form){var isNS=(navigator.appName==="Netscape")?1:0;var key;if(!isNS){key=e.keyCode;}else{key=e.which;}
if(key===8||key===0){return true;}else if(key>47&&key<58){return true;}else if(key===13){if(jQuery(form).children("input[name='details']")){jQuery(form).children("input[name='details']").val('');}
jQuery(form).children("input[name='currentPage']").val(page);jQuery(form).children("input[name='clickedLink']").val('go');jQuery(form).attr('target','_self');jQuery(form).submit();}
return false;}
function jumpToPageSyncUpCurrentPage(form,page){jQuery(form).children("input[name='currentPage']").val(page);jQuery(form).children("input[name='clickedLink']").val('go');jQuery(form).children("input[name='details']").val('');}
function rssClick(){document.RSSForm.submit();}
function documentJumpToPageNumericValidation(e,page,form){var isNS=(navigator.appName==="Netscape")?1:0;var key;if(!isNS){key=e.keyCode;}else{key=e.which;}
if(key===8||key===0){return true;}else if(key>47&&key<58){return true;}else if(key===13){jQuery(form).children("input[name='searchWithinResultsDefault']").val('f');jQuery(form).children("input[name='news']").val('');jQuery(form).children("input[name='documentJumpToPageDefault']").val('t');if(jQuery(form).children("input[name='details']")){jQuery(form).children("input[name='details']").val('');}
jQuery(form).children("input[name='currentPage']").val(page);var go=jQuery("<input>").attr({'type':'hidden','name':'go','value':'GO'});jQuery(form).children("input[name='clickedLink']").val('go');jQuery(form).append(go);jQuery(form).attr('target','_self');jQuery(form).submit();}
return false;}
function submitOnPaginationLinkClick(form,page){g_ddmPagination=true;jQuery(form).children("input[name='searchWithinResultsDefault']").val('f');jQuery(form).children("input[name='news']").val('');jQuery(form).children("input[name='documentJumpToPageDefault']").val('t');if(page===jQuery("#currentPage").val()){return;}
if(jQuery(form).children("input[name='details']")){jQuery(form).children("input[name='details']").val('');}
jQuery("input[name='currentPage']").val(page);var go=jQuery("<input>").attr({'type':'hidden','name':'go','value':'GO'});jQuery("input[name='clickedLink']").val('go');jQuery(form).append(go);jQuery(form).attr('target','_self');jQuery(form).submit();g_ddmPagination=false;}
function documentJumpToPageSyncUpCurrentPage(form,page){jQuery(form).children("input[name='documentJumpToPageDefault']").val('t');jQuery(form).children("input[name='currentPage']").val(page);jQuery(form).children("input[name='clickedLink']").val('go');}
function callShowHideRefineResults(showHideState)
{var clusteringUrl="/results/clusteringshowhide.uri";document.getElementById("refineHeader").className='padding5 margin clearfix';if(showHideState==='Show'){document.getElementById("clusterData").className="displayBlock";if(document.getElementById("clusterData").lang==="DocResults"){updateNavigatorSizes();}
document.getElementById("hr").className="hr displayBlock";document.getElementById("clusterFooter").className="displayBlock";document.getElementById("hide").className="displayBlock";document.getElementById("show").className="displayNone";document.getElementById("refineHeader").onmouseover='';}
else{document.getElementById("clusterData").className="displayNone";document.getElementById("clusterFooter").className="displayNone";document.getElementById("show").className="displayBlock";document.getElementById("hide").className="displayNone";}
var showHide="?showHide="+showHideState;clusteringUrl=clusteringUrl+showHide;var xmlhttp=GetXmlHttpObject();xmlhttp.open("GET",clusteringUrl,true);xmlhttp.send(null);return;}
function GetXmlHttpObject()
{if(window.XMLHttpRequest){return new XMLHttpRequest();}
if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}
return null;}
function prevNextBarLink(linkname){document.SearchResultsForm.action='/results/handle.uri';document.SearchResultsForm.clickedLink.value=linkname;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function setSelectedLink(linkname){document.SearchResultsForm.clickedLink.value=linkname;document.SearchResultsForm.submit();}
function sortFieldSub(sortValue,sortFieldName,form){form.elements[sortFieldName].value=sortValue;if(form.clickedLink!=null&&form.clickedLink.value!==""){form.clickedLink.value="";}
var src=jQuery("input:hidden[name='src']").val();if(src!=='p'){document.SearchResultsForm.sortOrderFlag.value='t';}
form.target="_self";jQuery(form).submit();}
function setAlertUpdateResultsButton(obj){document.SearchResultsForm.alertUpdateResultsButton.value=obj.value;document.SearchResultsForm.submit();}
function checkConfirmStatus(control,linkName){if(checkMaxOrNoresultsCount(control,linkName)){setSelectedLink(linkName);}
return false;}
function checkMaxOrNoresultsCount(control,linkName){var returnValue=true;var linkHeader=jQuery(".docHeaderLinks.lnkDisabled");if(linkName!==''&&linkName==='Email'){g_maxEmailSelectedExceeded=checkMaxExceeded(control,g_MAX_EMAIL_REF_COUNT);if(g_maxEmailSelectedExceeded){g_maxEmailSelectedExceeded=false;returnValue=confirm(messages.results.error.max.email.exc(g_MAX_EMAIL_REF_COUNT));}}else if(linkName!==''&&linkName==='Print'){g_maxPrintSelectedExceeded=checkMaxExceeded(control,g_MAX_PRINT_REF_COUNT);if(g_maxPrintSelectedExceeded){g_maxPrintSelectedExceeded=false;returnValue=confirm(messages.results.error.max.print.exc(g_MAX_PRINT_REF_COUNT));}}else if(linkName!==''&&linkName==='exportPdf'){g_maxPdfSelectedExceeded=checkMaxExceeded(control,g_MAX_PRINT_REF_COUNT);if(g_maxPdfSelectedExceeded){g_maxPdfSelectedExceeded=false;returnValue=confirm(messages.results.error.max.pdf.exc(g_MAX_PRINT_REF_COUNT));}}else if(linkName!==''&&(linkName==='AddToMyList'||linkName==='SaveList')){g_maxListSelectedExceeded=checkMaxExceeded(control,g_MAX_LIST_REF_COUNT);if(g_maxListSelectedExceeded){g_maxListSelectedExceeded=false;returnValue=confirm(messages.results.error.max.list.exc(g_MAX_LIST_REF_COUNT));}
if(linkHeader.length>0){returnValue=false;}}else if(linkName!==''&&linkName==='ViewCitationOverview'){g_maxCTOBatchSelectedExceeded=checkMaxExceeded(control,g_MAX_CTO_BATCH_REF_COUNT);if(g_maxCTOBatchSelectedExceeded){g_maxCTOBatchSelectedExceeded=false;returnValue=confirm(messages.SEARCH_CITATION(g_MAX_CTO_BATCH_REF_COUNT)+"\r\n"+messages.SEARCH_CITATION_TRACTER(g_MAX_CTO_BATCH_REF_COUNT));}}else if(linkName!==''&&linkName==='ViewCitation'){g_maxCitedbySelectedExceeded=checkMaxExceeded(control,g_MAX_CITEDBY_REF_COUNT);if(g_maxCitedbySelectedExceeded){g_maxCitedbySelectedExceeded=false;returnValue=confirm(messages.results.error.max.citedby.exc(g_MAX_CITEDBY_REF_COUNT));}}else if(linkName!==''&&(linkName==='ViewReference'||linkName==='RemoveAuthorDocs')){g_maxRefsSelectedExceeded=checkMaxExceeded(control,g_MAX_REFS_REF_COUNT);if(g_maxRefsSelectedExceeded){g_maxRefsSelectedExceeded=false;returnValue=confirm(messages.results.error.max.refs.exc(g_MAX_REFS_REF_COUNT));}}
return returnValue;}
var MenuList=jQuery('.featuresRow ul#MenuList').html();jQuery('ul#reqMenuList').html(MenuList);jQuery('.arrowDownMore').click(function(e){var moreLnkID=jQuery(e.target).closest('li').attr('id');jQuery('.moreMenu').hide();jQuery('.reqMoreMenu').hide();var moreLnkHeaderLeftPos=jQuery("#moreLnk_header").offset().left;var moreLnkFooterLeftPos=jQuery("#moreLnk_footer").offset().left;var windowWidth=jQuery(window).width();var availableWidthHeader=windowWidth-moreLnkHeaderLeftPos;var availableWidthFooter=windowWidth-moreLnkFooterLeftPos;var moreMenuLinkWidth=jQuery('.moreMenuWidth').width();var moreLnk=jQuery('.moreLnk');var moreLnkPosition=moreLnk.position();if(moreLnkID==='moreLnk_header'){if(availableWidthHeader<moreMenuLinkWidth){jQuery('#moreMenu_header').hide();jQuery('#reqmoreMenu_header').css({'display':'block','top':moreLnkPosition.top-1});if(jQuery.browser.msie){jQuery('.reqMenuListBG').css({'width':'64px'});}}
else{jQuery('#reqmoreMenu_header').hide();jQuery('#moreMenu_header').css({'display':'block','top':moreLnkPosition.top+4});}}
else{if(availableWidthFooter<moreMenuLinkWidth){jQuery('#moreMenu_footer').hide();jQuery('#reqmoreMenu_footer').css({'display':'block','top':moreLnkPosition.top-1});if(jQuery.browser.msie){jQuery('.reqMenuListBG').css({'width':'64px'});}
jQuery('.reqMoreDummyMenuBG').css({'margin-top':'0px'});}
else{jQuery('#reqmoreMenu_footer').hide();jQuery('#moreMenu_footer').css({'display':'block','top':moreLnkPosition.top+4});jQuery('#moreLnk_footer .moreDummyMenu').css({'margin-top':'-5px'});}}});jQuery('.arrowUpMore').click(function(e){jQuery('.moreMenu').hide();jQuery('.reqMoreMenu').hide();});jQuery("#seachwithinresults").bind('keydown',function(e){jQuery("#search_within_submit").attr("disabled",false);}).bind('keyup',function(e){if(jQuery.trim(jQuery("#seachwithinresults").val())===""){jQuery("#seachwithinresults").val('');jQuery("#search_within_submit").attr("disabled",true);}
else{jQuery("#search_within_submit").attr("disabled",false);}});jQuery("#seachwithinresults").on('paste',function(){setTimeout(function(){jQuery("#search_within_submit").attr("disabled",false);},100);});jQuery("#seachwithinresults").on('cut',function(){setTimeout(function(){if(jQuery.trim(jQuery("#seachwithinresults").val())===""){jQuery("#search_within_submit").attr("disabled",true);}},100);});jQuery("#seachwithinresults").on('blur',function(){setTimeout(function(){if(jQuery.trim(jQuery("#seachwithinresults").val())!==""){jQuery("#search_within_submit").attr("disabled",false);}},100);});function enableDisableFeatureRowLnkInit(){if(jQuery("#srchResultsList input:checked").length>0||documentSearchCount>0){enableLnk();}
else{var directExport=jQuery('#directExport');if(directExport.length>0){directExport.attr('title',Export.EXPORT_DISABLED_ALT());}}
jQuery('body').on('click','.lnkEnabled.docHeaderLinks button',function(e){var linkType=jQuery(this).attr('data-type');var linkId=jQuery(this).attr('id');var SearchResultsForm=document.forms['SearchResultsForm'];if(linkType==='pdfLink'){g_ddmPagination=true;var chromeVer=getChromeVersion();var firefoxVer=getFirefoxVersion();var ieVer=getIEVersion();var chromeTextDDM=messages.resultlist.header.databutton.download.chrome45.ddm();var edgeTextDDM=messages.resultlist.header.databutton.download.edge.ddm();var firefoxTextDDM=messages.resultlist.header.databutton.download.firefox.ddm();var browserMsgDDMTextZone=jQuery('#browserMsgDDMTextZone').html();if((ieVer>0)&(ieVer<12)&(ddmDisableQuosa==='false')){PDFdownloadFromResultsPage(SearchResultsForm,jQuery(this).attr('data-url'));}
else{if(ieVer>=12){drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}
else if(ieVer>0){drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}
else if(parseInt(chromeVer)>0){if(ddmFlagForChrome==='true'){populateLinks(SearchResultsForm,chromeTextDDM);}
else{drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}}
else if(parseInt(firefoxVer)>0){if(ddmFlagForFirefox==='true'){populateLinks(SearchResultsForm,firefoxTextDDM);}
else{drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}}
else{drawBrowserMsgPopUpDDM(browserMsgDDMTextZone);}
return false;}}
else if((linkType==='exportLink')||(linkId==='export_results')){oneClick.resultsAndAuthorExportCommon(e);}
else if(linkType==='saveListLink'){if(checkMaxOrNoresultsCount(SearchResultsForm,'SaveList')){setSelectedLink('SaveListItemButton');}}
else if(linkType==='deleteListLink'){if(validateDelete(SearchResultsForm)){setSelectedLink('DeleteListButton');}}
else if(linkType==='ctoLink'){CitOver.viewCitationOverviewSearchResults();document.SearchResultsForm.clickedLink.value="";}
else if(linkType==='citedByLink'){if(checkMaxOrNoresultsCount(SearchResultsForm,'ViewCitation')){setSelectedLink('CitedbyButton');}}
else if(linkType==='feedbackLink'){if(checkMaxOrNoresultsCount(SearchResultsForm,'RemoveAuthorDocs')){setSelectedLink('RemoveAuthorDocumentsButton');}}
else if(linkType==='directExport'){oneClick.oneClickExportSubmit(e,false);}
else if(linkType==='AddToMyList'){if(checkMaxOrNoresultsCount(SearchResultsForm,'AddToMyList')){setSelectedLink('ListButton');}}
else if((linkType==='ViewReference')&&(checkMaxOrNoresultsCount(SearchResultsForm,'ViewReference'))){setSelectedLink('ReferencesButton');}});jQuery("#exportTrigger").on('click',function(e){oneClick.oneClickExportSubmit(e,true);});jQuery("#chunkExportTrigger").on('click',function(e){oneClick.chunkExportSubmit(e,true);});}
function enableLnk(){if(documentSearchCount>0){if(documentSearchCount===pageSelectCount){activateLinks();}else if(pageSelectCount===0||(documentSearchCount>pageSelectCount)){jQuery('#resultsPageOptions span.docHeaderLinks').removeClass('lnkDisabled').addClass('lnkEnabled');removeDisabledAttr();showEnableToolTip();}else{activateLinks();}}else{activateLinks();}}
function activateLinks(){if(jQuery("#srchResultsList input:checkbox:checked").length>0){jQuery('#resultsPageOptions span.docHeaderLinks').removeClass('lnkDisabled').addClass('lnkEnabled');removeDisabledAttr();showEnableToolTip();}else{jQuery('#resultsPageOptions span.docHeaderLinks').addClass('lnkDisabled').removeClass('lnkEnabled');addDisabledAttr();showDisableToolTip();}}
function removeDisabledAttr(){jQuery("#resultsPageOptions .docHeaderLinks button").each(function(index){$(this).removeAttr('disabled');});}
function addDisabledAttr(){jQuery("#resultsPageOptions .docHeaderLinks button").each(function(index){$(this).prop('disabled','disabled');});}
function showEnableToolTip(){var saveLink=messages.mylist.header.save.alt();var deleteLink=messages.mylist.header.deletes.alt();var downloadPDF=messages.resultlist.header.databutton.download.alt();var exportFile=Export.EXPORT_LABEL_ENABLED_ALT();var citationOverview=messages.resultlist.header.databutton.cto.alt();var viewCitations=messages.resultlist.header.databutton.citedby.alt();var moreLink=messages.resultlist.header.databutton.more.alt();var tempList=messages.resultlist.header.databutton.mylist.alt();jQuery('.docHeaderLinks .save').attr('title',saveLink);jQuery('.docHeaderLinks .deletes').attr('title',deleteLink);jQuery('.docHeaderLinks #documentDownload').attr('title',downloadPDF);jQuery('.docHeaderLinks #ctoDocResultLink').attr('title',citationOverview);jQuery('.docHeaderLinks #viewCitedBy').attr('title',viewCitations);jQuery('.docHeaderLinks #addToMyListResults').attr('title',tempList);jQuery('.docHeaderLinks #saveListResults').attr('title',saveLink);jQuery('#moreLink').attr('title',moreLink);var directExportObj=jQuery('#directExport');if(directExportObj.length>0){var directExportTitle;if(oneClick.ExportSetting.Format==='CSV'){directExportTitle=Export.CSV_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format==='REFWORKS'){directExportTitle=Export.REFWORK_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format==='Mendeley'){directExportTitle=Export.SAVE_TO_MENDELEY_ALT();}
else if(oneClick.ExportSetting.Format==='RIS'){directExportTitle=Export.RIS_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format==='TEXT'){directExportTitle=Export.TEXT_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format==='BIB'){directExportTitle=Export.BIBTEXT_EXPORT_ALT();}
directExportObj.attr('title',directExportTitle);}else{jQuery('.docHeaderLinks #export_results').attr('title',exportFile);}}
function showDisableToolTip(){var disabledSave=messages.resultlist.header.disabled.save.alt();var disabledDelete=messages.resultlist.header.disabled.deletes.alt();var disabledDownload=messages.resultlist.header.disabled.download.alt();var disabledExport=Export.EXPORT_DISABLED_ALT();var disabledCitation=messages.resultlist.header.disabled.citation.alt();var disabledCitedby=messages.resultlist.header.disabled.citedby.alt();var disabledMoreWithCitedby=messages.resultlist.header.disabled.more.withcitedby.alt();var disabledMore=messages.resultlist.header.disabled.more.alt();var disabledTempList=messages.resultlist.header.disabled.mylist.alt();jQuery('.docHeaderLinks .save').attr('title',disabledSave);jQuery('.docHeaderLinks .deletes').attr('title',disabledDelete);jQuery('.docHeaderLinks #documentDownload').attr('title',disabledDownload);jQuery('.docHeaderLinks #ctoDocResultLink').attr('title',disabledCitation);jQuery('.docHeaderLinks #viewCitedBy').attr('title',disabledCitedby);jQuery('.docHeaderLinks #addToMyListResults').attr('title',disabledTempList);jQuery('.docHeaderLinks #saveListResults').attr('title',disabledSave);if(jQuery('div#extLink').length>0){jQuery('#moreLink').attr('title',disabledMoreWithCitedby);}
else{jQuery('#moreLink').attr('title',disabledMore);}
var directExportObj=jQuery('#directExport');if(directExportObj.length>0){jQuery('.docHeaderLinks #directExport').attr('title',disabledExport);}else{jQuery('.docHeaderLinks #export_results').attr('title',disabledExport);}
secondaryResultViewMore();}
function toggleRowLnk(rowid){var resultRelatedLink=jQuery("#resultRelatedLink"+rowid);var resultRelatedDivider=jQuery("#resultRelatedDivider"+rowid);if(!jQuery.isEmptyObject(resultRelatedLink)){if(resultRelatedLink.hasClass('visibleLink')){resultRelatedLink.removeClass('visibleLink');if(!jQuery.isEmptyObject(resultRelatedDivider)&&resultRelatedDivider.hasClass('visibleLink')){resultRelatedDivider.removeClass('visibleLink');}}else{resultRelatedLink.addClass("visibleLink");if(!jQuery.isEmptyObject(resultRelatedDivider)){resultRelatedDivider.addClass("visibleLink");}}}}
function exportResultsList(form){var returnValue=true;var formOBJ=jQuery("form[name='SearchResultsForm']")[0];var test=checkMaxExceeded(formOBJ,20000);var selcount=getselcount(formOBJ);var selcountString=addCommas(selcount);var msg2=messages.results.error.maxexport.exc(selcountString);if(test){jQuery('#dialog-modal').html(msg2).show();jQuery("#dialog-modal").dialog({resizable:false,width:800,height:"auto",modal:true,draggable:false,open:function(){jQuery(".ui-dialog-titlebar").hide();jQuery(".ui-dialog").addClass("mydialog");jQuery(".ui-widget-overlay").addClass("mydialog");},buttons:{Ok:function(){setSelectedLink('Export');return true;},Cancel:function(){jQuery(this).dialog("close");return false;}}});}
else{return returnValue;}}
var moreLink={};var isMoreRedrawn=false;function showHideLastDocHeaderLnk(){if(jQuery(".pageName").attr("data-page")!=='listMetrics'){jQuery('#saveListResults').off('click').on('click',saveDocumentsToList);}}
function showTeaser(rowId,event){if(event!=null){event.preventDefault();}
var $previewteaserrow=jQuery("#previewteaserrow"+rowId);if($previewteaserrow.length>0){$previewteaserrow.parent().addClass("noborder");$previewteaserrow.slideDown(30);}
var teaserInfoObj=jQuery("#teaserInfo"+rowId);teaserInfoObj.html('<span class="anchorText">'+messages.PATENT_HIDE_MORE_INFORMATION()+'</span>&nbsp;<span class="ico-navigate-up" aria-hidden="true"></span>');teaserInfoObj.attr('title',messages.PATENT_HIDE_MORE_INFORMATION());teaserInfoObj.attr('class','closepreview');var teasermtd='hideTeaser('+rowId+',event)';teaserInfoObj.attr('onclick',teasermtd);}
function hideTeaser(rowId,event){if(event!=null){event.preventDefault();}
var $previewteaserrow=jQuery("#previewteaserrow"+rowId);if($previewteaserrow.length>0){$previewteaserrow.slideUp(30);$previewteaserrow.parent().removeClass("noborder");}
var teaserInfoObj=jQuery("#teaserInfo"+rowId);teaserInfoObj.html('<span class="anchorText">'+messages.PATENT_SHOW_MORE_INFORMATION()+'</span>&nbsp;<span class="ico-navigate-down" aria-hidden="true"></span>');teaserInfoObj.attr('title',messages.PATENT_SHOW_MORE_INFORMATION());teaserInfoObj.attr('class','openpreview');var teasermtd='showTeaser('+rowId+',event)';teaserInfoObj.attr('onclick',teasermtd);}
function showAllTeaserInfo(action){if(action==='show'){jQuery(".abstractRow").each(function(i,obj){showTeaser(i+1,null);});jQuery('#showAllInfo').html('<span class="btnText">'+messages.PATENT_HIDE_ALL_INFORMATION()+'</span>');jQuery('#showAllInfo').attr('title',messages.PATENT_HIDE_ALL_INFORMATION());jQuery('#showAllInfo').attr('onclick','showAllTeaserInfo(\'hide\')');}else{jQuery(".abstractRow").each(function(i,obj){hideTeaser(i+1,null);});jQuery('#showAllInfo').html('<span class="btnText">'+messages.PATENT_SHOW_ALL_INFORMATION()+'</span>');jQuery('#showAllInfo').attr('title',messages.PATENT_SHOW_ALL_INFORMATION());jQuery('#showAllInfo').attr('onclick','showAllTeaserInfo(\'show\')');}}
function secondaryResultViewMore(){var secondaryResultsDisabledMore=messages.resultlist.header.disabled.secondaryresults.more.alt();var secondaryFormValue=jQuery("#searchResFormId").find("input[name='currentSource']");if(secondaryFormValue.val()==='dm'||secondaryFormValue.val()==='r'){jQuery('#moreLink').attr('title',secondaryResultsDisabledMore);}}
function checkQueryBarStartingLinkSeperator(){jQuery("div.resultsQueryBar").find("span.link_sep").each(function(){var left=jQuery(this).position().left;if(left<=15){jQuery(this).hide();}});}
jQuery.fn.outerHTML=function(s){if(this.length===0){return false;}
var elem=this[0],name=elem.tagName.toLowerCase();if(elem.outerHTML){return elem.outerHTML;}
var attrs=jQuery.map(elem.attributes,function(i){return i.name+'="'+i.value+'"';});return"<"+name+(attrs.length>0?" "+attrs.join(" "):"")+">"+elem.innerHTML+"</"+name+">";};var srhWithIn=messages.RESULTS_SRH_WTH_IN();jQuery(function(){checkQueryBarStartingLinkSeperator();secondaryResultViewMore();});jQuery('input.paginationNum').bind('focus',function(){jQuery('span.paginationTxt').css({'visibility':'hidden'});jQuery('input.paginationNum').val('');}).bind('blur',function(){jQuery('span.paginationTxt').css({'visibility':'visible'});jQuery('input.paginationNum').val(jQuery(this).attr('data-value'));});function hideBubbleAll(){jQuery('body').die("click").on('click',function(e){if(!jQuery(e.target).closest('#exportTrigger')[0]){Bubble.hideAll(e);}});jQuery(document).on("keyup",function(e){var code=e.keyCode||e.which;if(code===27){Bubble.forceHideAll(e);}});}
function saveDocumentsToList(event){jQuery('form[name=SearchResultsForm] input[name=rebrandResultsPage]').val(true);if(jQuery(".docHeaderLinks.lnkDisabled").length>0){return;}
event.preventDefault();var linkname="ListButton";document.SearchResultsForm.clickedLink.value=linkname;var targetObj=$(event.currentTarget);if(typeof console!=="undefined"){console.log("ajax call to bring save to list popup start");}
jQuery.ajax({url:'/results/handle.uri',dataType:"html",cache:false,type:"POST",data:jQuery('form[name=SearchResultsForm]').serialize()+'&origin=resultslist'+'&callType=resultPageAJAX',success:function(data){if(data!=null&&data!==''){var dataObj={position:Bubble.positionRight,setDataBack:false};if(targetObj.is(":visible")){jQuery('#saveListResults-data').html(data);event["data"]=dataObj;Bubble.showBubble(event);jQuery('#saveListResults-data select').selectmenu({icons:{button:'btn-primary btn-icon ico-navigate-down flexDisplay flexAlignCenter flexJustifyCenter'},classes:{'ui-selectmenu-menu':'largeSelect'},width:325});}
jQuery("#saveTolistSubmit").on('click',listSetUpSave);ddlOnloadforSelectmenu();}},error:function(data){if(typeof console!=="undefined"){console.log('error in getting the save list pop up');}}});document.SearchResultsForm.clickedLink.value='';}
function listSetUpSave(event){event.preventDefault();MessageContainer.removeMsgContatiner();var inputValTrim=jQuery.trim(jQuery('#listName').val());var listSelect=jQuery("#listId");var oldValue='-1';var SaveToListData={listFormObj:jQuery("#ListForm"),ajaxURL:"/list/savelist/add.uri"};if(SaveToListData.listFormObj.length===0){SaveToListData.listFormObj=jQuery("#searchResFormId");}
if(listSelect.length<1){if(inputValTrim.length<1){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVE_TO_LIST_NO_NAME();MessageContainer.insertMsgContainer();return;}
SaveToListData.savedListName=inputValTrim;}else{var listSelectIndex=listSelect[0].selectedIndex;if(inputValTrim!==''&&listSelectIndex<=0){SaveToListData.savedListName=inputValTrim;SaveToListData.ajaxURL="/list/savelist/add.uri";}
else if(inputValTrim===''&&listSelectIndex>0){SaveToListData.savedListName=jQuery("select[name=listId] option:selected").text();SaveToListData.ajaxURL="/list/savelist/addItems.uri";oldValue=SaveToListData.listFormObj.find("[name='listId']").val();SaveToListData.listFormObj.find("[name='listId']").val(jQuery("select[name=listId] option:selected").val());}
else if(inputValTrim===''&&listSelectIndex<=0){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVELIST_ERROR_MESSAGES_EMPTYSUBMIT();MessageContainer.insertMsgContainer();return;}
else if(inputValTrim!==''&&listSelectIndex>0){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVELIST_ERROR_MESSAGES_BOTHSELECTED();MessageContainer.insertMsgContainer();return;}}
if(oldValue===-1){jQuery('#loggedInTempList').val('true');}
jQuery.ajax({url:SaveToListData.ajaxURL,cache:false,type:"POST",dataType:'JSON',data:SaveToListData.listFormObj.serialize(),success:function(data){if(data!=null&&data!==''){if(data.hasOwnProperty('success')){var msgObj=jQuery("<div>",{'id':MessageContainer.CONFIRM_MSG,'class':'alert alert-success','role':'alert'});msgObj.html('<div class="row flexDisplay flexAlignTop flexNoWrap"><span class="icon" aria-hidden="true"><span class="ico-check"></span></span><div class="alertContent"><p>'+messages.RESULT_SAVED_LIST_SUCCESS(data.docsAddedSize,SaveToListData.savedListName,data.saveListURL)+'</p></div></div><a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>');MessageContainer.removeMessages();jQuery('#resultsPageAlertArea').html(msgObj);jQuery("#saveListResults-data").modal("hide");SaveToListData.listFormObj.find("[name='listId']").val(oldValue);}else{MessageContainer.isReplace=true;switch(data.error){case'MaxListEntry':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_MAXIMUM_LIMIT(data.size,data.saveListURL);MessageContainer.insertMsgContainer();break;case'MaxListItem':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LISTITEM_MAXIMUM_LIMIT(data.size);MessageContainer.insertMsgContainer();break;case'DuplicateList':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_NAME_EXISTS();MessageContainer.insertMsgContainer();break;}
MessageContainer.isReplace=false;}}},error:function(data){if(typeof console!=="undefined"){console.log('error in save list call');}}});}
function ddlOnloadforSelectmenu(){jQuery('select.selectMenu').selectmenu({appendTo:jQuery(this).next()});}
var setBubbleCnt={buildSetAlertBubble:function(e){MessageContainer.removeMsgContatiner();showLoading();var resultsFormObject=jQuery("#searchResFormId");jQuery("input:hidden[name=clustering]").val("");jQuery("input:hidden[name=alertPopUp]").val("true");jQuery("input:hidden[name=clickedLink]").val("saveSearchAlertButton");var locationURL=window.location.origin;if(typeof locationURL=='undefined'){locationURL=window.location.protocol+"//"
+window.location.hostname
+(window.location.port?':'+window.location.port:'');}
var resultsHandlerUrl=locationURL+""+resultsFormObject.attr("action");var serializedFormContent=resultsFormObject.serialize();var retrievalResponse=jQuery.post(resultsHandlerUrl,serializedFormContent);retrievalResponse.done(function(response){if(jQuery('#setAlert').parent().hasClass('CARS_panelClass')){jQuery('#setAlert').parent().removeClass('CARS_panelClass');}
var alertPopupJson=response;if(alertPopupJson.hasOwnProperty("alertUrl")){var urlPath="";var urlProto=window.location.href.split("//");if(urlProto[0]==='http:'){urlPath=alertPopupJson.alertUrl.replace("https://","http://");}else if(urlProto[0]==='https:'){urlPath=alertPopupJson.alertUrl.replace("http://","https://");}else{urlPath=alertPopupJson.alertUrl;}
retrieveAlertPop(urlPath,e);jQuery("input:hidden[name=clickedLink]").val("");}});e.preventDefault();},buildBubble:function(id,outerContainer,data,e,hideCallback){var alertContainer="#"+id+"-data";jQuery("#"+id).next().find(".dropdownContentWrap").html('');jQuery("#"+id).next().find(".dropdownContentWrap").append(data);jQuery(alertContainer).html(data);jQuery("#emailAddressTextarea").on("change",function(e){if(jQuery("#emailAddressTextarea").val()===''){jQuery("#emailAddressTextarea").text('');}else{jQuery("#emailAddressTextarea").removeClass("alert-danger-bottom");}});jQuery("#name").on("keyup",function(e){if(jQuery("#name").val()!==''){jQuery("#name").removeClass("alert-danger-bottom");}});jQuery("#frequency").selectmenu({icons:{button:'btn-primary btn-icon ico-navigate-down flexDisplay flexAlignCenter flexJustifyCenter'},classes:{'ui-selectmenu-button':'smallSelect','ui-selectmenu-menu':'smallSelect'},width:150,change:function(event,ui){event.stopPropagation();setFrequency('change');var toDestroy='';var toCreate='';var destroyBoth=false;if(jQuery("#dayOfUnitContainer #alertfrequencymonth").css("display")==="none"&&jQuery("#dayOfUnitContainer #alertfrequency").css("display")==="none"){destroyBoth=true;handleDropdown(destroyBoth,toDestroy,toCreate);return;}
if(jQuery("#dayOfUnitContainer #alertfrequencymonth").css("display")==="none"){toDestroy='alertfrequencymonth';}else{toCreate='alertfrequencymonth';}
if(jQuery("#dayOfUnitContainer #alertfrequency").css("display")==="none"){toDestroy='alertfrequency';}else{toCreate='alertfrequency';}
handleDropdown(destroyBoth,toDestroy,toCreate);}});jQuery("#dayOfUnit").selectmenu({icons:{button:'btn-primary btn-icon ico-navigate-down flexDisplay flexAlignCenter flexJustifyCenter'},classes:{'ui-selectmenu-button':'smallSelect','ui-selectmenu-menu':'smallSelect'},width:150,change:function(event,ui){event.stopPropagation();}});buildViewallAndViewLessLinks.formatQuery("alertQueryContainer");buildViewallAndViewLessLinks.buildLinks("alertQueryContainer","view full query","view less query");hideLoading();setTimeout(function(){jQuery("div.alertHeaderTextFocus").focus();},1000);jQuery("body").on('keydown','#alertPopoutForm .closeDropDown',function(e){if((e.keyCode||e.which)===9&&(!e.shiftKey)){jQuery("#alertPopoutForm #editSearchAlert").focus();e.preventDefault();}});jQuery("#alertPopoutForm #editSearchAlert").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery(this).closest(".dropdownContentWrap").find(".closeDropDown").focus();event.preventDefault();}});}};function retrieveAlertPop(alertUrl,e){jQuery.ajax({type:"GET",url:alertUrl,dataType:"html",success:function(data){setBubbleCnt.buildBubble('setAlert','.resultsQueryBar',data,e,'');setinitialValuesonTextArea();jQuery("input:hidden[name=alertPopUp]").val("false");e.preventDefault();setFrequency('');jQuery("#dayOfUnit").selectmenu("refresh");jQuery('#frequency').bind('change',function(){setFrequency('change');});scopusTab.hideLoadingOverlay();submitAlert.setEllipsisQuery();},error:function(data){if(typeof console!=="undefined"){console.log('error in retrieving alert popup data');}}});}
var BigQuery={viewHeight:"",lineHeight:"",toggleBigQuery:function(e){e.preventDefault();var queryObj=jQuery("#resultsMenu .queryContainer").toggleClass('overflowingQuery');if(queryObj.height()===BigQuery.viewHeight){queryObj.height('auto');jQuery('#bigQueryToggle').find(".btnText").html(messages.JS_BIGQUERY_ELIPSIS_VIEWLESS()+"&nbsp;");jQuery('.bigQueryElipsis').css("top","auto");}
else{queryObj.height(BigQuery.viewHeight);jQuery('#bigQueryToggle').find(".btnText").html(messages.JS_BIGQUERY_ELIPSIS_VIEWALL()+"&nbsp;");jQuery('.bigQueryElipsis').css({"top":"auto","bottom":"-3px","line-height":BigQuery.lineHeight+"px"});}
jQuery('#bigQueryToggle').find('span:last-child').toggleClass('ico-navigate-down ico-navigate-up');jQuery('.bigQueryElipsis').toggleClass("less").find('.elipsis').toggleClass("hidden");},setBigQueryElipsis:function(){var queryObj=jQuery("#resultsMenu .queryContainer");if(queryObj.length){var lineHeight=queryObj.find("span").css("lineHeight").replace(/[^0-9]/gi,'');if(lineHeight===""){lineHeight=20;}
var viewHeight=lineHeight*5;var currentHeight=queryObj.outerHeight(true);if(currentHeight>viewHeight){BigQuery.viewHeight=viewHeight+1;queryObj.height(viewHeight+1).addClass("overflowingQuery");queryObj.css("line-height",lineHeight+"px");queryObj.append("<span class='bigQueryElipsis' aria-hidden='true'><span class='elipsis'>...</span><button class='btn btn-link color' id='bigQueryToggle' type='button'><span class='btnText'>"+messages.JS_BIGQUERY_ELIPSIS_VIEWALL()+" </span><span class=ico-navigate-down pointerCursor' aria-hidden='true'></span></button></span>");jQuery('.bigQueryElipsis').css({"top":"auto","bottom":"-3px","line-height":lineHeight+"px"});jQuery('#bigQueryToggle').off('click.toggle').on("click.toggle",{'object':queryObj},BigQuery.toggleBigQuery);}}}};jQuery(document).ready(function(){BigQuery.setBigQueryElipsis();if(!isLoggedInUser&&isIDPlusEnabled){jQuery('#setAlert').on("click",function(e){IDPlus.promptLogin(e,'useOnClick');});}else{if(isLoggedInUser){jQuery('#setAlert').on("click",function(e){alertsCommon.buildAlertPopup(e,'docResults')});jQuery('#saveAsCitationAlertAuthorCit').on("click",function(e){alertsCommon.buildAlertPopup(e,'authResultsCit')});}else{jQuery('#setAlert').on("click",function(e){e.stopPropagation();jQuery("#login_loginlink").dropdown("toggle");});}}
jQuery("a[data-value="+jQuery("input[name='currentPage']").val()+"]").removeAttr("href");jQuery('#search_within_submit').on("click",function(e){document.SearchResultsForm.clickedLink.value="SearchWithinResultsButton";});jQuery("#setRssFeedCiteByPage").on("click",function(e){e.preventDefault();});jQuery("#closeAlertPopup, #closeloginPopup").live('click',function(e){Bubble.forceHideAll(e);e.preventDefault();});if(jQuery(".pageName").attr("data-page")==='listMetrics'){jQuery('#saveListResults.savedlistpage').off('click').on('click',resultsSaveToList);}
else{jQuery('#saveListResults').on('click',saveDocumentsToList);}
if(jQuery('#alertUpdateButton').length){jQuery('.iconLink .icon.save,.link_sep,#setAlert,.iconLink .icon.setFeed').hide();}});var totalSuccess=0;var totalFailure=0;document.addEventListener('fetchResponseSuccess',function respListenerSuccess(successEvent){var successJson=typeof successEvent.detail==="string"?JSON.parse(successEvent.detail):successEvent.detail;totalSuccess=successJson.length;var count=0;var successlinksJson={successLinks:[]};if(successJson.length>0){for(var i=0;i<successJson.length;i++){var parsObj=JSON.parse(JSON.stringify(successJson[i]));successlinksJson.successLinks.push({publisher:parsObj.publisher,title:parsObj.title,eid:parsObj.eid,doi:parsObj.doi,contentId:parsObj.objectID,contentFormat:"PDF",recordType:"document"});}
for(var index=0;index<successJson.length;){var successJsonPart1=[];for(var i=0;i<5;i++){if(successJson[index+i]){successJsonPart1.push(successJson[index+i]);}}
jQuery.ajax({type:"POST",url:"/ddm/saveorupdate.uri",data:"successList="+JSON.stringify(successJsonPart1)+"&failedList="+"&count="+count+"&origin="
+originVal+"&countNeeded=false"+"&allList=",success:function(data){console.log('Updated the  DDM data For Successfull events');},error:function(xhr,status,error){console.log(xhr);console.log(status);console.log(error);if(typeof console!=="undefined"){console.log('error while updating the DDM data');}}});index=index+5;}}});function userContentUniqueId(eid,userId){if(eid!==""&&eid!=null&&eid!=undefined){var eidNum=parseInt(eid.split("-").pop(0));var userIdNum=parseInt(userId.split(":").pop(0));return eidNum.toString(32)+"_"+userIdNum.toString(32);}else{return null;}}
document.addEventListener('fetchResponseFailure',function respListener(event){var failedJson=typeof event.detail==="string"?JSON.parse(event.detail):event.detail;totalFailure=failedJson.length;var count=0;if(failedJson.length>0){var failedlinksJson={failedLinks:[]};for(var i=0;i<failedJson.length;i++){var parsObj=JSON.parse(JSON.stringify(failedJson[i]));failedlinksJson.failedLinks.push({publisher:parsObj.publisher,title:parsObj.title,eid:parsObj.eid,doi:parsObj.doi,contentId:parsObj.objectID,contentFormat:"html",recordType:"document"});}
for(var index=0;index<failedJson.length;){var failJsonPart1=[];for(var i=0;i<5;i++){if(failedJson[index+i]){failJsonPart1.push(failedJson[index+i]);}}
jQuery.ajax({type:"POST",url:"/ddm/saveorupdate.uri",data:"failedList="+JSON.stringify(failJsonPart1)+"&successList="+"&count="+count+"&origin="+originVal+"&countNeeded=false"+"&allList=",success:function(data){console.log('Updated the  DDM data For Failed List Event');},error:function(xhr,status,error){console.log(xhr);console.log(status);console.log(error);if(typeof console!=="undefined"){console.log('error while updating the DDM data');}}});index=index+5;}}});document.addEventListener('fetchResponseRecord',function respListener1(event){var failedJson;var ffVer=getFirefoxVersion();if(parseInt(ffVer)>0){failedJson=JSON.parse(event.detail).failedLinks;}else{failedJson=event.detail;}
var count=0;jQuery.ajax({type:"POST",url:"/ddm/saveorupdate.uri",data:"failedList="+JSON.stringify(failedJson)+"&successList="+"&count="+count+"&origin="+originVal+"&countNeeded=false"+"&allList=",success:function(data){console.log('Updated the  DDM data for single failed event');},error:function(xhr,status,error){console.log(xhr);console.log(status);console.log(error);if(typeof console!=="undefined"){console.log('error while updating the DDM data');}}});});document.addEventListener('totalDownloadCount',function downloadCount(count){jQuery.ajax({type:"POST",url:"/ddm/saveorupdate.uri",data:"failedList="+"&successList="+"&count="+count.detail+"&origin="+originVal+"&countNeeded=true"+"&allList=",success:function(data){console.log('Updated the  DDM data For Total Download Count');},error:function(xhr,status,error){console.log(xhr);console.log(status);console.log(error);if(typeof console!=="undefined"){console.log('error while updating the DDM data');}}});});document.addEventListener('storeTos3',function respListener(event){var successJson;var ffVer=getFirefoxVersion();if(parseInt(ffVer)>0){successJson=JSON.parse(event.detail).successlinks;}else{successJson=event.detail;}
totalSuccess=successJson.length;var count=0;jQuery.ajax({type:"POST",url:"/ddm/saveorupdate.uri",data:"allList="+JSON.stringify(successJson)+"&failedList="+"&count="+count+"&origin="+originVal+"&countNeeded=false"+"&successList=",success:function(data){console.log('Updated the  DDM data For All events');},error:function(xhr,status,error){console.log(xhr);console.log(status);console.log(error);if(typeof console!=="undefined"){console.log('error while updating the DDM data');}}});});var pluginEnabled=false;var pluginLoaded=false;var fmtMessageJson={error:messages.resultlist.header.databutton.download.ddm.error(),error1:messages.resultlist.header.databutton.download.ddm.error1(),success:messages.resultlist.header.databutton.download.ddm.success(),checkwithpublisher:messages.resultlist.header.databutton.download.ddm.checkwithpublisher(),downloaded:messages.resultlist.header.databutton.download.ddm.downloaded(),viewabstract:messages.resultlist.header.databutton.download.ddm.viewabstract(),downloadedpdf:messages.resultlist.header.databutton.download.ddm.downloadedpdf(),gotoabstractpage:messages.resultlist.header.databutton.download.ddm.gotoabstractpage(),gotopublisherpage:messages.resultlist.header.databutton.download.ddm.gotopublisherpage(),ddmOutLinkPDFExtract:ddmOutLinkPDFExtract,ddmUseMLAlgorithm:ddmUseMLAlgorithm,ddmIgnoreUrl:ddmIgnoreUrl,webUserIdDDM:webUserIdDDM,maxDownload:messages.resultlist.header.databutton.download.ddm.maxDownload(),noDocsSelected:messages.resultlist.header.databutton.download.ddm.noDocsSelected()};var chromeBrowser=getChromeVersion();var firefoxBrowser=getFirefoxVersion();var ieVer=getIEVersion();var firefoxDDMgetExtURL=jQuery('#btnGetExtension,#btnGetExtensionOnRefresh').attr('data-DDMFirefoxGE');var chromeDDMgetExturl=jQuery('#btnGetExtension,#btnGetExtensionOnRefresh').attr('data-DDMChromeGE');var chromeRefreshMsgDDM=messages.resultlist.header.databutton.download.chrome45.welcome.message();var chromeErrorRefreshMsgDDM=messages.resultlist.header.databutton.download.chrome45.refresh.error.message();function populateLinks(form,allBrowserTextDDM){selectedResultsDDM();if(isPluginEnabled()){jQuery("#done,#m2").addClass('hidden');jQuery("#tableBody, #m1, #download1, #chooseFileNameFormat, #fileNameFormat input[type=radio]").removeClass('hidden');var btnDisabled=document.getElementById('download1').hasAttribute('disabled');if(btnDisabled==true){jQuery("#download1,#chooseFileNameFormat, #fileNameFormat input[type=radio]").removeAttr('disabled');}
$("#ddmModal").modal("show");$(".dialog-modal-DDM").data('bs.modal').$backdrop.addClass('lightGrayBg');fmtMessageJson.selectedDDMdocuments=JSON.stringify(selectedDDMdocuments);var storeEvent=new CustomEvent('myStoreEvent',{"detail":fmtMessageJson});document.dispatchEvent(storeEvent);}
else if(pluginEnabled&&!pluginLoaded){jQuery("#dialog-modal-error-refreshDDM").modal("show");}
else{drawChromeMsgPopUp(allBrowserTextDDM);}
retainSelectOption(form);}
jQuery('#dialog-modal-getExtension,#dialog-modal-refreshDDM').on('click','#btnGetExtension,#btnGetExtensionOnRefresh',function(){if(parseInt(firefoxBrowser)>0){if(!jQuery("#dialog-modal-getExtension.nonRebrandDDM").length){$("#dialog-modal-refreshDDM").modal("show");}
else if(jQuery("#dialog-modal-refreshDDM.nonRebrandDDM").length){drawChromeRefreshMsgPopUp(chromeRefreshMsgDDM);}}
if(parseInt(firefoxBrowser)>0){window.open(firefoxDDMgetExtURL);}
else if(parseInt(chromeBrowser)>0){if(ddmInlineFlagChrome==="true"){chrome.webstore.install('https://chrome.google.com/webstore/detail/ojplelelocihfchkdaebocpankipadmp',function(d){console.log('installed')
if(!jQuery("#dialog-modal-getExtension.nonRebrandDDM").length){$("#dialog-modal-refreshDDM").modal("show");}
else if(jQuery("#dialog-modal-refreshDDM.nonRebrandDDM").length){drawChromeRefreshMsgPopUp(chromeRefreshMsgDDM);}},function(e){if(!jQuery("#dialog-modal-getExtension.nonRebrandDDM").length){$("#dialog-modal-refreshDDM").modal("show");}
else if(jQuery("#dialog-modal-refreshDDM.nonRebrandDDM").length){drawChromeRefreshMsgPopUp(chromeRefreshMsgDDM);}
console.log('not installed: '+e)
window.open(chromeDDMgetExturl);});}else{if(!jQuery("#dialog-modal-getExtension.nonRebrandDDM").length){$("#dialog-modal-refreshDDM").modal("show");}
else if(jQuery("#dialog-modal-refreshDDM.nonRebrandDDM").length){drawChromeRefreshMsgPopUp(chromeRefreshMsgDDM);}
window.open(chromeDDMgetExturl);}}
if(jQuery("#dialog-modal-getExtension.nonRebrandDDM").length){jQuery("#dialog-modal-getExtension").dialog("close");if(jQuery('#dialog-modal-getExtension').parent('body').hasClass('stopScrolling')){jQuery('#dialog-modal-getExtension').parent('body').removeClass('stopScrolling');}}});function populateLinksNonRebrand(form,allBrowserTextDDM){var popupWidth='70%';if(pluginEnabled&&pluginLoaded){jQuery("#done,#m2").addClass('hidden');var btnDisabled=document.getElementById('download1').hasAttribute('disabled');if(btnDisabled==true){jQuery("#download1,#chooseFileNameFormat, #fileNameFormat input[type=radio]").removeAttr('disabled');}
jQuery("#main").dialog({width:popupWidth,modal:true,position:['center',50]}).removeClass("hidden");jQuery(".ui-dialog .ui-dialog-titlebar").css("display","none");jQuery("#tableBody, #m1, #download1,#chooseFileNameFormat, #fileNameFormat input[type=radio]").removeClass('hidden');var storeEvent=new CustomEvent('myStoreEvent',{"detail":fmtMessageJson});document.dispatchEvent(storeEvent);jQuery('body').addClass('stopScrolling');}else if(pluginEnabled&&!pluginLoaded){drawChromeErrorRefreshMsgPopUp(chromeErrorRefreshMsgDDM);}
else{drawChromeMsgPopUp(allBrowserTextDDM);}
retainSelectOption(form);}
function isPluginEnabled(){jQuery('div#testid').remove();var testEVent=new CustomEvent('test',{"detail":''});document.dispatchEvent(testEVent);return document.getElementById('testid')?true:false;}
jQuery('body').on('DOMSubtreeModified','div#test',function(){pluginLoaded=jQuery(this).data('ddmpluginloaded')?true:false;jQuery('div#testid').remove();});jQuery(window).load(function(){if(sessionStorage.getItem("downloadFlag")=="ddmtest"){g_ddmPagination=true;populateLinks(document.forms['SearchResultsForm'],messages.resultlist.header.databutton.download.chrome45.ddm());sessionStorage.removeItem("downloadFlag");}
if(!ieVer){pluginEnabled=isPluginEnabled();}});function retainSelectOption(form){var formSelection=jQuery(form);jQuery.ajax({type:formSelection.attr('method'),url:formSelection.attr('action'),data:formSelection.serialize()});return false;}
function reLoad(){sessionStorage.setItem("downloadFlag","ddmtest");window.location.reload();}
var ddmUncheckedValues=[];var selectedDDMdocuments;var selectedObj;var doiRedirectUrl='http://dx.doi.org/';function selectedResultsDDM(){selectedDDMdocuments=[];if(jQuery('#searchResFormId ').length){selectedObj={};var valueArray;var selector=jQuery('#srchResultsList input[checked="checked"]');var ddmSelectionArray=sessionStorage.getItem("ddmSelectionArray");if(ddmSelectionArray){var jsonValue=JSON.parse(ddmSelectionArray);for(var i=0;i<jsonValue.length;i++){var jsonItem=jsonValue[i];if(ddmUncheckedValues.length>0){for(var k=0;k<ddmUncheckedValues.length;k++){if(jsonItem[ddmUncheckedValues[k]]){delete jsonItem[ddmUncheckedValues[k]];}}}
if(!jQuery.isEmptyObject(jsonItem)){selectedDDMdocuments.push(jsonItem);}}}
jQuery(selector).each(function(){valueArray=[];var eid=this.id;var eidFound=false;for(var i=0;i<selectedDDMdocuments.length;i++){var item=selectedDDMdocuments[i];if(item[eid]){eidFound=true;}}
if(!eidFound){var dataRow=jQuery(this).closest("tr[id^='result']");var linkRow=jQuery(dataRow).next();var eidValue=this.value;var docTitle=jQuery(dataRow).find('td:eq(0)').length>0?jQuery(dataRow).find('td:eq(0)').text().trim():'';var docTitleLink=jQuery(dataRow).find('td:eq(0) a').length>0?jQuery(dataRow).find('td:eq(0) a').attr("href"):'';var authorValue=jQuery(dataRow).find('td:eq(1)').length>0?jQuery(dataRow).find('td:eq(1)').text().split(".,")[0].trim():'';var yearValue=jQuery(dataRow).find('td:eq(2)').length>0?jQuery(dataRow).find('td:eq(2)').text().trim():'';var srcValue=jQuery(dataRow).find('td:eq(3) a').length>0?jQuery(dataRow).find('td:eq(3) a').text().trim():(jQuery(dataRow).find('td:eq(3) i').length?jQuery(dataRow).find('td:eq(3) i').text().trim():'');var publisher=jQuery(dataRow).find('td:eq(3) a').data("publisher")||jQuery(dataRow).find('td:eq(3) i').data("publisher");var pageValue=jQuery(dataRow).find('td:eq(3)').find('div[class="additionalContent visibleHidden"]').length>0?jQuery(dataRow).find('td:eq(3)').find('div[class="additionalContent visibleHidden"]').text().trim():'';var DOI=(jQuery(dataRow).find('div.checkbox').data('doi')?doiRedirectUrl+jQuery(dataRow).find('div.checkbox').data('doi'):null)||jQuery(linkRow).find('a[class=outwardTextLink][href*="ViewAtPublisher"]:not([style*="display:none"])').attr('href')||'NOVAP';var outwardLinks=populateOutwardLinkJSON(jQuery(linkRow).find('a[id^="outwardLink_"]:not([style*="display:none"])'),eidValue);valueArray.push({viewAtpublisherlink:DOI,outwardlinks:outwardLinks,selectedEid:eidValue,documentTitle:docTitle,documentLink:docTitleLink,authorName:authorValue,selectedYear:yearValue,source:srcValue,publisherName:publisher,sourcePageValue:pageValue});selectedObj[eid]=valueArray;}});jQuery.each(selectedObj,function(i,val){var tempObj={};tempObj[i]=val;selectedDDMdocuments.push(tempObj);});sessionStorage.setItem("ddmSelectionArray",JSON.stringify(selectedDDMdocuments));if(!g_ddmPagination){sessionStorage.removeItem("ddmSelectionArray");}
ddmUncheckedValues=[];}else if(jQuery('#docDetailPage').length){var eidValue=jQuery("input[id='currentRecordPageEID']").val();var recordPageDOI=jQuery('meta[name="dc.identifier"]').attr("content")||jQuery('span#recordDOI').text();var docDetailsTitle=jQuery('h2[class=h3]')[0];var recordPageSrc=jQuery("a[title='Go to the information page for this source'],a[id='sourceTitleId'],span[id='noSourceTitleLink'],span[id='publicationTitle']")[0];var DOI=(recordPageDOI?(doiRedirectUrl+recordPageDOI):null)||(jQuery("div#docDetailPage .divTextLink a[class=outwardTextLink][href*='ViewAtPublisher']").attr("href"))||'NOVAP';var docTitle=docDetailsTitle?docDetailsTitle.innerText.trim():'';var docTitleLink=window.location.href;var srcValue=recordPageSrc?recordPageSrc.innerText.trim():'';var publisher=jQuery('#documentInfo li:contains("Publisher")').clone().children().remove().end().text().trim()||parsePublisher(jQuery('#abstractSection p').text().trim());var recordPageAuthorValue=(jQuery("a[title='Show Author Details']").length&&jQuery("a[title='Show Author Details']"))||(jQuery("#authorlist ul li a").length&&jQuery("#authorlist ul li a"))||(docDetailsTitle&&docDetailsTitle.nextSibling&&docDetailsTitle.nextSibling.nextSibling);var authorValue=jQuery(recordPageAuthorValue).length?jQuery(recordPageAuthorValue)[0].innerText:"[No author name available]";var volumeInfoValue=jQuery("span[id='journalInfo']").length?jQuery("span[id='journalInfo']").text().trim():'';var outwardLinks=populateOutwardLinkJSON(jQuery('a[id^="outwardLink_"]:not([style*="display:none"])'),eidValue);selectedDDMdocuments.push({viewAtpublisherlink:DOI,outwardlinks:outwardLinks,selectedEid:eidValue,documentTitle:docTitle,documentLink:docTitleLink,authorName:authorValue,source:srcValue,publisherName:publisher,volumeInfo:volumeInfoValue});}}
function populateOutwardLinkJSON(outwardLinks,eid){var visibleOutLinks={};var outLinksArray=[];var filteredElements=jQuery(outwardLinks).filter('a[href*="'+eid+'"]');var filteredLength=filteredElements.length;for(var l=0;l<filteredLength;l++){var hrefValue=jQuery(filteredElements)[l].href;var id=jQuery(filteredElements)[l].id;var eachLink={};eachLink[id]=hrefValue;outLinksArray.push(eachLink);}
visibleOutLinks[eid]=outLinksArray;return visibleOutLinks;}
function parsePublisher(text){var publisherName="";if(text&&text.indexOf("©")>-1){publisherName=text.substring(text.indexOf("©")+1).replace(/[0-9]/g,"").trim().split(".")[0].replace(/[\W_]+/g," ").trim();}
return publisherName;}
jQuery('body').on('submit','form[name="SearchResultsForm"]',function(event){selectedResultsDDM();});jQuery('#srchResultsList div.checkbox input[type="checkbox"]').on('change',function(){if(!jQuery(this).attr("checked")){ddmUncheckedValues.push(this.id);}});jQuery('#selectAllTop').on('change',function(){if(!jQuery(this).attr("checked")){sessionStorage.removeItem("ddmSelectionArray");}});(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var c=!1;t(document).on("mouseup",function(){c=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,c=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&u(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var u=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&u(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=u(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(d,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var p;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),p===n&&(p=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))}},_updateDatepicker:function(e){this.maxRows=4,p=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var f="ui-effects-",g="ui-effects-style",m="ui-effects-animated",_=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(_),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(_.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(m)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(f+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(f+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(g,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(g)||"",t.removeData(g)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(f+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=f+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(m),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(m,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var v=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var v;t.uiBackCompat!==!1&&(v=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}))});function openSeperateWindow(pageToLoad,winName,width,height,center)
{if(winName=='popuptip'){loc=2;}else{loc=0;}
args=getArgs(width,height,center,0,loc);if((parseInt(navigator.appVersion)>=4)&&(center)){if(window.sepwindow){sepwindow.close();sepwindow=window.open(pageToLoad,winName,args);}}
sepwindow=window.open(pageToLoad,winName,args);return false;}
function openGlobalhelp(pageToLoad,winName,width,height,center){window.open(pageToLoad,'_blank','toolbar=yes,location=yes,status=yes,menubar=yes,scrollbars=yes,resizable=yes');window.focus();return false;}
function getArgs(width,height,center,menu,loc){xposition=10;yposition=10;if((parseInt(navigator.appVersion)>=4)&&(center)){if(loc==0){xposition=(screen.width-width)-10;yposition=(screen.height-height)-58;}else if(loc==1){xposition=(screen.width-width)/2;yposition=((screen.height-height)/2)-67;}else if(loc==2){xposition=(screen.width-width)-10;yposition=0;}}
if(navigator.appName=='Netscape'){width=width+25;height=height+25;}
args="width="+width+",height="+height+",toolbar="+menu+",menubar="+menu
+",screenx="+xposition+",screeny="+yposition+",left="+xposition+",top="+
yposition+",resizable=1,scrollbars=1,";return args;}
function openSizedWindow(url,winname){if((navigator.appName=="Microsoft Internet Explorer")&&(parseFloat(navigator.appVersion)<4))
{return false;}
var parms='width=750'+',height=450'+',screenX=0'+',screenY=0'+',left=0'+',top=0'+',status=yes,toolbar=yes,menubar=yes,location=yes'+',scrollbars=yes,resizable=yes';win=window.open(url,winname,parms);win.focus();return false;}
function openBareWindow(url,winname){if((navigator.appName=="Microsoft Internet Explorer")&&(parseFloat(navigator.appVersion)<4))
{return false;}
var parms='width=750'+',height=450'+',screenX=0'+',screenY=0'+',left=0'+',top=0'+',status=no,toolbar=no,menubar=no,location=no'+',scrollbars=no,resizable=no';win=window.open(url,winname,parms);win.focus();return false;}
function openPopUpWindow(url,title,width,height,pos,menubar,toolbar,status,resizable,scrollbars,location){var features=createWindowFeatures(width,height,pos,menubar,toolbar,status,resizable,scrollbars,location);return window.open(url,title,features);}
function createWindowFeatures(width,height,pos,menubar,toolbar,status,resizable,scrollbars,location){var xpos=0;var ypos=0;var xfudge=20;var yfudge=40;switch(pos){case 1:xpos=0;ypos=0;break;case 2:xpos=(screen.width-width-xfudge)/2;ypos=0;break;case 3:xpos=screen.width-width-xfudge;ypos=0;break;case 4:xpos=0;ypos=(screen.height-height-yfudge)/2;break;case 5:xpos=(screen.width-width-xfudge)/2;ypos=(screen.height-height-yfudge)/2;break;case 6:xpos=screen.width-width-xfudge;ypos=(screen.height-height-yfudge)/2;break;case 7:xpos=0;ypos=(screen.height-height-yfudge);break;case 8:xpos=(screen.width-width-xfudge)/2;ypos=(screen.height-height-yfudge);break;case 9:xpos=(screen.width-width-xfudge);ypos=(screen.height-height-yfudge-20);break;case 10:xpos=(screen.width-width-10);ypos=0;break;}
args="width="+width+",height="+height+",screenx="+xpos+",left="+xpos+",screeny="+ypos+",top="+ypos+",menubar="+menubar+",toolbar="+toolbar+",location="+location+",status="+status+",resizable="+resizable+",scrollbars="+scrollbars;return args;}
function getJSCheckedUrl(url){url=url+"&javascript=t";return url;}
function getIEVersion(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10);}
var trident=ua.indexOf('Trident/');if(trident>0){var rv=ua.indexOf('rv:');return parseInt(ua.substring(rv+3,ua.indexOf('.',rv)),10);}
var edge=ua.indexOf('Edge/');if(edge>0){return parseInt(ua.substring(edge+5,ua.indexOf('.',edge)),10);}
return false;}
function clearForm(form){for(var i=0;i<form.elements.length;i++){if(form.elements[i].type!="hidden"){if(form.elements[i].type=="checkbox"){form.elements[i].checked=false;}else{form.elements[i].value="";}}}
return false;}
function flipLogin(button,from){if(from=="loginbox"){var t=jQuery('#loginBox');var u=jQuery('#loginPlus');if(t.css('display')=="none"){t.css('display','block');u.removeClass('plus');u.addClass('minus bg2');}else{t.css('display','none');u.removeClass('minus bg2');u.addClass('plus');}
showLoginBoxPos();}
if(from=="logoutbox"){var t=jQuery('#logoutBox');var u=jQuery('#logoutPlus');if(t.css('display')=="none"){t.css('display','block');u.removeClass('plus');u.addClass('minus bg2');}else{t.css('display','none');u.removeClass('minus bg2');u.addClass('plus');}
showLogoutBoxPos();}}
function showLoginBoxPos(){var divJSLogin=jQuery('#divJSLogin');var divJSLoginWidth=jQuery('#divJSLogin').width();var loginBox=jQuery("#loginBox");var divJSLoginLeftPos=divJSLogin.offset().left;var totalWidthPos=divJSLoginLeftPos+divJSLoginWidth;var windowWidth=jQuery(window).width();loginBox.css('right',windowWidth-totalWidthPos);}
function showLogoutBoxPos(){var logoutPlus=jQuery('a#logoutPlus');var logoutPlusWidth=logoutPlus.width()+20;var logoutBox=jQuery("#logoutBox");var logoutPlusLeftPos=logoutPlus.offset().left;var totalWidthPos=logoutPlusLeftPos+logoutPlusWidth;var windowWidth=jQuery(window).width();logoutBox.css({'right':windowWidth-totalWidthPos,'top':'26px'});}
function submitForm(actionUri){var associationForm=document.getElementById("associationForm");associationForm.action=actionUri;jQuery("#associationForm input[name=http_method_name]").val("GET");associationForm.submit();}
jQuery.fn.selectRange=function(start,end){if(!end)end=start;return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(start,end);}else if(this.createTextRange){var range=this.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',start);range.select();}});};function placeHolderInit(){var placeHolderSupport=false;var test=document.createElement('input');if('placeholder'in test)placeHolderSupport=true;if(!placeHolderSupport){jQuery('[placeholder]').unbind('keydown,blur,click').click(function(){jQuery(this).focus();jQuery(this).selectRange(0);}).keydown(function(){var input=jQuery(this);if(input.val()==input.attr('placeholder')){input.val('');input.removeClass('placeholder');}}).blur(function(){var input=jQuery(this);if(input.val()==''||input.val()==input.attr('placeholder')){input.addClass('placeholder');input.val(input.attr('placeholder'));}}).blur().parents('form').submit(function(){jQuery(this).find('[placeholder]').each(function(){var input=jQuery(this);if(input.val()==input.attr('placeholder')){input.val('');}});});}}
function processAlertClick(button){jQuery("#alertClick").val(button);document.SourceInfoForm.submit();}
jQuery(document).ready(function(){var txtZoneMsgBar=jQuery('#messageBar');if(txtZoneMsgBar.length){if(jQuery.trim(jQuery('#messageBar div').html())!=''){txtZoneMsgBar.addClass('displayBlock').removeClass('displayNone');}else{txtZoneMsgBar.addClass('displayNone').removeClass('displayBlock');}}
var pipeObj=jQuery("#hasjs");if(pipeObj!=null&&pipeObj!='undefined'&&pipeObj!=''){pipeObj.parent().css("background","none");}
if(jQuery('#logout_username').length&&jQuery('#settings-panel').length){myScopusCarsResponse();jQuery(window).resize(function(){setMyScopusPanelHeight();});}
if(jQuery('.ie9InfoMsgCnt').length){if(getIEVersion()==9){jQuery('.ie9InfoMsgCnt').removeClass('displayNone');}
else{jQuery('.ie9InfoMsgCnt').addClass('displayNone');}}});function myScopusCarsResponse(){var getLoginUserName=jQuery('#logout_username').text();var myScopusTxt=jQuery('#mainNav .myScopusTxt').text();jQuery('#settings-panel .CARS_panelTitle').html('<span>'+myScopusTxt+'</span><label class="carsUsrName">- '+getLoginUserName+'</label>').css({'display':'block'});setMyScopusPanelHeight();}
function setMyScopusPanelHeight(){jQuery('#settings-app-links-top').height('');jQuery('#modify-profile-group').height('');var settingAppLinksHeight=jQuery('#settings-app-links-top').height();var modifyProfileGrpHeight=jQuery('#modify-profile-group').height();if(settingAppLinksHeight>modifyProfileGrpHeight){jQuery('#modify-profile-group').css({'height':settingAppLinksHeight});}
else if(settingAppLinksHeight<modifyProfileGrpHeight){jQuery('#settings-app-links-top').css({'height':modifyProfileGrpHeight});}}
var InfoBubble={bubbleTimeout:2,currentBubble:null,timeoutBubbleID:null,show:function(aID){var aBubble=document.getElementById(aID);if(aBubble&&aBubble!=this.currentBubble){this.hide();aBubble.style.display='inline';this.currentBubble=aBubble;}
if(this.timeoutBubbleID){clearTimeout(this.timeoutBubbleID);}},hide:function(){if(this.currentBubble){this.currentBubble.style.display='none';this.currentBubble=null;if(this.timeoutBubbleID){clearTimeout(this.timeoutBubbleID);}}},timeout:function(){this.timeoutBubbleID=setTimeout('InfoBubble.hide()',this.bubbleTimeout*1000);}};function assertNotEmpty(control){assertNotEmpty(control,'');}
function assertNotEmpty(control,message){var reg=/\S/g;if(control.value==null||control.value==''||control.value.match(reg)==null){if(message!=null&&message!=''){alert(message);}
control.focus();control.select();return false;}
return true;}
function assertNotEmptyString(thisString){var reg=/\S/g;if(thisString==null||thisString==''||thisString.match(reg)==null){return false;}
return true;}
function assertChecked(control,message){if(control==null){return false;}
var isChecked=false;if((typeof(control)=="object")||(typeof(control)=="function")){if(control[0]!=undefined){for(var i=0;i<control.length;++i){if(control[i].checked){isChecked=control[i].checked;break;}}}
else{isChecked=control.checked;}}
if(arguments.length>1){if(!isChecked){if((message!=null)&&(message!="")){alert(message);}}}
return isChecked;}
var SortData={buildNav:function(isPreview){var primaryNavSize=SortData.NavItems.primaryNav.length;var isSelectedInPrimary=false;var isSelectedInSecondary=false;var replacerInPrimary=[];var sortNav=["<UL id='sortMainNav'>"];var keyArr=[];for(var i=0;i<primaryNavSize;i++){var navLinkClass=isPreview?"sortLinkNormal previewTxt":"sortLinkNormal";var navObj=SortData.NavItems.primaryNav[i];var key=navObj.key;var value=navObj.value;var title=navObj.title;var hrefVal=['href="#sort',value,'"'];if(SortData.selectedNav===key){isSelectedInPrimary=true;navLinkClass="sortLinkSelected";hrefVal=[];}
else{keyArr.push(key);}
if(!isSelectedInPrimary&&i===(primaryNavSize-1)){replacerInPrimary=["<li>",'<a id="',key,'" href="#sort',value,'" class="',navLinkClass,'" title="',title,'">',value,"</a></li>"];}
else{sortNav.push("<li>",'<a id="',key,'" ',hrefVal.join(''),' class="',navLinkClass,'" title="',title,'">',value,"</a></li>");}}
var secondaryNavSize=SortData.NavItems.secondaryNav.length;var bubbleNav=['<div class="bubble-source-data" id="showSortBubble-data"><ul id="sortBubbleNav">'];if(!isSelectedInPrimary){bubbleNav.push(replacerInPrimary.join(''));}
for(var i=0;i<secondaryNavSize;i++){var navLinkClass="sortLinkNormal";var navObj=SortData.NavItems.secondaryNav[i];var key=navObj.key;var value=navObj.value;var title=navObj.title;if(SortData.selectedNav===key){isSelectedInSecondary=true;navLinkClass="sortLinkSelected";sortNav.push("<li>",'<a id="',key,'" class="',navLinkClass,'" href="#sort',value,'" title="',title,'">',value,"</a></li>");}
else{bubbleNav.push("<li>",'<a id="',key,'" class="',navLinkClass,'" href="#sort',value,'" title="',title,'">',value,"</a></li>");keyArr.push(key);}}
bubbleNav.push('</ul></div>');sortNav.push('<li><a id="showSortBubble"  class="',isPreview?' bubbleLinkPreview':'bubbleLink','" title="',SortData.NavItems.otherTitle,'"',isPreview?"":'href="#showMoreSort"',' alt="',SortData.NavItems.otherTitle,'"',' ><span class="hidden-label">',SortData.NavItems.otherTitle,'</span><span aria-hidden="true">...</span></a></li>');sortNav.push("</ul>");jQuery("#navLoad").hide();jQuery("#sortNav").append(sortNav.join(''));if(!isSelectedInPrimary&&!isSelectedInSecondary){jQuery("#sortMainNav li:eq(0) a").removeClass("sortLinkNormal").addClass("sortLinkSelected").removeAttr("href");}
if(!isPreview){jQuery("#sortNav").append(bubbleNav.join(''));jQuery("#showSortBubble").unbind("click focus blur").bind("click",{position:Bubble.positionRight},Bubble.showBubble).bind('focus blur',SortData.bubbleFocus);jQuery("#sortNav").off("click.sort").on("click.sort",'a.sortLinkNormal',SortData.sortNavClick);jQuery("a.sortLinkSelected").die("click");}
else{jQuery("#sortNav").addClass("navPreview");}},bubbleFocus:function(event){if(event.type=="focus"){jQuery(event.target).addClass("bubbleLinkHover");}
else{jQuery(event.target).removeClass("bubbleLinkHover");}},authSortNavClick:function(event){var clickedId=event.target.id;sortField(clickedId,'sort',document.forms[formname]);jQuery("#"+clickedId).css("cursor","progress");return false;},docSortNavClick:function(event){var clickedId=event.target.id;sortFieldSub(clickedId,'sortField',document.SearchResultsForm);jQuery("#"+clickedId).css("cursor","progress");return false;}};var listItemHover={HoverTimer:150,init:function(){jQuery('#srchResultsList ul.resultItemLists li, #authPrevResultsList ul.resultItemLists li, #srchResultsListPopUp ul.resultItemLists li, #srchResultsList ul.coAuthList li').live('mouseenter',function(){jQuery(this).attr('data-hover','true');var obj=this;window.setTimeout(function(){listItemHover.onmouseoverLI(obj);},listItemHover.HoverTimer);});jQuery('#srchResultsList ul.resultItemLists li, #authPrevResultsList ul.resultItemLists li, #srchResultsListPopUp ul.resultItemLists li, #srchResultsList ul.coAuthList li').live('mouseleave',function(){jQuery(this).attr('data-hover','false');jQuery(this).removeClass('listItemHover');});jQuery('#srchResultsList ul.resultItemLists li input[type="checkbox"], #srchResultsList ul.resultItemLists li a, #authPrevResultsList ul.resultItemLists li input[type="checkbox"],#authPrevResultsList ul.resultItemLists li a,#srchResultsListPopUp ul.resultItemLists li input[type="checkbox"], #srchResultsListPopUp ul.resultItemLists li a').live('focus',listItemHover.addEffect);jQuery("#resultsPerPageSelectBoxIt").live('focus',function(event){var element=jQuery("ul.resultItemLists");element=element.find("li.listItemHover");if(element.length){listItemHover.removeEffect(element);}});},onmouseoverLI:function(obj){if(jQuery(obj).attr('data-hover')=='true'&&!jQuery(obj).hasClass('listItemHover')){jQuery(obj).addClass('listItemHover');}},addEffect:function(event){var element=jQuery(event.target);if(!element.is("li")){element=jQuery(element).closest("li");}
jQuery(element).attr('data-hover','true');window.setTimeout(function(){listItemHover.onmouseoverLI(element);},listItemHover.HoverTimer);var previousLI=jQuery(element).prev("li.listItemHover");listItemHover.removeEffect(previousLI);var previousLI=jQuery(element).next("li.listItemHover");listItemHover.removeEffect(previousLI);},removeEffect:function(element){jQuery(element).attr('data-hover','false');jQuery(element).removeClass('listItemHover');}};var listItemHoverCib={HoverTimer:150,init:function(){jQuery('div.listPadding').live('mouseenter',function(){jQuery(this).attr('data-hover','true');var obj=this;window.setTimeout(function(){listItemHoverCib.onmouseoverLI(obj);},listItemHoverCib.HoverTimer);});jQuery('div.listPadding').live('mouseleave',function(){jQuery(this).attr('data-hover','false');jQuery(this).removeClass('listItemHoverCib');});jQuery('div.listPadding a').live('focus',listItemHoverCib.addEffect);jQuery("#resultsPerPageSelectBoxIt").live('focus',function(event){var element=jQuery("ul.resultItemLists");element=element.find("div.listItemHoverCib");if(element.length){listItemHoverCib.removeEffect(element);}});},onmouseoverLI:function(obj){if(jQuery(obj).attr('data-hover')=='true'&&!jQuery(obj).hasClass('listItemHoverCib')){jQuery(obj).addClass('listItemHoverCib');}},addEffect:function(event){var element=jQuery(event.target);if(!element.is("div")){element=jQuery(element).closest("div");}
jQuery(element).attr('data-hover','true');window.setTimeout(function(){listItemHoverCib.onmouseoverLI(element);},listItemHoverCib.HoverTimer);var previousLI=jQuery(element).prev("div.listItemHoverCib");listItemHoverCib.removeEffect(previousLI);var previousLI=jQuery(element).next("div.listItemHoverCib");listItemHoverCib.removeEffect(previousLI);},removeEffect:function(element){jQuery(element).attr('data-hover','false');jQuery(element).removeClass('listItemHoverCib');}};var enableDisableLmtExcBtn={init:function(){jQuery('#sRefineResults').on('click','input:checkbox',function(){var id=$(this).attr('id');var multipleIds=$('[id="'+id+'"]')
if(multipleIds.length>1){if($(this).prop('checked')){multipleIds.prop("checked",true);}else{multipleIds.prop("checked",false);}}
var checkedCount=jQuery("#sRefineResults input:checkbox:checked").length;if(jQuery("#sRefineResults input#exactSearch:checkbox:checked").length>0){checkedCount--;}
if(jQuery("#sRefineResults input#showProf:checkbox:checked,#sRefineResults input#hideProf:checkbox:checked").length>0){checkedCount--;}
if(checkedCount>0){jQuery("#sRefineResults .refineButtons input:submit").removeClass('btnLmtExcDisabled').addClass('btnLmtExcEnable').removeAttr('disabled');if(jQuery(this).closest('div.dummyNav').find("input:checkbox:checked").length>0){jQuery(this).closest('div.dummyNav').find("div.navOverlayItems input:submit").removeClass('btnLmtExcDisabled').addClass('btnLmtExcEnable').removeAttr('disabled');}else{jQuery(this).closest('div.dummyNav').find("div.navOverlayItems input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');}
validateLmtExc();}
else{jQuery("#sRefineResults div.refineButtons input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');jQuery("#sRefineResults div.navOverlayItems input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');}});jQuery('#sRefineResults div.refineButtons input:submit,#sRefineResults div.overlayButtons input:submit').on('click',function(e){if(jQuery(this).hasClass('btnLmtExcDisabled')){e.preventDefault();}});if(jQuery.browser.mozilla){jQuery('.btnLmtExcDisabled,.btnLmtExcEnable').not('.btn').css({'padding':'0px 7px 2px'});}},noItemsSelected:function(){var checkedCount=jQuery("#sRefineResults input:checkbox:checked").length;if(jQuery("#sRefineResults input#exactSearch:checkbox:checked").length>0){checkedCount--;}
if(jQuery("#sRefineResults input#showProf:checkbox:checked,#sRefineResults input#hideProf:checkbox:checked").length>0){checkedCount--;}
if(checkedCount>0){jQuery("#sRefineResults .refineButtons input:submit").removeClass('btnLmtExcDisabled').addClass('btnLmtExcEnable').removeAttr('disabled');jQuery('#sRefineResults div.navOverlayItems input:submit').removeClass('btnLmtExcDisabled').addClass('btnLmtExcEnable').removeAttr('disabled');validateLmtExc();}
else{jQuery("#sRefineResults div.refineButtons input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');jQuery("#sRefineResults div.navOverlayItems input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');jQuery("#sRefineResults div.navOverlayItems #showAnalyzeSources input").addClass('btnLmtExcEnable').removeClass('btnLmtExcDisabled').removeAttr('disabled');}}};function validateLmtExc(){jQuery('body').on('click','.btnLmtExcEnable',function(){var limitToBtn=jQuery(this).hasClass('limitToButton');var excludeBtn=jQuery(this).hasClass('excludeButton');if(limitToBtn){return ValidateClusters('limit to');}
else if(excludeBtn){return ValidateClusters('exclude');}});}
var Bubble={};Bubble.showBubble=function(event){event.data.target=event.currentTarget;Bubble.show(event.data);if(jQuery.isFunction(event.preventDefault)){event.preventDefault();}};Bubble.show=function(data){var $element=jQuery(data.target),elementId=$element.attr("id"),$dataElement=jQuery("#"+elementId+"-data");$dataElement.modal();};Bubble.showModalWithId=function(id,event){$dataElement=jQuery("#"+id+"-data");$dataElement.modal();if(jQuery.isFunction(event.preventDefault)){event.preventDefault();}};Bubble.hide=function(e){var elementId=e.data.elementId;jQuery("#"+elementId+"-data").modal('hide');};Bubble.showCurrent=function(data,previous){var $element=jQuery(data.target),elementId=$element.attr("id"),$dataElement=jQuery("#"+elementId+"-data");jQuery("#"+previous).on("hidden.bs.modal",function(e){$dataElement.modal();jQuery("#"+previous).unbind();});};Bubble.forceHideAll=function(e){};Bubble.hideAll=function(e){};var previewabstractrow=null;var previewAbstract=null;var plusminus=null;var previewAbstractLinkText=null;var absPreviewBaseUrl="/results/abstractpreview.uri";var allAbstractsRetrieved=false;var count=0;var resultsPerPage=0;var offset=0;var clusterRowDisplayCount=0;var gWorking=false;function toggleShowAbstract(closed,limit,sort,showAllAbstractSelected,originationType,resultsCount,rowID,EID){if(document.SearchResultsForm.sort!=null){sort=document.SearchResultsForm.sort.value;}
if(gWorking){if(closed){jQuery('#previewAbstractLinkText'+rowID.toString()).html(reterivingVar+"...").removeClass("openpreview").addClass("abstractRetrieving");}
setTimeout("toggleShowAbstract('"+closed+"','"+limit+"','"+sort+"','"+showAllAbstractSelected+"','"+originationType+"','"+resultsCount+"','"+rowID+"','"+EID+"')",1000);return false;}
gWorking=true;$previewAbstractLinkObj=jQuery('#previewAbstractLinkText'+rowID+" a");$previewAbstractLinkTextObj=jQuery('#previewAbstractLinkText'+rowID);previewAbstractLinkText=document.getElementById('previewAbstractLinkText'+rowID.toString());previewAbstract=document.getElementById('previewAbstract'+rowID.toString());if(closed){var classes="closepreview";previewAbstractLinkText.innerHTML=reterivingVar+"...";AllAbstract.showAbstract(rowID);if(previewAbstract.innerHTML==""||allAbstractsRetrieved==false){computeCount(limit,sort,originationType,resultsCount,EID,rowID);}else{if(EID!=null){logRecordPageKeyEvent(EID,rowID);}
previewAbstractLinkText.innerHTML='<a href="#" class="'+classes+'" onclick="return toggleShowAbstract(false,'+limit+',\''+sort+'\','+showAllAbstractSelected+',\''+originationType+'\',\''+resultsCount+'\','+rowID+', \''+'null'+'\')"><span class="btnText">'+hideAbstract+'</span> <span class="ico-navigate-up" aria-hidden="true"></span></a>';gWorking=false;}}else{var classes="openpreview";AllAbstract.hideAbstract(rowID);previewAbstractLinkText.innerHTML='<a href="#" class="'+classes+'" onclick="return toggleShowAbstract(true,'+limit+',\''+sort+'\','+showAllAbstractSelected+',\''+originationType+'\',\''+resultsCount+'\','+rowID+', \''+EID+'\')"><span class="btnText">'+showAbstract+'</span> <span class="ico-navigate-down" aria-hidden="true"></span></a>';gWorking=false;}
return false;}
var AllAbstract={SHOW:"show",HIDE:"hide",ShowTime:300,HideTime:300,previewAbstractLinkTextInnerHtmls:{},toggleAllAbstracts:function(event){var params=event.data;var showHideState=params.showHideState;var $previewAllAbstractLink=jQuery('#previewAllAbstractsLinkText a');var $previewAbstractLinkText=null;var $previewAbstractLink=null;var sort=params.sort;if(document.SearchResultsForm.sort!=null){sort=document.SearchResultsForm.sort.value;}
var param={isClosed:true,limit:params.limit,sort:params.sort,showAllAbstractSelected:params.showAllAbstractSelected,originationType:params.originationType,resultsCount:params.resultsCount,rowId:0,EId:null};if(showHideState===AllAbstract.HIDE&&allAbstractsRetrieved===true){params.showHideState=AllAbstract.SHOW;$previewAllAbstractLink.attr("onclick","").html(toggleShowAbstractAll).unbind("click").click(params,AllAbstract.toggleAllAbstracts);setShowHideSessionState(showHideState,sort,params.resultsCount,params.originationType);for(var i=1;i<=resultsPerPage;i++){$previewAbstractLink=jQuery('#previewAbstractLinkText'+i+" a");param.rowId=i;if($previewAbstractLink.length){$previewAbstractLink.html('<span class="btnText">'+showAbstract+'</span> <span class="ico-navigate-down" aria-hidden="true"></span>').attr("onclick",'return toggleShowAbstract(true,'+params.limit+',\''+params.sort+'\','+params.showAllAbstractSelected+',\''+params.originationType+'\',\''+params.resultsCount+'\','+i+', \'null\')').removeClass("closepreview").addClass('openpreview');}
AllAbstract.hideAbstract(i);}}
else if(showHideState==AllAbstract.SHOW){params.showHideState=AllAbstract.HIDE;$previewAllAbstractLink.html(toggleHideAbstractAll).prop("onclick",null).unbind("click").click(params,AllAbstract.toggleAllAbstracts);if(params.showAllAbstractSelected==true||allAbstractsRetrieved==true){for(var i=1;i<=resultsPerPage;i++){$previewAbstractLink=jQuery('#previewAbstractLinkText'+i+" a");param.rowId=i;param.isClosed=false;if($previewAbstractLink!=null&&$previewAbstractLink.length){$previewAbstractLink.html('<span class="btnText">'+hideAbstract+'</span> <span class="ico-navigate-up" aria-hidden="true"></span>').attr("onclick",'return toggleShowAbstract(false,'+params.limit+',\''+params.sort+'\','+params.showAllAbstractSelected+',\''+params.originationType+'\',\''+params.resultsCount+'\','+i+', \'null\')').removeClass("openpreview").addClass('closepreview');}
AllAbstract.showAbstract(i);}
setShowHideSessionState(showHideState,sort,params.resultsCount,params.originationType);}
else{showAllAbstractSelected=true;for(var i=1;i<=resultsPerPage;i++){$previewAbstractLinkText=jQuery('#previewAbstractLinkText'+i);if($previewAbstractLinkText!=null&&$previewAbstractLinkText.lenght){previewAbstractLinkTextInnerHtmls[i]=$previewAbstractLinkText.html();$previewAbstractLinkText.html(reterivingVar+"...").addClass('abstractRetrieving').removeClass("openpreview");}}
computeCount(params.limit,params.sort,params.originationType,params.resultsCount,null,null);}}},toggleShowAbstract:function(event){var data=event.data;toggleShowAbstract(data.isClosed,data.limit,data.sort,data.showAllAbstractSelected,data.originationType,data.resultsCount,data.rowId,data.EId);},showAbstract:function(rowId){var $previewabstractrow=jQuery("#previewabstractrow"+rowId);if($previewabstractrow.length>0){$previewabstractrow.parent().addClass("noborder");$previewabstractrow.slideDown(AllAbstract.ShowTime);}},hideAbstract:function(rowId){var $previewabstractrow=jQuery("#previewabstractrow"+rowId);if($previewabstractrow.length>0){$previewabstractrow.slideUp(AllAbstract.HideTime);$previewabstractrow.parent().removeClass("noborder");}}};var allAbsPreviewBaseUrl="/results/showallabstractspreview.uri";function toggleShowAllAbstracts(showHideState,limit,sort,showAllAbstractSelected,originationType,resultsCount){var event={data:{showHideState:showHideState,limit:limit,sort:sort,showAllAbstractSelected:showAllAbstractSelected,originationType:originationType,resultsCount:resultsCount}};AllAbstract.toggleAllAbstracts(event);return false;}
function showAllAbstractsBatch(searchString,resultsPerPage,offset,limit,count,sort,isBatch,batchId,originationType,clusterRowDisplayCount,resultsCount,EID,rowID){var countParam="count="+count;var offsetParam="&offset="+offset;var origSearchTerm=jQuery('#origSearch').val();if(typeof origSearchTerm!='undefined'){searchString="&searchString="
+encodeURIComponent(origSearchTerm);}else{searchString=searchString.replace(/&#034;/g,"\"").replace(/&#039;/g,"'").replace(/&amp;amp;/g,"&");searchString="&searchString="+encodeURIComponent(searchString);}
var sortType="&sortType="+sort;var origin="&origin=resultslist";var originType="&originationType="+originationType;var resultPerPage="&resultsPerPage="+resultsPerPage;var clusteringRowDisplayCount="&clusterRowDisplayCount="+clusterRowDisplayCount;var resultCount="&resultsCount="+resultsCount;var docEID="&eid="+EID;var listId="";var cite="";var authorCitedId="";var citedByRefId="";var refVal="";var citeId="";var cluster="";var recent="";var clusterAttr=jQuery('#origCluster').val();if(typeof clusterAttr!='undefined'){cluster="&cluster="+encodeURIComponent(clusterAttr);}
if(document.SearchResultsForm!=null){if(document.SearchResultsForm.citedAuthorId!=null){authorCitedId=document.SearchResultsForm.citedAuthorId.value;}
if(document.SearchResultsForm.cite!=null){cite=document.SearchResultsForm.cite.value;}
if(document.SearchResultsForm.refeid!=null){citedByRefId=document.SearchResultsForm.refeid.value;}
if(document.SearchResultsForm.listId!=null){listId=document.SearchResultsForm.listId.value;if(listId=="-1"){listId="myList";}}
if(document.SearchResultsForm.ref!=null){refVal=document.SearchResultsForm.ref.value;}
if(document.SearchResultsForm.citingId!=null){citeId=document.SearchResultsForm.citingId.value;}
if(document.SearchResultsForm.rr!=null){recent=document.SearchResultsForm.rr.value;}}
var citeIdParam="&citingId="+citeId;var authorCitedParam="&citedAuthorId="+authorCitedId;var listIdParam="&listId="+listId;var citeParam="&cite="+cite;var citedRefId="&refeid="+citedByRefId;var refQueryVal="&ref="+refVal;var recentVal="&recent="+recent;var recordIndex="&recordIndex="+rowID;var param=countParam+offsetParam+searchString+sortType+origin+originType+clusteringRowDisplayCount+resultPerPage+resultCount+docEID+listIdParam+citeParam+authorCitedParam+citeIdParam+citedRefId+refQueryVal+cluster+recentVal+recordIndex;var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){stateChanged(xmlhttp,offset,isBatch,batchId,limit,searchString,resultsPerPage,count,sort,originationType,clusterRowDisplayCount,resultsCount,rowID);};if(EID==null){xmlhttp.open("POST",allAbsPreviewBaseUrl,true);}
else{xmlhttp.open("POST",absPreviewBaseUrl,true);}
xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",param.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(param);return;}
function setShowHideSessionState(showHideState,sort,resultsCount,originationType){if(document.SearchResultsForm!=null){resultsPerPage=document.SearchResultsForm.resultsPerPage.value;offset=document.SearchResultsForm.offset.value;clusterRowDisplayCount=document.SearchResultsForm.cc.value;}
var showHide="?showHideState="+showHideState;var clusteringRowDisplayCount="&clusterRowDisplayCount="+clusterRowDisplayCount;var sortType="&sortType="+sort;var origin="&origin=resultslist";var offsetParam="&offset="+offset;var resultCount="&resultsCount="+resultsCount;var resultPerPage="&resultsPerPage="+resultsPerPage;var originType="&originationType="+originationType;var allAbsPreviewUrl=allAbsPreviewBaseUrl+showHide+clusteringRowDisplayCount+sortType+origin+offsetParam+resultCount+resultPerPage+originType;var xmlhttp=GetXmlHttpObject();xmlhttp.open("GET",allAbsPreviewUrl,true);xmlhttp.send(null);return;}
function stateChanged(xmlhttp,offset,isBatch,batchId,limit,searchString,resultsPerPage,count,sort,originationType,clusterRowDisplayCount,resultsCount,rowID)
{if(xmlhttp.readyState==4){if(isBatch==true){offset=(batchId*limit)+1;}else{offset=1;}
var abstracts;abstracts=xmlhttp.responseText.substr(0,xmlhttp.responseText.indexOf(']')+1);var spanIndex=-1;var abstractArray=eval(abstracts);if(rowID!=null){for(var i=offset;i<(offset+abstractArray.length);i++){if(document.getElementById('previewabstractrow'+i)!=null&&document.getElementById('previewAbstract'+i)!=null&&document.getElementById('thirdParty'+i)!=null){document.getElementById('previewAbstract'+i).innerHTML=abstractArray[i-(offset)];}}
var $previewAbstractLinkText=jQuery('#previewAbstractLinkText'+rowID);if(document.getElementById('previewAbstractLinkText'+rowID)!=null){$previewAbstractLinkText.html('<a href="#" class="closepreview" onclick="return toggleShowAbstract(false,'+limit+',\''+sort+'\',false,\''+originationType+'\',\''+resultsCount+'\', '+rowID+', null)" ><span class="btnText">'+hideAbstract+'</span> <span class="ico-navigate-up" aria-hidden="true"></span></a>');}
AllAbstract.showAbstract(rowID);document.getElementById('previewAbstract'+rowID).innerHTML=abstractArray[rowID-(offset)];}
else{for(var i=offset;i<(offset+abstractArray.length);i++){var $previewAbstractLinkText=jQuery('#previewAbstractLinkText'+i);if($previewAbstractLinkText.length>0){$previewAbstractLinkText.html('<a href="#" class="closepreview" onclick = "return toggleShowAbstract(false,'+limit+',\''+sort+'\',true,\''+originationType+'\',\''+resultsCount+'\', '+i+', null)" ><span class="btnText">'+hideAbstract+'</span> <span class="ico-navigate-up" aria-hidden="true"></span></a>');}
if(document.getElementById('previewabstractrow'+i)!=null&&document.getElementById('previewAbstract'+i)!=null&&document.getElementById('thirdParty'+i)!=null){AllAbstract.showAbstract(i);var abstractContent=abstractArray[i-(offset)];spanIndex=abstractContent.indexOf('<span>');if(spanIndex==-1){abstractContent=["<span>"+abstractContent+"</span>"];abstractContent=abstractContent.join('');}
document.getElementById('previewAbstract'+i).innerHTML=abstractContent;}}}
gWorking=false;allAbstractsRetrieved=true;}}
function GetXmlHttpObject()
{if(window.XMLHttpRequest){return new XMLHttpRequest();}
if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}
return null;}
function computeCount(limit,sort,originationType,resultsCount,EID,rowID){if(document.SearchResultsForm!=null){resultsPerPage=document.SearchResultsForm.resultsPerPage.value;offset=document.SearchResultsForm.offset.value;clusterRowDisplayCount=document.SearchResultsForm.cc.value;}
if(limit>=resultsPerPage){count=resultsPerPage;if(EID!=null){showAllAbstractsBatch(searchString,resultsPerPage,offset-1,limit,count,sort,false,'0',originationType,clusterRowDisplayCount,resultsCount,EID,rowID);}
else{showAllAbstractsBatch(searchString,resultsPerPage,offset-1,limit,count,sort,false,'0',originationType,clusterRowDisplayCount,resultsCount,null,null);}}else{batchsize=Math.floor(resultsPerPage/limit);batchexceeds=resultsPerPage%limit;for(var i=0;i<batchsize;i++){count=limit;if(i==batchsize&&batchexceeds!=0){count=batchexceeds;}
var offsetnew;if(i==0){offsetnew=offset-1;}else{offsetnew=offsetnew+count;}
if(EID!=null){showAllAbstractsBatch(searchString,resultsPerPage,offsetnew,limit,count,sort,true,i,originationType,clusterRowDisplayCount,resultsCount,EID,rowID);}
else{showAllAbstractsBatch(searchString,resultsPerPage,offsetnew,limit,count,sort,true,i,originationType,clusterRowDisplayCount,resultsCount,null,null);}}}}
function logRecordPageKeyEvent(EID,rowId){var param="?eid="+EID+"&recordIndex="+rowId;var isAbstractAlreadyRetrievedParam="&allAbstractsRetrieved="+allAbstractsRetrieved;var absPreviewUrl=absPreviewBaseUrl+param+isAbstractAlreadyRetrievedParam;var xmlhttp=GetXmlHttpObject();xmlhttp.open("GET",absPreviewUrl,true);xmlhttp.send(null);return;}
AllAbstract.isAllAbstractDisplayed=jQuery("#isAbsExpanded").val()==="true";allAbstractsRetrieved=AllAbstract.isAllAbstractDisplayed;jQuery(document).ready(function(){AllAbstract.isAllAbstractDisplayed=jQuery("#isAbsExpanded").val();allAbstractsRetrieved=jQuery("#isAbsExpanded").val()==="true";});var isIE7=jQuery.browser.msie&&+jQuery.browser.version===7;netscape="";ver=navigator.appVersion;len=ver.length;for(var iln=0;iln<len;iln++){if(ver.charAt(iln)=="("){break;}}
netscape=(ver.charAt(iln+1).toUpperCase()!="C");function checkKeyStroke(DnEvents){key=(netscape)?DnEvents.which:window.event.keyCode;if(key==13){with(document.SearchResultsForm)
{if(news.value!=''){document.SearchResultsForm.searchWithinResultsDefault.value="t";document.SearchResultsForm.searchWithinResults.focus();document.forms[SearchResultsForm].submit();}}}}
function setSelectedLink(linkname){if(linkname==='PreviousPageButton'||linkname==='NextPageButton'||linkname==='NextNextPageButton'||linkname==='PreviousPreviousPageButton'){g_ddmPagination=true;}
jQuery("form[name='SearchResultsForm'] input[name='clickedLink']").val(linkname);jQuery("form[name='SearchResultsForm']").attr('target','_self');if(linkname=="RemoveAuthorDocumentsButton"){jQuery("form[name='SearchResultsForm']").attr('target','_blank');}
jQuery("form[name='SearchResultsForm']").submit();jQuery("form[name='SearchResultsForm'] input[name='clickedLink']").val('');}
function ValidateClusters(clusteringAction){if(document.SearchResultsForm.news.value!=''){document.SearchResultsForm.news.value='';}
document.SearchResultsForm.clickedLink.value='';var cluster=document.SearchResultsForm.selectedSourceClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedAuthorClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedCountryClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedYearClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedDocTypeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedSubjectClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedKeywordClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedLanguageClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedAffiliationClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedSourceTypeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedScirusClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedContentSourceClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedPatentOfficeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedInformationTypeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedStatusTypeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedAuthorCiteClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=jQuery("#cluster_openaccess input[type='checkbox']").get();if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
return false;}
function clearPreviousCheckMarks()
{var isOneResultOnPageSelected="false";var array=document.getElementsByName("selectedEIDs");for(var i=0;i<array.length;i++)
{if(array[i].checked)
{isOneResultOnPageSelected="true";break;}}
if(isOneResultOnPageSelected=="true"&&isAnyResultMarked=="true"){jOk=confirm(messages.results_info_scope_reduction_searchjs());return jOk;}
return true;}
function selectDeselectAll(form,curElem){onoff=curElem.checked;selectDeselectResults(form,onoff);if(!onoff){if(form.scount){form.scount.value="0";}
if(form.pageselecttotal){form.pageselecttotal.value="0";}}
form.selectDeselectAllAttempt.value="clicked";}
function selectDeselectResults(form,state){for(var i=0;i<form.elements.length;i++)
{if(form.elements[i].name=="selectedEIDs"||(form.elements[i].name=="selectPageCheckBox"&&!ResultsDataHeader.isAllSelected))
{jQuery(form.elements[i]).attr("checked",state).change();}}}
function selectDeselectResult(form,checkbox)
{if(!checkbox.checked){form.selectPageCheckBox.checked=false;jQuery(checkbox).attr("checked",false);if(ResultsDataHeader.isAllSelected){jQuery("#allPageCheckBox").attr("checked",false);jQuery("#selectAllTop").attr("checked",false);ResultsDataHeader.isAllSelected=false;}
else if(ResultsDataHeader.isPageSelected){jQuery("#allPageCheckBox").attr("checked",false);jQuery("#selectPageTop").attr("checked",false);ResultsDataHeader.isPageSelected=false;}
ResultsDataHeader.setAllPageDefaultSelected();}
else{jQuery(checkbox).attr("checked",true);var page=true&&!ResultsDataHeader.isAllSelected;for(var i=0;i<form.elements.length;i++){if(form.elements[i].name=="selectedEIDs"&&!form.elements[i].checked){page=false;break;}}
if(page){jQuery("#selectPageTop").attr("checked",true);jQuery("#allPageCheckBox").attr("checked",true);ResultsDataHeader.isPageSelected=true;}}}
function selectDeselectPage(form,curElem)
{onoff=curElem.checked;if(ResultsDataHeader.isAllSelected){selectDeselectAll(form,curElem);}
selectDeselectResults(form,onoff);if(onoff==false){jQuery("#selectPageTop").attr("checked",false);}}
if(netscape){document.addEventListener("keydown",checkKeyStroke,false);document.addEventListener("keyup",checkKeyStroke,false);}
function submitRecord(id,pos,citecnt){document.SearchResultsForm.clustering.value='';document.SearchResultsForm.recordid.value=id;document.SearchResultsForm.relpos.value=pos;document.SearchResultsForm.citebycnt=citecnt;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
var ResultsDataHeader={isPageSelected:false,isAllSelected:false,pageCheckboxClass:"pageCheckbox",allCheckboxClass:"allCheckbox",pageSelectTooltip:messages.resultlist.header.selectpage.tooltip(),pageUnselectTooltip:messages.resultlist.header.unselectpage.tooltip(),allSelectTooltip:messages.resultlist.header.selectall.tooltip(),allUnselectTooltip:messages.resultlist.header.unselectall.tooltip(),selectAllText:messages.resultlist.header.checkbox.text.all(),selectPageText:messages.resultlist.header.checkbox.text.page(),pageAllDelay:'',selection:'All',currentSelection:'All',init:function(){var toolTip="";if(jQuery("#selectAllTop").attr("checked")){ResultsDataHeader.setDefaultSelected();ResultsDataHeader.isAllSelected=true;toolTip=ResultsDataHeader.allUnselectTooltip;jQuery("#selectPageTop").attr("checked",false);jQuery("#allPageCheckBox").attr("checked","checked");jQuery("#allPageSelectedValue").text(jQuery('#selectAllTop').attr('attr-sel'));jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.allUnselectTooltip);selectDeselectResults(document.SearchResultsForm,ResultsDataHeader.isAllSelected);}else if(jQuery("#selectPageTop").attr("checked")){ResultsDataHeader.setDefaultSelected();ResultsDataHeader.isPageSelected=true;toolTip=ResultsDataHeader.pageUnselectTooltip;jQuery("#selectAllTop").attr("checked",false);jQuery("#selectPageTop").attr("checked",true);jQuery("#allPageCheckBox").attr("checked",true);jQuery("#allPageSelectedValue").text(jQuery('#selectPageTop').attr('attr-sel'));jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.pageUnselectTooltip);selectDeselectResults(document.SearchResultsForm,ResultsDataHeader.isPageSelected);}
if(ResultsDataHeader.isAllSelected||ResultsDataHeader.isPageSelected){jQuery("#allPageCheckBox").attr("checked",true).attr("title",toolTip);}
ResultsDataHeader.setAllPageDefaultSelected();},toggleAllPageCheckbox:function(event){var targetElement=event.target;var isTargetChecked=jQuery(targetElement).attr("checked");if(!ResultsDataHeader.isAllSelected&&!ResultsDataHeader.isPageSelected&&isTargetChecked){ResultsDataHeader.setAllPageSelectedItems(event);ResultsDataHeader.setAllPageDefaultSelected();}
else if(ResultsDataHeader.isAllSelected){selectDeselectAll(document.SearchResultsForm,event.target);jQuery("#selectAllTop").attr("checked",false).change();ResultsDataHeader.isAllSelected=false;jQuery("#selectPageTop").attr("checked",false);jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.allSelectTooltip);}
else if(ResultsDataHeader.isPageSelected){selectDeselectPage(document.SearchResultsForm,targetElement);jQuery("#selectPageTop").attr("checked",false);ResultsDataHeader.isPageSelected=false;jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.allSelectTooltip);}},triggerPageCheckBoxClick:function(event){ResultsDataHeader.isPageSelected=event.target.checked;jQuery("#selectPageTop").click("checked",true);selectDeselectPage(document.SearchResultsForm,event.target);},triggerAllCheckBoxClick:function(event){ResultsDataHeader.isAllSelected=event.target.checked;jQuery("#selectAllTop").click("checked",true);selectDeselectAll(document.SearchResultsForm,event.target);},togglePageCheckbox:function(event){jQuery(event.target).attr("checked",true);ResultsDataHeader.isPageSelected=true;jQuery("#allPageCheckBox").attr({"checked":true,"title":ResultsDataHeader.pageUnselectTooltip});selectDeselectPage(document.SearchResultsForm,event.target);if(ResultsDataHeader.isAllSelected&&ResultsDataHeader.isPageSelected){jQuery("#selectAllTop").attr("checked",false).change();ResultsDataHeader.isAllSelected=!ResultsDataHeader.isAllSelected;}},toggleAllCheckbox:function(event){jQuery(event.target).attr("checked",true);ResultsDataHeader.isAllSelected=true;jQuery("#allPageCheckBox").attr({"checked":"checked","title":ResultsDataHeader.allUnselectTooltip});jQuery("#selectPageTop").attr("checked",false);selectDeselectAll(document.SearchResultsForm,event.target);if(ResultsDataHeader.isPageSelected){jQuery("#selectPageTop").attr("checked",false);ResultsDataHeader.isPageSelected=false;}},onFormSubmit:function(event){if(!jQuery("#allPageCheckBox").attr("checked")){jQuery("#selectPageTop").attr("checked",false);jQuery("#selectAllTop").attr("checked",false);}},selectedCheckboxValue:function(e){if(!jQuery("#allPageCheckBox").attr("checked")){jQuery('#selectAllTop, #selectPageTop').closest('li').removeClass('selectedChkBoxTxt');ResultsDataHeader.setAllPageDefaultSelected();}
else if(jQuery("#selectPageTop").attr("checked")){ResultsDataHeader.setDefaultSelected();jQuery('#selectPageTop').closest('li').addClass('selectedChkBoxTxt');jQuery('#selectAllTop').closest('li').removeClass('selectedChkBoxTxt');ResultsDataHeader.selectBubbleHide(e,'selectPageTop');ResultsDataHeader.selection='Page';}
else if(jQuery("#selectAllTop").attr("checked")){ResultsDataHeader.setDefaultSelected();jQuery('#selectAllTop').closest('li').addClass('selectedChkBoxTxt');jQuery('#selectPageTop').closest('li').removeClass('selectedChkBoxTxt');ResultsDataHeader.selectBubbleHide(e,'selectAllTop');ResultsDataHeader.selection='All';}},selectBubbleHide:function(e,chkBoxID){ResultsDataHeader.pageAllDelay=setTimeout(function(){Bubble.forceHideAll(e);jQuery("#allPageSelectedValue").text(jQuery('#'+chkBoxID).attr('attr-sel'));},3000);},setPageAllTxt:function(event){if(jQuery("#selectPageTop").attr("checked")){jQuery("#allPageSelectedValue").text(jQuery('#selectPageTop').attr('attr-sel'));}
else if(jQuery("#selectAllTop").attr("checked")){jQuery("#allPageSelectedValue").text(jQuery('#selectAllTop').attr('attr-sel'));}},setDefaultSelected:function(){jQuery('#selectAllTopDefault, #selectPageTopDefault').addClass('displayNone').removeClass('setTxtbold');jQuery('#selectAllTopCnt, #selectPageTopCnt').removeClass('displayNone');},setAllPageDefaultSelected:function(){if(jQuery('#allPageSelectedValue').text()==ResultsDataHeader.selectAllText){jQuery('#selectAllTopDefault').removeClass('displayNone').addClass('setTxtbold');jQuery('#selectPageTopDefault').addClass('displayNone').removeClass('setTxtbold');jQuery('#selectAllTopCnt').addClass('displayNone');jQuery('#selectPageTopCnt').removeClass('displayNone');}
else if(jQuery('#allPageSelectedValue').text()==ResultsDataHeader.selectPageText){jQuery('#selectPageTopDefault').removeClass('displayNone').addClass('setTxtbold');jQuery('#selectAllTopDefault').addClass('displayNone').removeClass('setTxtbold');jQuery('#selectPageTopCnt').addClass('displayNone');jQuery('#selectAllTopCnt').removeClass('displayNone');}},setAllPageSelectedItems:function(event){if(jQuery('#allPageSelectedValue').text()==ResultsDataHeader.selectAllText){ResultsDataHeader.triggerAllCheckBoxClick(event);jQuery("#selectAllTop").attr("checked",true);jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.allUnselectTooltip);}
else if(jQuery('#allPageSelectedValue').text()==ResultsDataHeader.selectPageText){ResultsDataHeader.triggerPageCheckBoxClick(event);jQuery("#selectPageTop").attr("checked",true);jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.pageUnselectTooltip);}},storeAllPageSelection:function(){if(ResultsDataHeader.currentSelection!=ResultsDataHeader.selection){ResultsDataHeader.currentSelection=ResultsDataHeader.selection;var pageName=jQuery("#allPageBubble").attr('attr-currentPage');jQuery.ajax({type:"POST",url:'/selection.uri',data:{selectionText:ResultsDataHeader.selection,page:pageName},success:function(data){}});}}};function documentSortInit(isPreview){var docSortSelect=jQuery("#navLoad");var src=jQuery("input:hidden[name='src']").val();if(src==='p'){docSortSelect.append('<option value="plf-f">'+messages.DOCSORT_FIELD_DATENEWEST()+'</option>').append('<option value="r-f">'+messages.DOCSORT_FIELD_RELEVANCY()+'</option>');}else{docSortSelect.append('<option value="plf-f">'+messages.DOCSORT_FIELD_DATENEWEST()+'</option>').append('<option value="plf-t">'+messages.DOCSORT_FIELD_DATEOLD()+'</option>').append('<option value="cp-f">'+messages.DOCSORT_FIELD_CITEDBY_HIGHEST()+'</option>').append('<option value="cp-t">'+messages.DOCSORT_FIELD_CITEDBY_LOWEST()+'</option>');var hiddenSotVal=document.SearchResultsForm.sot.value;var isPrimaryResults=hiddenSotVal.indexOf('cite')>-1?false:true;if(isPrimaryResults){docSortSelect.append('<option value="r-f">'+messages.DOCSORT_FIELD_RELEVANCY()+'</option>')}
docSortSelect.append('<option value="lfp-t">'+messages.DOCSORT_FIELD_AUTHASC()+'</option>').append('<option value="lfp-f">'+messages.DOCSORT_FIELD_AUTHDES()+'</option>').append('<option value="tp-t">'+messages.DOCSORT_FIELD_SOURCETITLE()+'</option>').append('<option value="tp-f">'+messages.DOCSORT_FIELD_SOURCETITLE_DES()+'</option>');}
var selectedNav=jQuery("input:hidden[name='sort']").val();if(typeof selectedNav!='undefined'&&selectedNav.length>5){var intmselectedNav=selectedNav.split("-");intmselectedNav[0]=intmselectedNav[0].substring(0,3);SortData.selectedNav=intmselectedNav.join('-');}
else{SortData.selectedNav=selectedNav;}
SortData.secNavReplPosc=2;docSortSelect.val(selectedNav);jQuery('select#navLoad').selectmenu({change:function(event,ui){sortFieldSub(jQuery(event.target).val(),'sortField',document.SearchResultsForm);}});}
jQuery("#moreLink").click(function(e){var $dataElement=jQuery("#moreOptions");if(jQuery(this).parent('span').hasClass('lnkDisabled')){$dataElement.css("display","none");}
else{if($dataElement.size()>0){if($dataElement.css("display")=='none'){$dataElement.show();if($dataElement.width()>150){$dataElement.css("left",this.offsetLeft-10+"px");}
else{$dataElement.css("left",this.offsetLeft+19+"px");}
var topAdjuster=30;if(isIE7){topAdjuster=30;}
$dataElement.css("top",this.offsetTop+topAdjuster+"px");}else{$dataElement.hide();}}}
e.preventDefault();});jQuery('body').bind('click',function(e){if(!jQuery(e.target).closest('#moreLink')[0]){jQuery('#moreOptions').hide();}
if(!jQuery(e.target).closest('#exportTrigger')[0]){Bubble.hideAll(e);}
if(!jQuery(e.target).closest('#bubble-showAllPageBubble')[0]){clearTimeout(ResultsDataHeader.pageAllDelay);ResultsDataHeader.setPageAllTxt();}});function resultsSaveToList(event){if(jQuery(".docHeaderLinks.lnkDisabled").length>0){return;}
event.preventDefault();MessageContainer.removeMsgContatiner();var saveListURL=[];saveListURL.push('/results/handle.uri?view=&command=list&src=s&eid=');saveListURL.push('&type=AJAX');var frm=jQuery("#searchResFormId");var serData=frm.serialize();serData=serData.replace('&origin=resultslist','&origin=savedlist');jQuery.ajax({url:saveListURL.join(''),data:serData,dataType:"html",cache:false,type:"POST",success:function(data){if(data!==null&&data!==''){jQuery('#saveListResults-data').html(data);event["data"]={position:Bubble.positionLeft,setDataBack:false};Bubble.showBubble(event);jQuery("#saveTolistSubmit").on('click',listSetUpSave);jQuery('#listPopupClose').on('click',closeListPopUp);setWaterMarkList();ddlOnloadforSelectmenu();}},error:function(){if(typeof console!=="undefined"){console.log('error in getting the save list pop up');}}});}
jQuery("#selectAllTop").on("click",function(e){ResultsDataHeader.toggleAllCheckbox(e);enableLnk();ResultsDataHeader.selectedCheckboxValue(e);ResultsDataHeader.storeAllPageSelection()});jQuery("#selectPageTop").live("click",function(e){ResultsDataHeader.togglePageCheckbox(e);enableLnk();ResultsDataHeader.selectedCheckboxValue(e);ResultsDataHeader.storeAllPageSelection()});jQuery('#resultsPageOptions').on("click","#allPageCheckBox",function(e){ResultsDataHeader.toggleAllPageCheckbox(e);enableLnk();ResultsDataHeader.selectedCheckboxValue(e);});jQuery('#srchResultsList input:checkbox').on('click',enableLnk);jQuery(document.SearchResultsForm).on("submit",ResultsDataHeader.onFormSubmit);jQuery(function(){ResultsDataHeader.init();enableDisableLmtExcBtn.init();enableDisableLmtExcBtn.noItemsSelected();jQuery(".pagination a[data-value='"+jQuery("input[name='currentPage']").val()+"']").addClass("selectedPage");if(jQuery("#searchResFormId").length&&jQuery.trim(jQuery('#alertArea').html()).length){jQuery("#resultsPageAlertArea").html(jQuery('#alertArea').html());jQuery('#alertArea').hide();}});var fastAffilCallDone=new Array();fastAffilCallDone['AFFIL']=new Array('false');var clusterAtrributesBaseUrl="/standard/retrieveClusterAttributes.uri";var resultList;var sciverse;var RU_RESULT_MEASURE_SINGULAR="\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442";var RU_RESULT_MEASURE_MID="\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430";var RU_RESULT_MEASURE_HIGH="\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432";var RU_RESULT_MEASURE_ALTERNATE1="\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435";var RU_RESULT_MEASURE_ALTERNATE2="\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b";var documentResultsList={};function showClusterStateInSession(clusterState){if(clusterState!=null&&clusterState.length>0){var clusterStateString=clusterState.substring(1,clusterState.length-1);clusterStateString=clusterStateString.replace(/^\s\s*/,'').replace(/\s\s*$/,'');var clusterStateArray=clusterStateString.split(",");for(var i=0;i<clusterStateArray.length;i++){if(clusterStateArray[i].replace()!=''){var clusterNameState=clusterStateArray[i].split("=");var countState=clusterNameState[1].split("-");var clusterType=clusterNameState[0].replace(/^\s\s*/,'').replace(/\s\s*$/,'');if(countState[1]=="open"){if(clusterType=='AFFIL'&&fastAffilCallDone[clusterType][0]=='false'){retrieveClusterAttributesFromFAST(countState[0],numClusterCat,searchType,clusterType,'selectedAffiliationClusterCategories');}
jQuery("#body_"+clusterType).collapse('show');if(document.getElementById("collapse_"+clusterType+"_link")!=null){jQuery("#collapse_"+clusterType+"_link").attr("onclick","collapseSection('"+clusterType+"','collapse')");jQuery("#collapse_"+clusterType+"_link").attr("aria-expanded","true");}}
if(countState[1]=="collapse"){jQuery("#body_"+clusterType).collapse('hide');if(document.getElementById("collapse_"+clusterType+"_link")!=null){jQuery("#collapse_"+clusterType+"_link").attr("onclick","expandSection('"+clusterType+"','open')");jQuery("#collapse_"+clusterType+"_link").attr("aria-expanded","false");}}
if(clusterType!='AFFIL'&&countState[0]=="10"){displayCluster(clusterType);}}}}}
function displayCluster(clusterType){if(document.getElementById("hidden_"+clusterType)!=null){jQuery("#hidden_"+clusterType).removeClass('hidden');}
var viewLessCountObj=document.getElementById("viewLessCount_"+clusterType);jQuery("#viewMoreLink_"+clusterType).addClass('hidden');jQuery("#viewAllLink_"+clusterType).removeClass('hidden');document.getElementById("viewMoreCount_"+clusterType).innerHTML=10;viewLessCountObj.innerHTML=5;var viewFewerLinkObj=document.getElementById("viewFewerLink_"+clusterType);if(viewFewerLinkObj!=null&&viewLessCountObj.innerHTML>0){jQuery("#viewFewerLink_"+clusterType).removeClass('hidden');}
var viewFewerLinkObj=document.getElementById("viewFewerLink_"+clusterType);if(viewLessCountObj.innerHTML>0&&viewFewerLinkObj!=null){jQuery("#viewFewerLink_"+clusterType).removeClass('hidden');}}
function buildDocumentURL(nextClusterCount,originationType,clusterType,clusterCategory){var citeAuthorId="";if(document.SearchResultsForm.citedAuthorId!=null){citeAuthorId=document.SearchResultsForm.citedAuthorId.value;}
var citedById="";if(document.SearchResultsForm.cite!=null){citedById=document.SearchResultsForm.cite.value;}
var citedByRefId="";if(document.SearchResultsForm.refeid!=null){citedByRefId=document.SearchResultsForm.refeid.value;}
var query="";if(document.SearchResultsForm.s!=null){query=document.SearchResultsForm.s.value;}else if(searchString!==""){if(citeAuthorId===""&&citedById===""&&citedByRefId===""){query=searchString;query=query.replace(/&#034;/g,"\"").replace(/&#039;/g,"'").replace(/&amp;amp;/g,"&").replace(/&amp;gt;/g,">").replace(/&amp;lt;/g,"<");}}
if(query!=""){query=encodeURIComponent(query);query=query.replace(new RegExp("%C2%A0","g"),"");}
var refVal="";if(document.SearchResultsForm.ref!=null){refVal=document.SearchResultsForm.ref.value;}
var st1="";if(document.SearchResultsForm.st1!=null){st1=document.SearchResultsForm.st1.value;}
var st2="";if(document.SearchResultsForm.st2!=null){st2=document.SearchResultsForm.st2.value;}
var sot=document.SearchResultsForm.sot.value;var sid=document.SearchResultsForm.sid.value;var sdt="";if(document.SearchResultsForm.sdt!=null){sdt=document.SearchResultsForm.sdt.value;}
var sort="";if(document.SearchResultsForm.sort!=null){sort=document.SearchResultsForm.sort.value;}
var citeId="";if(document.SearchResultsForm.citingId!=null){citeId=document.SearchResultsForm.citingId.value;}
var listId="";if(document.SearchResultsForm.listId!=null){listId=document.SearchResultsForm.listId.value;}
var origin="resultslist";var source=document.SearchResultsForm.src.value;var affilName="";var affilCity="";var affilCntry="";var affilId="";if(document.SearchResultsForm.affilName!=null){affilName=document.SearchResultsForm.affilName.value;}
if(document.SearchResultsForm.affilCity!=null){affilCity=document.SearchResultsForm.affilCity.value;}
if(document.SearchResultsForm.affilCntry!=null){affilCntry=document.SearchResultsForm.affilCntry.value;}
if(document.SearchResultsForm.affiliationId!=null){affilId=document.SearchResultsForm.affiliationId.value;}
var cluster="";if(document.SearchResultsForm.cluster!=null){var clusterAtt=document.SearchResultsForm.cluster.value;cluster=escape(clusterAtt);cluster=cluster.replace(/\+/g,'%2B');}
var offset=jQuery("#searchResFormId input:hidden[name='offset']").val();var scla="";var sclaIndex="";if(document.SearchResultsForm.scla!=null){sclaIndex=document.SearchResultsForm.scla.selectedIndex;if(sclaIndex!=""&&sclaIndex>0){scla=document.SearchResultsForm.scla.options[sclaIndex].value;}}
var sclc="";var sclcIndex="";if(document.SearchResultsForm.sclc!=null){sclcIndex=document.SearchResultsForm.sclc.selectedIndex;if(sclcIndex!=""&&sclcIndex>0){sclc=document.SearchResultsForm.sclc.options[sclcIndex].value;}}
var scls="";var sclsIndex="";if(document.SearchResultsForm.scls!=null){sclsIndex=document.SearchResultsForm.scls.selectedIndex;if(sclsIndex!=""&&sclsIndex>0){scls=document.SearchResultsForm.scls.options[sclsIndex].value;}}
var sclk="";var sclkIndex="";if(document.SearchResultsForm.sclk!=null){sclkIndex=document.SearchResultsForm.sclk.selectedIndex;if(sclkIndex!=""&&sclkIndex>0){sclk=document.SearchResultsForm.sclk.options[sclkIndex].value;}}
var scll="";var scllIndex="";if(document.SearchResultsForm.scll!=null){scllIndex=document.SearchResultsForm.scll.selectedIndex;if(scllIndex!=null&&scllIndex>0){scll=document.SearchResultsForm.scll.options[scllIndex].value;}}
var sclsb="";var sclsbIndex="";if(document.SearchResultsForm.sclsb!=null){sclsbIndex=document.SearchResultsForm.sclsb.selectedIndex;if(sclsbIndex!=""&&sclsbIndex>0){sclsb=document.SearchResultsForm.sclsb.options[sclsbIndex].value;}}
var displayCount="clusterDisplayCount="+nextClusterCount;var originType="&sot="+originationType;var dimensionName="&navigatorName="+clusterType;var selectedCategory="&clusterCategory="+clusterCategory;var searchQuery="&s="+query;var srchTerm1="&st1="+st1;var srchTerm2="&st2="+st2;var sotParam="";var sidParam="&sid="+sid;var sdtParam="&sdt="+sdt;var sortType="&sort="+sort;var originParam="&origin="+origin;var sourceParam="&src="+source;var affCity="&affilCity="+affilCity;var affName="&affilName="+affilName;var affCntry="&affilCntry="+affilCntry;var affId="&affiliationId="+affilId;var clusterData="&cluster="+cluster;var offsetParam="&offset="+offset;var sclaParam="&scla="+scla;var sclsParam="&scls="+scls;var sclkParam="&sclk="+sclk;var scllParam="&scll="+scll;var sclsbParam="&sclsb="+sclsb;var sclcParam="&sclc="+sclc;var citeIdParam="&citingId="+citeId;var citeAuthIdParam="&citedAuthorId="+citeAuthorId;var listIdParam="&listId="+listId;var citedId="&cite="+citedById;var citedRefId="&refeid="+citedByRefId;var refQueryVal="&ref="+refVal;var isRebrandLayout="&isRebrandLayout="+true;var documentURL=displayCount+originType+dimensionName+selectedCategory+citedId+citedRefId+searchQuery+srchTerm1+srchTerm2+sotParam
+sidParam+sdtParam+sortType+citeIdParam+citeAuthIdParam+listIdParam+originParam+sourceParam+affCity+affName+affCntry+affId
+clusterData+offsetParam+sclaParam+sclsParam+sclkParam+scllParam+sclsbParam+sclcParam+refQueryVal+isRebrandLayout;return documentURL;}
function retrieveClusterAttributesFromFAST(countState,nextClusterCount,originationType,clusterType,clusterCategory){var docURL=buildDocumentURL(nextClusterCount,originationType,clusterType,clusterCategory);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){putClusterAttributeInArray(countState,xmlhttp,clusterType);};xmlhttp.open("POST",clusterAtrributesBaseUrl,true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",docURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(docURL);}
function putClusterAttributeInArray(countState,xmlhttp,clusterType){if(xmlhttp.readyState==4){var clusterVal=xmlhttp.responseText;if(clusterVal!=null&&clusterVal!=''&&clusterVal.search("refineResults")){clusterAttributeAffilArray=clusterVal;jQuery('#clusterAttribute_'+clusterType).html(clusterAttributeAffilArray);fastAffilCallDone[clusterType][0]='true';if(countState==10){displayCluster(clusterType);}
if(clusterType=='AFFIL'){jQuery.unblockUI();}}else{window.location.reload();}}}
function GetXmlHttpObject(){if(window.XMLHttpRequest){return new XMLHttpRequest();}
if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}
return null;}
function loadAffilCluster(clusterType){if(fastAffilCallDone[clusterType][0]=='false'){retrieveClusterAttributesFromFAST(0,numClusterCat,searchType,clusterType,'selectedAffiliationClusterCategories');}}
function showPatTab(tabData){var patCount=0;var fedlink='';var fedDisplayText='';var fedTag='';patCount=parseInt(tabData.PatentCount);fedlink=tabData.FedLink;fedDisplayText=tabData.FedDisplayText;var $externalLink=jQuery("#external_results");if(patCount<=0&&fedlink.length<=0){$externalLink.hide();$externalLink.prev().hide();jQuery('.resultsOptionalLinks span.analyzeSep').hide();}else{jQuery("#hubLinksContainer").removeClass("hidden");$externalLink.show();$externalLink.prev().show();}
if(!isNaN(patCount)&&(patCount>0)){if(patCount<2){jQuery('#patentLink').prop('title',messages.resultlist.querybar.link.patent.single.alt());jQuery('#patentLink').html("<span class='anchorText'>"+messages.resultlist.querybar.link.patent.single(patCount)+"</span>");}else{jQuery('#patentLink').prop('title',messages.resultlist.querybar.link.patent.alt());var title=messages.resultlist.querybar.link.patent(patCount);var formattedTitle=replaceRussianMeasureWord(patCount,title);jQuery('#patentLink').html("<span class='anchorText'>"+formattedTitle+"</span>");}
jQuery('#hubLinksContainer').show();}
if(fedlink.length>0){var federAlt=feder.JS_FEDER_FEDERATED_OUTWARD_LINK_TOOLTIP();fedTag=["<a  href='"];fedTag.push(fedlink);fedTag.push("'  target='_blank' onClick='return openSizedWindow(");fedTag.push('"',fedlink,'",','"_blank")',"' ");fedTag.push("title=","'",fedDisplayText,federAlt,"'",">","<span class='anchorText'>",fedDisplayText,"</span>","</a>");jQuery('#feder').html(fedTag.join(''));}}
function replaceRussianMeasureWord(count,sentence){if(document.documentElement.lang==='ru_RU'){var wordToReplace=null;if(sentence.indexOf(RU_RESULT_MEASURE_HIGH)!==-1){wordToReplace=RU_RESULT_MEASURE_HIGH;}else if(sentence.indexOf(RU_RESULT_MEASURE_MID)!==-1){wordToReplace=RU_RESULT_MEASURE_MID;}else if(sentence.indexOf(RU_RESULT_MEASURE_ALTERNATE1)!==-1){wordToReplace=RU_RESULT_MEASURE_ALTERNATE1;}else if(sentence.indexOf(RU_RESULT_MEASURE_ALTERNATE2)!==-1){wordToReplace=RU_RESULT_MEASURE_ALTERNATE2;}else{wordToReplace=RU_RESULT_MEASURE_SINGULAR;}
if(wordToReplace!==null){var lastCountDigit=+(count.toString().slice(-1));if(lastCountDigit===0||lastCountDigit>=5){return sentence.replace(wordToReplace,RU_RESULT_MEASURE_HIGH);}else if(lastCountDigit>=2&&lastCountDigit<=4){return sentence.replace(wordToReplace,RU_RESULT_MEASURE_MID);}else{return sentence.replace(wordToReplace,RU_RESULT_MEASURE_SINGULAR);}}}
return sentence;}
function hidePatTab(){jQuery('#hubLinksContainer').hide();}
function updatePatTab(){jQuery.ajax({type:"GET",url:"/results/patCount.uri",dataType:'json',success:function(response){if(response===null||typeof(response)==='undefined')
return;showPatTab(response);},error:function(){OnErrorCall();hidePatTab();}});function OnErrorCall(){if(typeof console!="undefined"){console.log("There is a problem while making AJAX call to Display Hub Counts and Federated Outward Search Links on the Scopus results Page");}}}
function updateDataSearchTab(){jQuery.ajax({type:"GET",url:"/results/dataSearchCount.uri",dataType:'json',success:function(response){if(response===null||typeof(response)==='undefined')
return;showDSTab(response);},error:function(){OnErrorCall();hideDSTab();}});function OnErrorCall(){if(typeof console!="undefined"){console.log("There is a problem while making AJAX call to Display DataSearch count on the Scopus results Page");}}}
function showDSTab(tabResults){var dataSearchCount=0;var dataSearchURL="";dataSearchCount=parseInt(tabResults.DSCount);dataSearchURL=tabResults.DSUrl;var title="View "+dataSearchCount+" DataSearch";jQuery("#dataSearchLinksContainer").removeClass("hidden");jQuery('#datasearch_results').attr("href",dataSearchURL);jQuery('#datasearch_results').html("<span class='anchorText'>"+title+"</span>");jQuery('#dataSearchLinksContainer').show();}
function hideDSTab(){jQuery('#dataSearchLinksContainer').hide();}
function OhubLinkGeneration(){var linkToReplace={};var pattern=/_OHUB/i;$("a[class=outwardTextLink][id*=_OHUB]").each(function(index,obj){linkToReplace[obj.id.replace(pattern,"")]=obj.href;});jQuery.ajax({url:"/results/ohubajax.uri",data:linkToReplace,dataType:'json',type:"POST",error:OnErrorCallOHUB,success:function(data){if(data===null||typeof(data)==='undefined')
return;var dataCount=0;for(var key in data){var val=data[key];var anchorid=key+"_OHUB";if(val===null||typeof(val)==='undefined'||val===""){var spanidParenLi=document.getElementById(anchorid+"_Div").parentElement;jQuery(spanidParenLi).addClass("hidden");}else{var el=document.getElementById(anchorid);if(el===null||typeof(el)==='undefined')
return;else{el.style.display='inline';el.href=val;var ocl=el.onclick;if(ocl!==null){ocl=ocl.toString().replace("AjaxOHUB"+key+"AjaxOHUB",val);}
el.onclick=ocl;}}
dataCount++;}
ResultData.setDefaultLinkVisible();}});function OnErrorCallOHUB(){if(typeof console!="undefined"){console.log("There is a problem while making AJAX call to Display OHUB related Outward Links on the Scopus results Page");}}}
var ResultData={setDefaultLinkVisible:function(){jQuery('div.linkRow').each(function(){var linkCount=jQuery(this).find('a.outwardTextLink').length;linkCount=+jQuery(this).find('a.outwardLink').length;var totalLink=jQuery(this).find('a').length;if(totalLink==linkCount||totalLink==1){jQuery(this).find('span.divider').last().addClass("displayNone");}
if(linkCount>1){linkCount--;jQuery(this).find('span.divider').slice(0,linkCount).addClass("visibleLink");}});}};function displayNavigatorsRestoreLinks(){if(currentClusterOrder!=defaultClusterOrder){jQuery("ul.restoreDiv").removeClass('hidden');if(profileClusterOrder==""&&isShowSaveSettings=="true"){jQuery("#saveSettingsDivider").css('display','inline-block');jQuery("#saveNavigatorSettings").css('display','inline-block');}else{jQuery("#saveSettingsDivider").css('display','none');jQuery("#saveNavigatorSettings").css('display','none');}}}
function tempMyListPopup(bubbleTargetId,showDefault){var objId=bubbleTargetId;var regButtonTargetId=bubbleTargetId+'Regclk';var loginButtonTargetId=bubbleTargetId+'Logclk';var divObj=jQuery("<div>",{id:objId+'-data',"class":"bubble-source-data"});var listDivObj=jQuery("<div>",{"class":"myListPopup"});var listCloseDivObj=jQuery("<div>",{"class":"myListClose"});listDivObj.append(listCloseDivObj);var clsAncObj=jQuery("<a>",{"href":"#","alt":"","title":feder.JS_FEDER_MYLIST_TEMP_POPUP_CLOSE(),"class":"clsListBubble","onClick":"closeSaveBubble(event)"});listCloseDivObj.append(clsAncObj);var listInnerDivObj=jQuery("<div>",{"class":"myListMsg","html":feder.JS_FEDER_MYLIST_TEMP_POPUP_MSG()});listDivObj.append(listInnerDivObj);var buttonDivObj=jQuery("<div>",{"class":"emailButtons"});var loginRegFunc=isIDPlusEnabled?"IDPlus.promptRegistration(event)":"regListBubble(event);myListLoginKE()";var buttonRegObj=jQuery("<input>",{"type":"button","value":feder.JS_FEDER_MYLIST_TEMP_POPUP_REGISTER(),"title":feder.JS_FEDER_MYLIST_TEMP_POPUP_REGISTER_TOOLTIP(),"class":"mylistReg","id":regButtonTargetId,"onClick":loginRegFunc});loginRegFunc=isIDPlusEnabled?"IDPlus.promptLogin(event)":"loginListBubble(event);myListLoginKE()";var buttonLogObj=jQuery("<input>",{"type":"button","value":feder.JS_FEDER_MYLIST_TEMP_POPUP_LOGIN(),"title":feder.JS_FEDER_MYLIST_TEMP_POPUP_LOGIN_TOOLTIP(),"id":loginButtonTargetId,"onClick":loginRegFunc});buttonDivObj.append(buttonRegObj).append(buttonLogObj);listDivObj.append(buttonDivObj);var listHelpDivObj=jQuery("<div>",{"class":"myListHelp"});var helpAncObj=jQuery("<a>",{"href":"#help","alt":"","title":feder.JS_FEDER_MYLIST_TEMP_POPUP_HELP_TOOLTIP(),"class":"list_help_icon","text":feder.JS_FEDER_MYLIST_TEMP_POPUP_HELP(),"onclick":"helpRedirect(event)"});listHelpDivObj.append(helpAncObj);listDivObj.append(listHelpDivObj);divObj.append(listDivObj);var bubbleTarget=jQuery("#"+bubbleTargetId).append(divObj);if(typeof showDefault==='undefined'){bubbleTarget.on('click',function(e){e["data"]={position:Bubble.positionLeft,setDataBack:true};var $element=jQuery(e.target),elementId=$element.attr("id");var isBubbleVisible=Bubble.isBubbleVisible[elementId];if(isBubbleVisible){var loginRegPopupData=jQuery("#loginRegPopup-data").html();if(loginRegPopupData!=''){Bubble["loginReg"]=loginRegPopupData;e["data"].hideCallback=saveThisListCallBack;}}
Bubble.showBubble(e);e.preventDefault();if(jQuery('#loginRegPopup').parent().hasClass('CARS_panelClass')){jQuery('#loginRegPopup').parent().removeClass('CARS_panelClass');}});}else{var data={position:Bubble.positionLeft,setDataBack:true,target:bubbleTarget};Bubble.show(data);if(jQuery('#saveRegPopup').parent().hasClass('CARS_panelClass')){jQuery('#saveRegPopup').parent().removeClass('CARS_panelClass');}}}
function saveDocsToList(event){event.preventDefault();if(jQuery("#saveRegPopup").length>0){jQuery("#saveRegPopup-data").remove();}
var targetObj=$(event.currentTarget);tempMyListPopup(targetObj.attr('id'),true);}
function helpRedirect(){var helpUrl="/standard/help.uri?topic=15074";window.open(helpUrl,"_blank");}
function triggerLoginForSavedListLink(){jQuery(loginDropDownId).dropdown('toggle');}
function triggerRegisterForSavedListLink(){window.location=$('#login_reglink').prop('href');}
function closeSaveBubble(e){Bubble.forceHideAll(e);e.preventDefault();}
function regListBubble(event){var regUrl;var targetObj=event.target.id;if(targetObj=='loginRegPopupRegclk'){regUrl=jQuery('#regSaveURL').val();}else{regUrl=jQuery('#regURL').val();}
window.open(regUrl,"_self");}
function loginListBubble(e){var loginUrl;var targetObj=e.target.id;if(targetObj=='loginRegPopupLogclk'){e["data"]={'elementId':'loginRegPopup'};Bubble.hide(e);var mylistPopupData=jQuery("#loginRegPopup-data").html();jQuery("#loginPopup-data").html(mylistPopupData);jQuery("#loginRegPopup-data").html('');e.target.id='loginRegPopup';jQuery('#loginRegPopup').parent().addClass('CARS_panelClass');setBubbleCnt.buildBubble('loginRegPopup','.resultsQueryBar',jQuery('#login_pop_container').html(),e,loginRegReset);}else{e["data"]={'elementId':'saveRegPopup'};Bubble.hide(e);var mylistPopupData=jQuery('#saveRegPopup-data').html();jQuery('#savePopup-data').html(mylistPopupData);jQuery('#saveRegPopup-data').html('');e.target.id='saveRegPopup';jQuery('#saveRegPopup').parent().addClass('CARS_panelClass');setBubbleCnt.buildBubble('saveRegPopup','#resultsPageOptions',jQuery('#login_pop_container').html(),e,saveRegReset);}}
function myListLoginKE(){jQuery("#bubbleContent-loginRegPopup #login_pop_container_logform form [name='origin']").val("mylist");jQuery("#bubbleContent-loginRegPopup #login_pop_container_logform form [name='zone']").val("header");jQuery("#bubbleContent-saveRegPopup #login_pop_container_logform form [name='origin']").val("mylist");jQuery("#bubbleContent-saveRegPopup #login_pop_container_logform form [name='zone']").val("header");}
function loginRegReset(){var mylistPopupData=jQuery("#loginPopup-data").html();jQuery("#loginPopup-data").html('');jQuery("#loginRegPopup-data").html(mylistPopupData);}
function saveRegReset(){var mylistPopupData=jQuery("#savePopup-data").html();jQuery("#savePopup-data").html('');jQuery("#saveRegPopup-data").html(mylistPopupData);}
function saveThisListCallBack(){var loginRegPopupDataObj=jQuery("#loginRegPopup-data");if(Bubble.hasOwnProperty("loginReg")){var loginRegPopupData=Bubble.loginReg;loginRegPopupDataObj.html(loginRegPopupData);}}
documentResultsList.adjustResultsColumn=function(){var lastColWidth=jQuery('#documentListUl li').last().find('div.dataCol1').width();var getLstChkVal=jQuery('#documentListUl li').last().find('div.dataCol1 .listItemCount').text().length;jQuery('#documentListUl li').find('div.dataCol1').width(lastColWidth);jQuery('#resultsPageOptions span.selectOptions > span').width(lastColWidth);if(getLstChkVal==3){jQuery('#resultsPageOptions span.selectOptions span').css({'right':'-1.5px'});jQuery('#srchResultsList div.linkRow').css({'margin-left':'6px'});}
if(getLstChkVal==4){jQuery('#resultsPageOptions span.selectOptions span').css({'right':'-3px'});jQuery('#srchResultsList div.linkRow').css({'margin-left':'12px'});}};var scivalModalOverlay={orig:"resultslist",eidList:{},exportSVClick:function(){var isSavedList=jQuery("#isSavedList").val();if(isSavedList=="true"){scivalModalOverlay.orig="savedlist";}
var sid=jQuery("#scival").attr("data-sid");var src=jQuery("#scival").attr("data-src");var param="origin="+scivalModalOverlay.orig+"&src="+src+"&sid="+sid+"&all=t";jQuery.ajax({type:"POST",url:'/results/exportscival.uri',data:param,success:function(data){scivalModalOverlay.eidList=data;jQuery("#scivalModal").modal("toggle");}});scivalModalOverlay.setOpacityModalOverlay();jQuery('.scivalModalHdrCnt').addClass("displayNone");jQuery('#firstContainer').removeClass("displayNone");jQuery('#secondContainer').addClass("displayNone");jQuery("#scivalExportMsg").addClass("displayNone");},drawScivalOverlay:function(){jQuery("#scivalModalOverlay-dialog").dialog({modal:true,width:496,height:352,zIndex:200000}).removeClass("displayNone");jQuery(".ui-dialog .ui-dialog-titlebar").hide();jQuery("#scivalModalOverlay-dialog").dialog("close").dialog("open");jQuery('body').css('overflow','hidden');scivalModalOverlay.modalOverlayPos();jQuery("#closeModal,#cancelScival").live("click",function(ev){jQuery("#scivalModalOverlay-dialog").dialog("close");jQuery('body').css({'overflow':'inherit'});ev.preventDefault();});},modalOverlayPos:function(){var winHeight=jQuery(window).height();var modalOverlayHeight=jQuery('.modalOverlayPopUp').parent().height();var totalTopVal=(winHeight-modalOverlayHeight)/2;var setTopPos=totalTopVal+10;var winWidth=jQuery(window).width();var modalOverlayWidth=jQuery('#scivalModalOverlay-dialog').width();var totalLeftVal=(winWidth-modalOverlayWidth)/2;var setLeftPos=totalLeftVal;if(jQuery("#scivalModalOverlay-dialog").parent().hasClass('ui-dialog')){jQuery("#scivalModalOverlay-dialog").parent().css({'position':'absolute','top':setTopPos,'left':setLeftPos,'z-index':'200002'});}},callScivalAction:function(){var redirectUrl='/results/exportscival.uri?'+'&activity=KER'+'&origin='+scivalModalOverlay.orig;jQuery.ajax({type:"GET",url:redirectUrl,success:function(){}});var targWinName='hubDataInNewWindow';var isEidListEmpty=scivalModalOverlay.eidList.params["docs"].length;if(isEidListEmpty){window["scivalWin_"]=window.open('',targWinName,"");jQuery("body").append('<form id="scivalForm"></form>');jQuery('#scivalForm').attr("method","post").attr("target",targWinName).append('<input type="hidden" name="docSet" id="docSet" value='+jQuery.stringify(scivalModalOverlay.eidList.params)+'>');jQuery('#scivalForm').attr('action',scivalModalOverlay.eidList.url).submit();jQuery('.scivalModalHdrCnt').removeClass("displayNone");jQuery('#firstContainer').addClass("displayNone");jQuery('#secondContainer').removeClass("displayNone");jQuery("#scivalModal").modal("toggle");}else{jQuery("#scivalModalOverlay-dialog").dialog("close");jQuery("#scivalModal").modal("toggle");jQuery('body').css('overflow','auto');jQuery("#scivalExportMsg").removeClass("displayNone");}},callScivalPopup:function(){jQuery('#scivalModalOverlay-dialog').hide();jQuery('.ui-widget-overlay').remove();var sid=jQuery("#scival").attr("data-sid");var src=jQuery("#scival").attr("data-src");var param="?all=t&sid="+sid+"&src="+src+"&origin="+scivalModalOverlay.orig;window.location='/list/form/setupStep.uri'+param;},setOpacityModalOverlay:function(){jQuery('#scivalModalOverlay-dialog').parent().prev().css({'background-color':'#000000','opacity':'0.5','z-index':'200001'});}};jQuery(document).ready(function(){displayNavigatorsRestoreLinks();showHideLastDocHeaderLnk();enableDisableFeatureRowLnkInit();showClusterStateInSession(clusterState);jQuery(window).resize(function(){if(jQuery("#scivalModalOverlay-dialog").length>0){scivalModalOverlay.modalOverlayPos();}
showHideLastDocHeaderLnk();});if(jQuery("#confirmMsgContainer,#errorMsgContainer,#warningMsgContainer,#infoMsgContainer").length){jQuery('.ariaHidden').focus();}
if(jQuery('#exportScival').length){jQuery('#exportScival').on("click",scivalModalOverlay.exportSVClick);}
tempMyListPopup('loginRegPopup');jQuery('#saveRegPopup').on('click',saveDocsToList);jQuery('#loginRegPopup').click();});documentResultsList.adjustResultsColumn();if(typeof isPreviewPage!='undefined'){documentSortInit(isPreviewPage);}
OhubLinkGeneration();var isPatLinkEnabled=jQuery(".resultsOptionalLinks").attr("data-isPatLink")==="true";if(isPatLinkEnabled){updatePatTab();updateDataSearchTab();}
var SaveSearch={initNameCharCound:31,nameValidationURL:'/savedSearch/check.uri',processLinkClickParam:'saveSearchButton',saveHistoryUrl:'/search/history/save.uri?shid=',getSavedNameUrl:"/savedSearch/getDisplayName.uri",saveAsNewAppend:"-2",initiatedDisplayName:'',isNameValidated:false,isSearchHistory:false,page:'search',historyItemId:0,validateName:'',duplicateNameErrMsg:'',emptyNameErrMsg:'',errMsgContainer:'',clearEditSavedSearch:false,processSave:function(){SaveSearch.clearError();if(SaveSearch.page==='search'){window.location.assign(SaveSearch.saveHistoryUrl+SaveSearch.historyItemId+"&displayString="+encodeURIComponent(jQuery("#saveSearchText").val()));}
else{if(SaveSearch.clearEditSavedSearch){jQuery("#editSaveSearch").val('');SaveSearch.clearEditSavedSearch=false;}
SaveSearch.isNameValidated=false;processLinkClick(SaveSearch.processLinkClickParam);}},isValidName:function(name){var temp=/[!$%&*()+|=`{}#@"''<>\\\?\/\[\]]/g.test(name);return!temp;},saveButtonClick:function(e){var saveSearchName=jQuery("#saveSearchText").val();SaveSearch.clearError(false);e.preventDefault();if(SaveSearch.isNameValidated&&SaveSearch.validateName===saveSearchName){SaveSearch.processSave();}
else if(saveSearchName===""){jQuery(".saveSearch").addClass("emptyNameMsg");SaveSearch.errMsgContainer.append(SaveSearch.emptyNameErrMsg);SaveSearch.isNameValidated=false;}
else if(!SaveSearch.isValidName(saveSearchName)){jQuery(".saveSearch").addClass("invalidMsg");SaveSearch.errMsgContainer.append(SaveSearch.invalidNameErrMsg);SaveSearch.isNameValidated=false;}
else{var validateName=jQuery.post(SaveSearch.nameValidationURL,{"displayString":saveSearchName});validateName.done(function(response){if(!response){SaveSearch.processSave();}
else if(response===true){SaveSearch.validateName=saveSearchName;jQuery(".saveSearch").addClass("validationMsg");SaveSearch.errMsgContainer.append(SaveSearch.duplicateNameErrMsg);SaveSearch.isNameValidated=true;}else{window.location.assign("/error.uri");}});validateName.error(function(){window.location.assign("/error.uri");});validateName.always();}},populateSugestName:function(){},setResultsPageButtonLink:function(){var savedSearchId=jQuery("#editSaveSearch").val().replace(/[^0-9]/gi,'');if(savedSearchId!==''){SaveSearch.savedSearchId=savedSearchId;jQuery("#saveNew,#saveNewSearchBtn").attr({"data-toggle":"modal","data-target":"#saveSearchModal","data-type":"modal"}).on("click",function(e){e.preventDefault();jQuery("#saveSearchText").val(SaveSearch.initiatedDisplayName+SaveSearch.saveAsNewAppend);SaveSearch.clearEditSavedSearch=false;jQuery("#searchNameClear").removeClass("hidden");});SaveSearch.getSavedSearchName();}},saveEditSearchBtnClick:function(){if(typeof console!=="undefined"){console.log("Save Edit Search Button Click");}
jQuery("#saveSearchText").val('');var saveSearchIdObj=jQuery("<input>",{"type":"hidden",'name':'savedSearchId',"value":SaveSearch.savedSearchId});jQuery(document.SearchResultsForm).append(saveSearchIdObj);SaveSearch.processSave();},saveSearchLinkClick:function(e){e.preventDefault();SaveSearch.clearEditSavedSearch=true;var target=jQuery(e.currentTarget);var sugestedName="";var searchTermsObj=jQuery('.querySrchTerm');if(searchTermsObj.length===0){searchTermsObj=target.parents("tr").find(".txtSmallerBold");}
if(SaveSearch.page==='search'){SaveSearch.historyItemId=target.data("item");}
searchTermsObj.each(function(index,elem){if(sugestedName!==''){sugestedName=sugestedName.concat(' ');}
if(sugestedName.length>=SaveSearch.initNameCharCound){return false;}
else{sugestedName=sugestedName.concat($(elem).text().replace(/[!$%&*()+|=`{}#@"''<>\\\?\/\[\]]/g,''));}});jQuery("#searchNameClear").removeClass("hidden");jQuery("#saveSearchText").val(sugestedName);},getSavedSearchName:function(){var getNameResp=jQuery.get(SaveSearch.getSavedNameUrl,{"savedSearchId":SaveSearch.savedSearchId},null,"text").done(function(response){SaveSearch.initiatedDisplayName=response;}).fail(function(){window.location.assign("/error.uri");}).always(function(response){if(typeof console!=="undefined"){console.log("getSavedSearchName ajax call complete with responce: "+response);}});},clearError:function(nameInvalidate){SaveSearch.errMsgContainer=jQuery("#savErrorMsgContainer").empty();if(nameInvalidate){SaveSearch.isNameValidated=false;}
jQuery(".saveSearch").removeClass("validationMsg emptyNameMsg invalidMsg");},init:function(){if(!isLoggedInUser||isShibUser){if(typeof console!=="undefined"){console.log("None logged in user: need to login for save to work.");}
jQuery("#saveSrchLoginBtn").on("click",function(e){if(isIDPlusEnabled){IDPlus.promptLogin(e);}
else if(isShibUser){window.location.assign("/customer/inaccessible.uri");;}else{window.location.assign("/customer/authenticate/loginfull.uri");}});}
else{var page=jQuery(".saveSearch").data("page");if(page!==""){SaveSearch.page=page;if(page==="results"){SaveSearch.setResultsPageButtonLink();jQuery("#saveSearchBtn").on("click",SaveSearch.saveEditSearchBtnClick);jQuery("div#infoMsgContainer .clearfix + p").addClass("noMargin");}}
SaveSearch.duplicateNameErrMsg=jQuery("#duplicateError");SaveSearch.emptyNameErrMsg=jQuery("#emptyError");SaveSearch.invalidNameErrMsg=jQuery("#invalidError");SaveSearch.errMsgContainer=jQuery("#savErrorMsgContainer").empty();jQuery("#saveSrchBtn,.ico-save-file").on("click",SaveSearch.saveSearchLinkClick);jQuery("#saveSearchText").on("keyup",function(event){if(event.keyCode!==13){SaveSearch.clearError(true);}});jQuery("#searchNameClear").on("click",function(){SaveSearch.clearError(true);});jQuery("#saveSearchBut").on("click",SaveSearch.saveButtonClick);$('#saveSearchModal').on('hidden.bs.modal',function(){SaveSearch.clearError(true);});}}};jQuery(document).ready(function(){SaveSearch.init();});MendeleyImporterApi={};(function(api){var data={},bookmarkletUrl=MendeleybookmarkletUrl;init();function init(){api.open=open;api.close=close;api.setOpenedWithApi=getSetter('openedWithApi');api.getOpenedWithApi=getGetter('openedWithApi');var methods=['HostId','UserIdentityCallback','DataCallback'];for(var i=0,l=methods.length;i<l;i++){var key=methods[i];api['register'+key]=getSetter(key);api['get'+key]=getGetter(key);}}
function getGetter(key){return function(){return data[key];};}
function getSetter(key){return function(value){data[key]=value;};}
function open(){this.setOpenedWithApi(true);document.getElementsByTagName('body')[0].appendChild(document.createElement('script')).setAttribute('src',bookmarkletUrl);}
function close(){try{document.getElementById('mendeley-bookmarklet-close').click();}catch(e){}}})(MendeleyImporterApi);function Cookie(name){this.$name=name;var reExtraSpace=/^\s*(.*?)\s*$/;var allcookies=Cookie.getCookies(name);if(allcookies===null||allcookies.length===0)return;var cookies=allcookies;for(var i=0;i<cookies.length;i++){var str=cookies[i].name;str=str.replace(reExtraSpace,"$1");}
var cookie=null;var str="";for(var i=0;i<cookies.length;i++){str=cookies[i].value;str=str.replace(reExtraSpace,"$1");if(str.substring(0,name.length+1)==(name+"=")){cookie=str;break;}}
if(cookie==null)return;var cookieval=cookie.value;var a=cookieval.split('&');for(var i=0;i<a.length;i++)
a[i]=a[i].split('_');for(var i=0;i<a.length;i++){this[a[i][0]]=decodeURIComponent(a[i][1]);}}
Cookie.prototype.store=function(daysToLive,path,domain,secure){var cookieval='';if(this.hasOwnProperty('value')){cookieval+=this['value'];}
for(var prop in this){if((prop.charAt(0)=='$')||((typeof this[prop])=='function')||prop=='value')
continue;if(cookieval!=''){cookieval+='&';}
cookieval+=prop+'_'+encodeURIComponent(this[prop]);}
var cookie=cookieval;var expiration=-1;if(daysToLive||daysToLive>0){expiration=daysToLive*24*60*60;}else if(daysToLive===0){expiration=0;}else if(daysToLive<0){expiration=-1;}
if(domain)cookie+="; domain="+domain;var cookie='name='+this.$name+'&value='+cookie+'&expiration='+expiration;if(path)cookie+='&path='+path;jQuery.ajax({type:"POST",async:false,url:'/cookies/set.uri',dataType:'html',data:cookie,error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);},success:function(data){}});}
Cookie.prototype.remove=function(path,domain,secure){for(var prop in this){if(prop.charAt(0)!='$'&&typeof this[prop]!='function')
delete this[prop];}
this.store(0,path,domain,secure);}
Cookie.prototype.enabled=function(){if(navigator.cookieEnabled!=undefined)return navigator.cookieEnabled;if(Cookie.enabled.cache!=undefined)return Cookie.enabled.cache;document.cookie="testcookie=test; max-age=10000";var cookies=document.cookie;if(cookies.indexOf("testcookie=test")==-1){return Cookie.enabled.cache=false;}
else{document.cookie="testcookie=test; max-age=0";return Cookie.enabled.cache=true;}}
function Cookie_getCookies(name)
{return Cookie_getCookiesWithPath(name,'/cookies/retrieve.uri');}
function Cookie_getCookiesWithPath(name,path){var cookies=null;jQuery.ajax({type:"POST",async:false,url:path,dataType:'json',data:'name='+name,error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);},success:function(data){cookies=data;}});return cookies;}
Cookie.getCookies=Cookie_getCookies;Cookie.getCookiesWithPath=Cookie_getCookiesWithPath;var isSvgSupported=!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect;var exitSurvey={esLink:'',esChance:0.25,surveyCookieId:'SCES',autosuggestSurveyCookieId:'SCAES',autoSuggestEnableCookie:'enableAutoSuggest',surveyInvite:function(surveyID){var cookieID='';if(surveyID==='exitSurveyDialog'){cookieID=exitSurvey.surveyCookieId;}else if(surveyID==='autoSuggestSurveyDialog'){cookieID=exitSurvey.autosuggestSurveyCookieId;}
if(exitSurvey.getCookie(cookieID)===undefined){exitSurvey.showSurvey(surveyID,cookieID);}},checkMathRandomSurvey:function(surveyID,cookieID){jQuery("#"+surveyID).css({'display':'block'});exitSurvey.setSurveyDialogPos();jQuery("#"+surveyID).delay(2000).animate({"bottom":"+=250px"},1000,"swing",function(){exitSurvey.setCookie(cookieID,"true",180);});jQuery("#"+surveyID+" .yL").click(surveyID,exitSurvey.surveyAccept);jQuery("#"+surveyID+" .nL, #"+surveyID+" #closeWindow").click(surveyID,exitSurvey.surveyClose);},showSurvey:function(surveyID,cookieID){if(jQuery('#randomautoSuggestVal').length&&jQuery('#randomautoSuggestVal').val()==='true'){var mathRandom=Math.random();if(mathRandom<=exitSurvey.esChance){exitSurvey.checkMathRandomSurvey(surveyID,cookieID);}}
else{exitSurvey.checkMathRandomSurvey(surveyID,cookieID);}},setSurveyDialogPos:function(surveyID){if(jQuery('#outerWrapper').length>0){jQuery("#"+surveyID).css({'right':jQuery(window).width()-(jQuery('#outerWrapper').offset().left+jQuery('#outerWrapper').outerWidth())});}},surveyAccept:function(e){e.preventDefault();if(exitSurvey.getCookie(exitSurvey.autosuggestSurveyCookieId)!==undefined){exitSurvey.setCookie(exitSurvey.autoSuggestEnableCookie,"true",1);}
var page="http://"+window.location.hostname;var windowprops="width=900,height=600,location=no,toolbar=no,menubar=no,scrollbars=yes,resizable=yes";var PopWindow=window.open(page,"",windowprops);try{PopWindow.blur();PopWindow.focus();if(PopWindow){exitSurveyHTML=exitSurvey.gHTML();PopWindow.document.write(exitSurveyHTML);PopWindow.document.close();}
exitSurvey.surveyClose(e);}catch(err){exitSurvey.surveyClose(e);}
basicSrchAutoSugg.enableAutoSuggest();},surveyClose:function(e){if(e){e.preventDefault();}
jQuery("#"+e.data).css('display','none');},gHTML:function(){var wH="";wH+='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">';wH+="<html>";wH+="<head>";wH+="<title>Feedback</title>";wH+='<style type="text/css">';wH+="body { margin: 0; padding: 0; font-family: Arial, Verdana, helvetica, sans-serif; height: 100%; font-size: 75%; color: #5C5C5C;}";wH+=".logoHeader { height: 64px;}.logoScopusImg { width: 75px; position: absolute; padding-left: 2%; padding-top: 15px; padding-right: 14%;}";wH+=".logoScopusImg img { height: 25px;}.sBody { padding: 20px 40px;}.sInfoMsg{width:0;overflow:hidden;line-height: 14px;font-size:0;}.sSubHeading { font-size: 14px;}.sHeading { font-size: 20px;}";wH+=".sButton input { height: 30px; margin: 0; color: #5c5c5c; background: #eee; border: 1px solid #c9c9c9;}.sButton { font-size: 13px; font-weight: bold; margin: 20px 0;}";wH+=".sText { font-size: 13px;}.navigation { background-color: #026370; height: 5px;} ";wH+=".sInfoMsgContainer { background-color: #ebf7fd; background-image: url('/static/images/info.png'); background-position: 5px 4px; background-repeat: no-repeat; border: 1px solid #46c7f4; border-radius: 4px; color: #5c5c5c; margin: 10px 0; padding: 6px 5px 6px 30px;}";wH+="</style>";wH+="</head>";wH+="<body>";wH+='<div>';wH+='<div class="logoHeader" >';wH+='<div class="logoScopusImg" >';wH+='<img alt="Scopus Logo" src="/static/images/scopusLogoOrange.svg"/>';wH+='</div>';wH+='</div>';wH+='<div class="navigation"></div>';wH+='<div class="sBody">';wH+='<div class="sHeading">'+basic.SURVEY_POPUP_CONFIRMATION_HEADING()+' <br/><br/></div>';wH+='<div class="sInfoMsgContainer" role="alert">';wH+='<span class="sInfoMsg">'+basic.SURVEY_POPUP_CONFIRMATION_INFO_MSG()+'</span><span class="sSubHeading">'+basic.SURVEY_POPUP_CONFIRMATION_INFORMATION()+'</span> <br/><br/>'+basic.SURVEY_POPUP_CONFIRMATION_FIREFOX_INFO();wH+="</div>";wH+="</div>";wH+="</div>";wH+='<script type="text/javascript">';wH+="var intl;";wH+="function loadSurvey() {";wH+="clearInterval(intl);";wH+="window.resizeTo(900,600);";wH+='this.location="'+exitSurvey.esLink+'";';wH+="}";wH+="var lastseen = window.opener.location.hostname;";wH+="function CheckParent() {";wH+="try {";wH+="var host = window.opener.location.hostname;";wH+="if (host != lastseen){";wH+="lastseen = host;";wH+="}";wH+="return;";wH+="} catch(error){";wH+="clearInterval(intl);";wH+="moveTo(screen.width/2-450,screen.height/2-300);";wH+="this.focus();";wH+='alert("Click Ok to begin your survey");';wH+='this.location="'+exitSurvey.esLink+'";';wH+="var match = document.cookie.match('enableAutoSuggest=([^;]*)');";wH+="if (match) {";wH+="document.cookie = 'enableAutoSuggest=false; max-age=0 ; expires=Wed, 18 Jul 2001 07:42:30 UTC; path=/';";wH+="}";wH+="}";wH+="}";wH+='intl = setInterval("CheckParent()", 500);';wH+="</script>";wH+="</body>";wH+="</html>";return wH;},setCookie:function(c_name,value,expiration){var exdate=new Date();exdate.setDate(exdate.getDate()+expiration);var c_value=escape(value)+("; expires="+exdate.toUTCString()+"; path=/");document.cookie=c_name+"="+c_value;},getCookie:function(c_name){var match=document.cookie.match(c_name+'=([^;]*)');return match?match[1]:undefined;},svgSupport:function(){if(!isSvgSupported){if(typeof jQuery('.surveylogoScopusImg img').attr('src')==='undefined'){document.getElementsByTagName("img")[0].src='/static/images/ScopusWhite.png';}else{jQuery('.surveylogoScopusImg img').attr('src','/static/images/ScopusWhite.png');}
jQuery('.surveylogoScopusImg').css({'padding-top':'11px'});jQuery('.surveylogoScopusImg img').css({'height':'auto'});}},init:function(surveyID){if(surveyID==='exitSurveyDialog'){exitSurvey.esLink=jQuery('#exitSurveyLink').val();}else if(surveyID==='autoSuggestSurveyDialog'){exitSurvey.esLink=jQuery('#autoSuggestSurveyLink').val();}
exitSurvey.surveyInvite(surveyID);exitSurvey.svgSupport();}};var forwardPageLink=null;var header={init:function(){if(!isIDPlusEnabled){header.getSettingsPageData();}else{if(!jQuery("#broughtToYouCnt .libraryBannerCont>#banner-top").length>0){jQuery("#broughtToYouCnt .libraryBannerCont").remove();}
if(!jQuery("#broughtToYouCnt .librCatl>a").length>0){jQuery("#broughtToYouCnt .librCatl").remove();}
if(!jQuery("#broughtToYouCnt li").length>0){jQuery("#broughtToYouCnt").closest('div.panel').remove();}
if(!jQuery("#libraryBanner #banner-top").length>0){jQuery("#libraryBanner").remove();}
var bgRequired=jQuery('input#bannerHeaderCheck').val();if(bgRequired==='available'){jQuery("#libraryBanner").css({background:'none'});jQuery("#broughtToYouCnt .well").css({background:'none'});}}},getSettingsPageData:function(){if(jQuery('#logout_user').length>0){if(jQuery('#CARS_SETTINGS_TEMPLATE #settings-panel').contents().length===0){header.getMyScopusLinkData();}else{header.formProfileAccessLinks();}
if(!jQuery("#broughtToYouCnt .libraryBannerCont>#banner-top").length>0){jQuery("#broughtToYouCnt .libraryBannerCont").remove();}
if(!jQuery("#broughtToYouCnt .librCatl>a").length>0){jQuery("#broughtToYouCnt .librCatl").remove();}
if(!jQuery("#broughtToYouCnt li").length>0){jQuery("#broughtToYouCnt").closest('div.panel').remove();}
if(!jQuery("#libraryBanner #banner-top").length>0){jQuery("#libraryBanner").remove();}}
var bgRequired=jQuery('input#bannerHeaderCheck').val();if(bgRequired==='available')
{jQuery("#libraryBanner").css({background:'none'});jQuery("#broughtToYouCnt .well").css({background:'none'});}},getMyScopusLinkData:function(){var settingsData=jQuery.get("/customer/settings.uri");settingsData.done(function(response){header.getSettingsTemplate();});settingsData.error();settingsData.always();},getSettingsTemplate:function(){var settingsTemplate=jQuery.get("/settings/template.uri");settingsTemplate.done(function(response){jQuery('#CARS_SETTINGS_TEMPLATE').html(response);header.formProfileAccessLinks();});settingsTemplate.error();settingsTemplate.always();},formProfileAccessLinks:function(){var profileGroup=jQuery('#CARS_SETTINGS_TEMPLATE #modify-profile-group').detach();jQuery('#personalPreferences').append(profileGroup);jQuery('#personalPreferences div').removeAttr('displaystyle');jQuery('#personalPreferences #modify-profile-group').wrapInner('<div class="list-group"></div>');jQuery('#personalPreferences form').next('div').addClass('sr-only');var ppLinks=jQuery('#personalPreferences #settings-app-links-bottom a');if(ppLinks.parent().is('li')){ppLinks.unwrap();}
var myScopusLinks=jQuery('#CARS_SETTINGS_TEMPLATE #settings-app-links-top #scopusTopLinks').detach();jQuery('#myScopus').html(myScopusLinks);jQuery('#scopusTopLinks > ul').addClass('list-group');jQuery('#scopusTopLinks > ul li').addClass('list-group-item');},addForwardToLogin:function(forward){var formAction=jQuery("#login_pop_container_logform>form").attr("action");if(formAction.indexOf('?forwardToPage')>-1){formAction=formAction.substr(0,formAction.indexOf('?forwardToPage'));}
if(forward){jQuery("#login_pop_container_logform>form").attr("action",formAction+"?forwardToPage="+forward);}else{jQuery("#login_pop_container_logform>form").attr("action",formAction);}}};function dateFromISO8601(isoDateString){var parts=isoDateString.match(/\d+/g);var isoTime=Date.UTC(parts[0],parts[1]-1,parts[2],parts[3],parts[4],parts[5]);var isoDate=new Date(isoTime);return isoDate;}
var textZone={setTextZoneCookie:function(name,value){var cookie=new Cookie(name);cookie.value=value;cookie.store(null,"/");},init:function(){if(jQuery('#authorTextZoneDivHolder').length>0){var authorTextZoneCookies=Cookie.getCookies("author_textzone_hidden");if(!authorTextZoneCookies.length&&jQuery.trim(jQuery("#authorTextZoneDivHolder").text()).length>0){jQuery("#authorTextZoneDivHolder").closest(".marketingTextZone").removeClass('displayNone');}
jQuery("#authorTextZoneDivHolder").closest(".marketingTextZone").find(".close").click(function(){var marketingTextZoneCookies=textZone.setTextZoneCookie("author_textzone_hidden","true");});}else if(jQuery('#marketingTextZoneDivHolder').length>0){var marketingTextZoneCookies=Cookie.getCookies("marketing_textzone_hidden");if(!marketingTextZoneCookies.length&&jQuery.trim(jQuery("#marketingTextZoneDivHolder").text()).length>0){jQuery("#marketingTextZoneDivHolder").closest(".marketingTextZone").removeClass('displayNone');}
jQuery("#marketingTextZoneDivHolder").closest(".marketingTextZone").find(".close").click(function(){var marketingTextZoneCookies=textZone.setTextZoneCookie("marketing_textzone_hidden","true");});}else if(jQuery('#authorFreeTextZoneDivHolder').length>0){jQuery("#authorFreeTextZoneDivHolder").closest(".marketingTextZone").removeClass('displayNone');}else if(jQuery('#affilResultsTextZoneHolder').length>0){var affilResultsTextZoneCookies=Cookie.getCookies("affil_textzone_hidden");if(!affilResultsTextZoneCookies.length&&jQuery.trim(jQuery("#affilResultsTextZoneHolder").text()).length>0){jQuery("#affilResultsTextZoneHolder").closest(".marketingTextZone").removeClass('hidden');}
jQuery("#affilResultsTextZoneHolder").closest(".marketingTextZone").find(".close").click(function(){var affilResultsTextZoneCookies=textZone.setTextZoneCookie("affil_textzone_hidden","true");});}else if(jQuery('#authResultsTextZoneHolder').length>0){var authResultsTextZoneCookies=Cookie.getCookies("auth_results_textzone_hidden");if(!authResultsTextZoneCookies.length&&jQuery.trim(jQuery("#authResultsTextZoneHolder").text()).length>0){jQuery("#authResultsTextZoneHolder").closest(".marketingTextZone").removeClass('hidden');}
jQuery("#authResultsTextZoneHolder").closest(".marketingTextZone").find(".close").click(function(){var affilResultsTextZoneCookies=textZone.setTextZoneCookie("auth_results_textzone_hidden","true");});}else if(jQuery('#previewDocumentResultsTextZoneHolder').length>0){var previewDocumentResultsTextZoneCookies=Cookie.getCookies("preview_document_results_textzone_hidden");if(!previewDocumentResultsTextZoneCookies.length&&jQuery.trim(jQuery("#previewDocumentResultsTextZoneHolder").text()).length>0){jQuery("#previewDocumentResultsTextZoneHolder").closest(".marketingTextZone").removeClass('hidden');}
jQuery("#previewDocumentResultsTextZoneHolder").closest(".marketingTextZone").find(".close").click(function(){var previewDocumentResultsTextZoneCookies=textZone.setTextZoneCookie("preview_document_results_textzone_hidden","true");});}}};var modalOverlay={drawOverlay:function(){jQuery('#modalOverlay-dialog').modal({backdrop:false,keyboard:false});jQuery("#modalOverlay-dialog").on("keydown",function(e){if(e.keyCode===27){modalOverlay.remindMeLater();}});jQuery('#modalOverlay-dialog .modal-body').addClass('modalOverlayOuterCnt');jQuery('#modalOverlay-dialog .modal-footer').addClass('modalOverlayFooter');},getOrCreateOverlayCookie:function(name){var overlayCookies=Cookie.getCookies(name);if(overlayCookies.length===0){overlayCookie=new Cookie(name);}else{overlayCookie=overlayCookies[0];}
return overlayCookie;},acceptOverlay:function(){modalOverlayCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_ok");modalOverlayCookie.showOverlay=false;modalOverlayCookie.ts=jQuery("#overlayShownTime").val();modalOverlayCookie.store(365,"/");overlayRemindCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_remind");overlayRemindCookie.store(0,"/");},remindMeLater:function(){modalOverlayCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_ok");modalOverlayCookie.showOverlay=true;modalOverlayCookie.ts=jQuery("#overlayShownTime").val();modalOverlayCookie.store(365,"/");overlayRemindCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_remind");overlayRemindCookie.remindLater=true;var remindMeLaterHours=jQuery("#remindMeLaterHours").val();if(parseInt(remindMeLaterHours)>0){overlayRemindCookie.store(parseInt(remindMeLaterHours)/24,"/");}else{overlayRemindCookie.store(1,"/");}},overlayClose:function(){jQuery('#modalOverlay-dialog').modal('hide');jQuery("body").css({'overflow':'inherit'});},init:function(){var messageUpdatedTimeStr=jQuery("#overlayUpdatedTime").val();var messageShownTimeStr=jQuery("#overlayShownTime").val();var modalOverlayCookies=Cookie.getCookies("sc_overlay_ok");if(modalOverlayCookies.length){showOverlay=modalOverlayCookies[0].showOverlay==="true";messageShownTimeStr=modalOverlayCookies[0].ts;}else{showOverlay=true;}
var overlayRemindCookies=Cookie.getCookies("sc_overlay_remind");if(overlayRemindCookies.length){showOverlay=false;}
if(!showOverlay&&messageUpdatedTimeStr!=null&&messageUpdatedTimeStr!=""&&messageShownTimeStr!=null&&messageShownTimeStr!=""){var messageUpdatedTime=dateFromISO8601(messageUpdatedTimeStr);var d=dateFromISO8601(messageShownTimeStr);var messageShownTime=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),0,0,0);if(messageUpdatedTime>messageShownTime){showOverlay=true;}}
if(showOverlay){modalOverlay.drawOverlay();jQuery(".modalOverlayOuterCnt a").on("click",modalOverlay.acceptOverlay);jQuery("#modalOverlay-dialog .modal-header .close").on('click',modalOverlay.remindMeLater);}}};jQuery(window).resize(function(){if(jQuery('#exitSurveyDialog').length>0){exitSurvey.setSurveyDialogPos();}});jQuery(document).ready(function(){if(typeof String.prototype.trim!=='function'){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};}
Cookie.prototype.store=function(daysToLive,path,domain,secure){var cookieval='';if(this.hasOwnProperty('value')){cookieval+=this['value'];}
for(var prop in this){if((prop.charAt(0)=='$')||((typeof this[prop])=='function')||prop=='value')
continue;if(cookieval!=''){cookieval+='&';}
cookieval+=prop+'_'+encodeURIComponent(this[prop]);}
var cookie=cookieval;var expiration=-1;if(daysToLive||daysToLive>0){expiration=daysToLive*24*60*60;}else if(daysToLive===0){expiration=0;}else if(daysToLive<0){expiration=-1;}
if(domain)cookie+="; domain="+domain;var cookie='name='+this.$name+'&value='+cookie+'&expiration='+expiration;if(path)cookie+='&path='+path;jQuery.ajax({type:"POST",async:false,url:'/cookies/set.uri',dataType:'json',data:cookie,error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);},success:function(){}});};header.init();if(jQuery('.marketingTextZone').length>0){textZone.init();}
if(jQuery('#modalOverlay-dialog').length>0){modalOverlay.init();}
if(jQuery('#exitSurveyDialog').length>0){exitSurvey.init('exitSurveyDialog');}
if(jQuery('#autoSuggestSurveyDialog').length>0){exitSurvey.init('autoSuggestSurveyDialog');}
if(!isIDPlusEnabled){if(jQuery('#login-panel')){carsLoginDropdown();}
if(jQuery('#logout-panel')){carsLogoutDropdown();}}
jQuery("#sourceBrowseId").on('click',function(event){if(typeof(Storage)!=="undefined"){localStorage.setItem("tabClicked","Search for a source");}});jQuery("body").on('keydown','.closeDropDown',function(e){if((e.keyCode||e.which)===9&&!e.shiftKey){jQuery("#username").focus();jQuery("#logout_pop>form a").first().focus();jQuery(e.target).parent(".dropdownContentWrap").find("a,input[type!=hidden],button:not(.closeDropDown)").first().focus();e.preventDefault();}});jQuery("#username,#logout_pop>form:first a:first,.dropdownContentWrap a:first,.dropdownContentWrap button:not(.closeDropDown):first").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery(this).closest(".dropdownContentWrap").find(".closeDropDown").focus();event.preventDefault();}});jQuery(".dropdownContentWrap").find("input[type!=hidden]:first").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery(this).closest(".dropdownContentWrap").find(".closeDropDown").focus();event.preventDefault();}});if(jQuery("#accId").length&&jQuery("#accId").val()==="2018"){jQuery("#contentContainer").prepend('<div class="row" id="columbiaRow"><div class="col-md-12 paddingLeft2 whiteBg" id="colomBanner"><a href="http://library.columbia.edu/" target="_blank"><img style="max-width: 728px; max-height: 90px;" src="/static/proteus-images/CUL-single-line.svg" alt="Columbia University Libraries Logo"><span class="sr-only">Columbia University Libraries web site - will open in new window/tab</span></a></div>');jQuery("#columbiaRow").find("img").one("load",function(){jQuery("#spineContainer").css("top",jQuery(".col-md-12.globalNavigation").position().top);});}
jQuery('#activatePersonalization').on('click',function(e){window.location=jQuery('#activatePersonalization').attr('href');});});function carsLoginDropdown(){jQuery('#login-panel div, #login-panel a, #login-panel span').removeAttr('displaystyle');jQuery('#login-panel').addClass('dropdownGroup').removeClass('CARS_panelClass');jQuery('#login_loginlink').addClass('btn btn-link dropdown-toggle').attr('data-keyboard','true');jQuery('#login_maincontroller').unwrap();jQuery('#login_reglink').unwrap();jQuery('#login_pop_container').addClass('row').wrapAll('<div id="carsLogin" class="dropdown-menu dropdown-menu-right large" role="menu"><div class="dropdownContent"><div class="dropdownContentWrap">').removeClass('CARS_displayInline').removeAttr('displaystyle');jQuery('#carsLogin .dropdownContentWrap').prepend('<div id="dropdownTitle" class="row"></div>');jQuery('#carsLogin').prepend('<div class="dropdownHeader"></div>');jQuery('#login_pop_container_logform').addClass('col-md-6');jQuery('#login_pop_container_socialform').addClass('col-md-6');jQuery('#login_pop_container_logform .CARS_groupTitle').wrapInner('<h2></h2>');jQuery('#login_pop_container_socialform .CARS_groupTitle').wrapInner('<h3></h3>');var loginHeader=jQuery('#login_pop_container_logform .CARS_groupTitle').detach();jQuery('#carsLogin .dropdownContentWrap #dropdownTitle').append(loginHeader);jQuery('#login_pop_container').append('<button class="btn btn-link closeDropDown" data-toggle="dropdown" type="button"><span class="ico-delete" aria-hidden="true"></span><span class="sr-only">Close login</span></button>');jQuery('#login_pop_container input[type="checkbox"] + label').addClass('checkbox-label');jQuery('#login_rem_forgot_submit input[type="submit"]').addClass('btn btn-primary btn-md');jQuery('#login_rem_forgot_submit').addClass('row');jQuery('#login_rem_check').parent().addClass('col-md-8');jQuery('#login_submit_btn').addClass('col-md-4');jQuery('#login_submit_btn input[type="submit"]').attr('id','login_submit_button_element');jQuery('#login_not_register span, #login_forgot_pass span').addClass('sr-only');}
function carsLogoutDropdown(){jQuery('#logout_username_link').remove();if(jQuery('#logout_username').length>0){jQuery('#logout_username').unwrap('div').wrapInner('<a href="javascript:void(0);" id="logout_username_link" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" onclick="javascript:return CARS.submitCheck("toggle",this)"><span class="anchorText"></a>').addClass('dropdownGroup');}else if(jQuery('#logout_text_content').length>0){jQuery('#logout_text_content').unwrap('div').wrapInner('<a href="javascript:void(0);" id="logout_username_link" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" onclick="javascript:return CARS.submitCheck("toggle",this)"><span class="anchorText"></a>').addClass('dropdownGroup');}
jQuery('#logout_username_link').append('<span class="ico-navigate-down" aria-hidden="true"></span>');jQuery('#logout_pop').unwrap().addClass('row').wrapAll('<div id="carsLogout" class="dropdown-menu dropdown-menu-right medium" role="menu"><div class="dropdownContent"><div class="dropdownContentWrap">');jQuery('#carsLogout .dropdownContentWrap').append('<button class="btn btn-link closeDropDown" data-toggle="dropdown" type="button"><span class="ico-delete" aria-hidden="true"></span><span class="sr-only">Close login</span></button>');jQuery('#logout_pop').removeAttr('displaystyle');jQuery('#logout_pop div').removeAttr('displaystyle');jQuery('#logout_pop').prepend('<div class="userPopoutTitle col-md-12"><h2>My organization</h2></div>');jQuery('#carsLogout').prepend('<div class="dropdownHeader"></div>');var logOutMenu=jQuery('#carsLogout').detach();if(jQuery('#logout_username').length>0){jQuery('#logout_username').append(logOutMenu);}else if(jQuery('#logout_text_content').length>0){jQuery('#logout_text_content').append(logOutMenu);if(!jQuery('#userPath form').length){jQuery('#logout_logoutlink').removeAttr('displaystyle').addClass('logoutIns');}}
if(jQuery('#guestAccessPage').length===0){jQuery('#userPath').append('<div id="dashboardLink" class="marginTop1"><a class="secondaryLink" href="/dashboard.uri"><span class="anchorText">Dashboard</span></a></div>');}
var logOut=jQuery('#logout_logoutlink').detach();jQuery('#userPath').append(logOut);jQuery('#logout_accname').unwrap('div');}
function spineStatus(){if(jQuery('#spineContainer').is(':hidden')){loginDropDownId="#login_loginlink";}else{loginDropDownId="#login_loginlink_spine";}
return loginDropDownId;}
function swapRegister(e){var i=jQuery('#registerLogin').children().clone();jQuery(i).find('#login_loginlink').attr('id','login_loginlink_spine');var a=jQuery(i).find('#login_reglink, #login_loginlink_spine').removeClass('btn btn-link');var s=jQuery(a).find('.anchorText');if(e===1){jQuery(s).contents().unwrap();jQuery(a).find('.ico-navigate-down').remove();if(jQuery('#guestAccessPage').length===0){jQuery(i).insertAfter('#spineContent header');}else{jQuery('#spineContent header #spineHeading .headerText').hide();jQuery('#spineContent header #spineHeading').prepend(i);}
jQuery('#globalLinks').toggleClass('spineShow');}else{if(jQuery('#guestAccessPage').length===0){jQuery('#spineContent #login-panel').remove();jQuery('#spineContent header #spineHeading .headerText').show();}else{jQuery('#spineContent #guestAccessPage').remove();}}}
function swapSignin(e){if(e===1){if(!isLoggedInUser){var registerLink=jQuery('#signin_registerlink').clone();var signinLink=jQuery('#signin_signinlink').clone();jQuery(registerLink).attr('id','signin_registerlink_spine');jQuery(registerLink).addClass('whiteColor');jQuery(signinLink).attr('id','signin_signinlink_spine');jQuery(signinLink).addClass('whiteColor');jQuery(registerLink).find('.ico-navigate-right').remove();var divBuilder=jQuery('<div>',{'class':'greyishBlackBg paddingLeft1 paddingTop1','id':'nonLoggedInCont'});registerLink.html(jQuery('<span>',{'class':'anchorText','text':registerLink.text().trim()}));divBuilder.append(registerLink);divBuilder.append(jQuery('<div>',{'class':'clear marginTop1'}));divBuilder.append(signinLink);divBuilder.insertAfter('#spineContent header');}else{var username=jQuery('#username').clone();username.attr('id','username_spine');username.attr('style','');jQuery(username).find('#username_link').addClass('whiteColor');jQuery(username).find('#username_link').attr('id','username_link_spine');jQuery(username).find('.ico-navigate-down').remove();jQuery('#spineContent header #spineHeading .headerText').hide();jQuery('#spineContent header #spineHeading').prepend(username);}
jQuery('#globalLinks').toggleClass('spineShow');}else{if(!isLoggedInUser){jQuery('#spineContent header #spineHeading .headerText').show();jQuery('#spineContent #nonLoggedInCont').remove();}else{jQuery('#spineContent #username_spine').remove();}}}
function spineToggleCARS(){if(jQuery('#spineContainer').is(':hidden')){jQuery('#registerLogin').toggle();jQuery('#spineBtn').toggle();swapRegister(1);jQuery('#spineContainer').animate({width:'toggle'},200,function(){jQuery('#spineContent').toggle();jQuery('#spineContainer').focus();spineStatus();});}else{swapRegister(0);jQuery('#globalLinks').toggleClass('spineShow');jQuery('#registerLogin').toggle();jQuery('#spineBtn').toggle();jQuery('#spineContent').toggle();jQuery('#spineContainer').animate({width:'toggle'},200,function(){jQuery('#spineToggle').focus();spineStatus();});}}
function spineToggle(){if(jQuery('#spineContainer').is(':hidden')){jQuery('#register').toggle();jQuery('#signin').toggle();jQuery('#username').toggle();jQuery('#spineBtn').toggle();swapSignin(1);jQuery('#spineContainer').animate({width:'toggle'},200,function(){jQuery('#spineContent').toggle();jQuery('#spineContainer').focus();spineStatus();});}else{swapSignin(0);jQuery('#globalLinks').toggleClass('spineShow');jQuery('#register').toggle();jQuery('#signin').toggle();jQuery('#username').toggle();jQuery('#spineBtn').toggle();jQuery('#spineContent').toggle();jQuery('#spineContainer').animate({width:'toggle'},200,function(){jQuery('#spineToggle').focus();spineStatus();});}}
function setNonLoggedInLinks(){if(jQuery('#guestAccessPage').length==0){jQuery(document.body).on('click','#profileLink, #myScopus a, #privacyCenter a',function(e){forwardPageLink=jQuery(e.target).attr("data-type");header.addForwardToLogin(forwardPageLink);forwardPageLink=null;e.stopPropagation();jQuery(loginDropDownId).dropdown('toggle');});}}
jQuery(document.body).on('click','#profileLink, #myScopus a, #privacyCenter a,#headerMyAlerts',function(e){if(!isLoggedInUser&&isIDPlusEnabled){IDPlus.promptLogin(e);}});jQuery(document.body).on('click','#spineToggle, #spineToggleDeux',function(){if(isIDPlusEnabled){spineToggle();}else{spineToggleCARS();setNonLoggedInLinks();}});jQuery(document).ready(function(){var requiredFieldsText=jQuery('<div>',{'class':'requiredFieldsText','displaystyle':':red','html':'*<span class="greyText">=required fields</span>'});requiredFieldsText.appendTo(jQuery("#login_pop_container_logform"));jQuery("body #login_submit_button_element").on("click",function(e){var errorCount=0;var focusInput=null;jQuery("#errorMsgContainerAlert").remove();var accessibileAlertDiv=jQuery('<div>',{'id':'errorMsgContainerAlert','role':'alert','aria-atomic':'true','aria-live':'assertive'});if(!jQuery("#login_pop_container #username").val()){accessibileAlertDiv.append("username field is empty");errorCount++;focusInput=jQuery('#login_pop_container #username');if(jQuery('#userNameError').hasClass("displayNone")){jQuery("#userNameError").removeClass("displayNone").insertAfter(jQuery('#login_pop_container #login_username'));}}else{if(!jQuery('#userNameError').hasClass("displayNone")){jQuery('#userNameError').addClass("displayNone");}}
if(!jQuery("#login_pop_container #login_password-password").val()){accessibileAlertDiv.append("password field is empty");errorCount++;if(focusInput===null){focusInput=jQuery('#login_pop_container #login_password-password');}
if(jQuery('#passwordError').hasClass("displayNone")){jQuery("#passwordError").removeClass("displayNone").insertAfter(jQuery('#login_pop_container #login_password'));}}else{if(!jQuery('#passwordError').hasClass("displayNone")){jQuery('#passwordError').addClass("displayNone");}}
if(errorCount>0){focusInput.focus();e.preventDefault();}});jQuery('#login-panel').on('hidden.bs.dropdown',function(){header.addForwardToLogin(forwardPageLink);forwardPageLink=null;});if(isPreviewPage)
{jQuery("body #login_loginlink").on("click",function(){jQuery(jQuery("#login_submit_button_element")[0].form).append(jQuery("<input>").attr("name","isGuestUser").attr("type","hidden").attr("value","true"));});}});(function($){$.InFieldLabels=function(label,field,options){var base=this;base.$label=$(label);base.label=label;base.$field=$(field);base.field=field;base.$label.data("InFieldLabels",base);base.showing=true;base.init=function(){var initialSet;base.options=$.extend({},$.InFieldLabels.defaultOptions,options);setTimeout(function(){if(base.$field.val()!==""){base.$label.addClass('activeInputLabel');base.showing=false;}else{base.$label.removeClass('activeInputLabel');base.showing=true;}},200);base.$field.focus(function(){base.fadeOnFocus();}).blur(function(){base.checkForEmpty(false);}).bind('keydown.infieldlabel',function(e){base.hideOnChange(e);}).bind('paste',function(){base.removeClass('activeInputLabel');}).change(function(){base.checkForEmpty();}).bind('onPropertyChange',function(){base.checkForEmpty();}).bind('keyup.infieldlabel',function(){base.checkForEmpty();});if(base.options.pollDuration>0){initialSet=setInterval(function(){if(base.$field.val()!==""){base.$label.addClass('activeInputLabel');base.showing=false;clearInterval(initialSet);}},base.options.pollDuration);}};base.fadeOnFocus=function(){if(base.showing){base.$label.addClass('activeInputLabel');base.showing=false;}};base.checkForEmpty=function(blur){if(base.$field.is(':focus')){base.$label.addClass('activeInputLabel');base.showing=false;}
else if(base.$field.is()){base.$label.removeClass('activeInputLabel');}
else if(base.$field.val()===""){base.$label.removeClass('activeInputLabel');base.showing=true;}
else if(base.showing){base.$label.addClass('activeInputLabel');}};base.prepForShow=function(){if(!base.showing){base.$label.removeClass('activeInputLabel');}};base.hideOnChange=function(e){if((e.keyCode===16)||(e.keyCode===9)){return;}
if(base.showing){base.$label.addClass('activeInputLabel');base.showing=true;}
base.$field.unbind('keydown.infieldlabel');};base.init();};$.InFieldLabels.defaultOptions={fadeOpacity:0.5,fadeDuration:300,pollDuration:0,enabledInputTypes:["text","search","tel","url","email","password","number","textarea"],className:false};$.fn.inFieldLabels=function(options){var allowed_types=options&&options.enabledInputTypes||$.InFieldLabels.defaultOptions.enabledInputTypes;return this.each(function(){var for_attr=$(this).attr('for'),field,restrict_type;if(!for_attr){return;}
field=document.getElementById(for_attr);if(!field){return;}
restrict_type=$.inArray(field.type,allowed_types);if(restrict_type===-1&&field.nodeName!=="TEXTAREA"){return;}
(new $.InFieldLabels(this,field,options));});};}(jQuery));jQuery(document).ready(function(){jQuery("label").inFieldLabels();spineStatus();});jQuery('document').ready(function(){if(location.href.indexOf("/customer/profile/display")>-1){jQuery('#register-guidelines').attr('onclick','');jQuery('#register-guidelines').attr('href','/standard/help.uri?topic=10294');}else if(location.href.indexOf("/customer/password")>-1){jQuery('#changePass-guidelines').attr('onclick','');jQuery('#changePass-guidelines').attr('href','/standard/help.uri?topic=10294');}});var scopusTab={isAjaxSuccess:false,firstTimeout:false,secondTimeout:false,timer:0,menuItems:[],loadDivContainer:"",loadingText1:"",loadingText2:"",buildTab:function(data,level){var objDIV=jQuery('<div >',{"class":"tabFunc"});var objUL=jQuery('<ul>',{'role':'tablist'});var objDivFrstTabCnt=jQuery('<div>');objDIV.append(objUL);jQuery.each(data,function(index,item){if(item.objTitleCount>0||item.objTitleCount==-1||item.objTitleCount==-2){var divCnt=[item.objTabTitle];if(item.objTitleCount==-2){divCnt.push('<span class="tabTitleCount">(0)</span>');}else if(item.objTitleCount!=-1){divCnt.push('<span class="tabTitleCount">(',item.objTitleCount,')</span>');}
var divObj=jQuery('<div>',{html:divCnt.join('')});var tabId=item.hasOwnProperty("reference")?item.reference:level+"-"+index;var tabToolTip=item.hasOwnProperty("toolTip")?item.toolTip:item.objTabTitle;var aObj=jQuery('<a>',{"href":"#lvl"+level+"Tab"+index,"id":"a"+tabId,"data-id":tabId,"title":tabToolTip,'role':'presentation'}).append(divObj);var objLI=jQuery('<li>',{'id':tabId,'role':'tab'}).append(aObj);objUL.append(objLI);var divfrstLvlTabCnt=jQuery('<div>',{"class":"secndLvlTabs",id:"lvl"+level+"Tab"+index,'role':'tabpanel','aria-labelledby':tabId});if(item.hasOwnProperty('objSubTabTitle')&&item.objSubTabTitle.length>0){var objSubTab=scopusTab.buildTab(item.objSubTabTitle,2);divfrstLvlTabCnt.append(objSubTab);}
divfrstLvlTabCnt.append(jQuery('#'+item.objCntHoldID));objDIV.append(divfrstLvlTabCnt);}});objDIV.append(objDivFrstTabCnt.html());objDIV.append('<div class="clear"></div>');return objDIV;},buildTotalRow:function(tableID,firstColValue,totalUrl,totalDocuments,urlTitle){var tableObj=jQuery('#'+tableID+' tr:last-child').parent('tbody');var rowObj=jQuery("<tr>");var firstCellObj=jQuery("<td>",{html:firstColValue,title:firstColValue});var secondCellObj=jQuery("<td>");var totalLinkObj=totalUrl==''?jQuery("<a>",{'html':totalDocuments,'class':'previewTxt','title':urlTitle}):jQuery("<a>",{'html':totalDocuments,'title':urlTitle,'href':totalUrl});secondCellObj.append(totalLinkObj);rowObj.append(firstCellObj);rowObj.append(secondCellObj);tableObj.append(rowObj);},buildAnchorTag:function(htmlContent,url,urlTitle){var anchorObj=["<a href='",url,"' title='",urlTitle,"'>",htmlContent,"</a>"];return anchorObj.join('');},buildPreviewAnchorTag:function(htmlContent,urlTitle){var anchorObj=["<a "];anchorObj.push(" class='previewTxt' ");anchorObj.push("title='",urlTitle,"'>",htmlContent,"</a>");return anchorObj.join('');},enableDisableTab:function(enable,tabIndexArray){if(enable){jQuery(".tabFunc").tabs({"disabled":[],active:0});scopusTab.setAriaForTab(0);}else{jQuery(".tabFunc").tabs({collapsible:true,active:-1,"disabled":tabIndexArray});}},adjustTableHead:function(){$(".tabFunc").bind('tabsshow',function(event,ui){var tableObj=$('div.dataTables_scrollBody>table:visible',ui.panel).dataTable();tableObj.fnAdjustColumnSizing(false);});},calcContHeightWithMfactor:function(mfactor){var windowWidth=jQuery(window).width();var windowHeight=jQuery(window).height();windowHeight=windowHeight<768?768:windowHeight;return(windowHeight*mfactor);},hideOnTime:function(){if(scopusTab.isAjaxSuccess){scopusTab.hideLoadingOverlay();scopusTab.loadingText1="";scopusTab.loadingText2="";}
else if(!scopusTab.firstTimeout){scopusTab.firstTimeout=true;scopusTab.loadingTimeout=setTimeout(scopusTab.hideOnTime,3000);}
else{jQuery('.loadingInnerText').html(scopusTab.loadingText2);scopusTab.secondTimeout=true;}},showLoadingOverlay:function(){var loadContainer=jQuery('#'+scopusTab.loadDivContainer);if(loadContainer.length){var scrollTop=$(window).scrollTop(),divOffset=loadContainer.offset().top,overlayTop=(divOffset-scrollTop);overlayTop=overlayTop>0?overlayTop:0;var modalDiv=jQuery('<div>',{'class':'ui-widget-overlay contOpacity','id':"loadingModalDiv",'style':'top:'+overlayTop});if(overlayTop==0){modalDiv.css("height",'100%');}
var divObj=jQuery('<div>',{'class':'loadingTableAndChart loadingImageAndTitle','id':'loadingContentContainer'});var innerTextObj=jQuery('<div>',{'class':'loadingInnerText','text':scopusTab.loadingText1});divObj.append(innerTextObj);loadContainer.append(divObj).append(modalDiv);jQuery('body').css("overflow",'hidden');}},hideLoadingOverlay:function(){jQuery('body').css("overflow",'auto');jQuery('#loadingModalDiv').remove();jQuery('#loadingContentContainer').remove();scopusTab.isAjaxSuccess=false;scopusTab.firstTimeout=false;scopusTab.secondTimeout=false;},showHideLoading:function(params){if(jQuery.type(params)!="undefined"&&scopusTab.loadingText1==""&&params.hasOwnProperty("loadingText1")){scopusTab.loadingText1=params.loadingText1;if(params.hasOwnProperty("loadingText2")){scopusTab.loadingText2=params.loadingText2;}
if(params.hasOwnProperty("loadDivContainer")){scopusTab.loadDivContainer=params.loadDivContainer;}}
if(scopusTab.secondTimeout){scopusTab.hideLoadingOverlay();scopusTab.secondTimeout=false;scopusTab.loadingText1="";scopusTab.loadingText2="";}else{var loadingContentContainer=jQuery("#loadingContentContainer");if(loadingContentContainer.length<=0){scopusTab.showLoadingOverlay();jQuery('.loadingTableAndChart').show();scopusTab.isAjaxSuccess=false;scopusTab.loadingTimeout=setTimeout(function(){scopusTab.hideOnTime();clearInterval(scopusTab.setInterval);},2000);}else{scopusTab.isAjaxSuccess=true;if(scopusTab.firstTimeout){scopusTab.hideOnTime();clearTimeout(scopusTab.loadingTimeout);}}}},showHideLoadingContainer:function(params){if(jQuery.type(params)!="undefined"&&scopusTab.loadingText1==""&&params.hasOwnProperty("loadingText1")){scopusTab.loadingText1=params.loadingText1;if(params.hasOwnProperty("loadingText2")){scopusTab.loadingText2=params.loadingText2;}
if(params.hasOwnProperty("loadDivContainer")){scopusTab.loadDivContainer=params.loadDivContainer;}}
if(scopusTab.secondTimeout){scopusTab.hideLoadingOverlay();scopusTab.secondTimeout=false;scopusTab.loadingText1="";scopusTab.loadingText2="";}else{var loadingContentContainer=jQuery("#loadingContentContainer");if(loadingContentContainer.length<=0){scopusTab.showLoadingOverlay();jQuery('.loadingTableAndChart').show().css({'top':'10%',"left":"50%"});scopusTab.isAjaxSuccess=false;scopusTab.loadingTimeout=setTimeout(function(){scopusTab.hideOnTime();clearInterval(scopusTab.setInterval);},2000);}else{scopusTab.isAjaxSuccess=true;if(scopusTab.firstTimeout){scopusTab.hideOnTime();clearTimeout(scopusTab.loadingTimeout);}}}},init:function(tableHdrWidth){var objTab=scopusTab.buildTab(scopusTab.menuItems,1);jQuery(".firstLvlTabs").append(objTab);if(tableHdrWidth){jQuery(".tabFunc").tabs({"show":function(event,ui){var oTable=jQuery('div.dataTables_scrollBody>table.display',ui.panel).dataTable();if(oTable.length>0){oTable.fnAdjustColumnSizing();}}});}
jQuery(".tabFunc").tabs({select:function(event,ui){jQuery('div.firstLvlTabs ul li a').attr('aria-selected','false');jQuery(ui.tab).attr('aria-selected','true');Bubble.hideAll(event);}});scopusTab.setAriaForTab(0);},setAriaForTab:function(tabIndex){jQuery('div.firstLvlTabs ul li a').attr('aria-selected','false');jQuery('div.firstLvlTabs ul li:nth-child('+(++tabIndex)+') a').attr('aria-selected','true');}};var chartExport={exportObjId:"export_results",hrefVal:'#exportChart',linkNav:[],buildExportBubble:function(){var linkNavSize=chartExport.linkNav.length;var closeIconSrTxt="Close help menu";var divObj=scopusCommonDropdown(this.exportObjId,"right",true,closeIconSrTxt);var dropdownContentWrapperObj=jQuery(divObj).find(".dropdownContentWrap");var ulObj=jQuery("<ul>",{'id':'expLinkNav','class':'list-unstyled marginRight2 paddingRight2'});var dropdownContentTitleObj=jQuery("<h4>",{'class':'row','tabindex':'-1','html':'Select an export method'});var exportButtonObj=jQuery("<button>",{'class':'btn btn-primary btn-sm pull-right dropdownActionButton exportButton','type':'button'});var exportButtonTextObj=jQuery("<span>",{'class':'btnText','text':'Export'});exportButtonObj.append(exportButtonTextObj);dropdownContentWrapperObj.append(dropdownContentTitleObj);dropdownContentWrapperObj.append(ulObj);dropdownContentWrapperObj.append(exportButtonObj);for(var i=0;i<linkNavSize;i++){var navLinkClass="exportLinkNormal";var navObj=chartExport.linkNav[i];var liObj=jQuery("<li>",{"id":'row'+i,"role":"presentation","class":"radio"});var inputObj=jQuery("<input>",{"id":navObj.id,"type":"radio","name":"export-radio-options","checked":navObj.checked});var labelObj=jQuery("<label>",{"for":navObj.id,"class":"radio-label text-nowrap","html":navObj.text});liObj.append(inputObj);liObj.append(labelObj);ulObj.append(liObj);}},disableLink:function(){jQuery("#export_results.exportNormal").attr("disabled","disabled");},enableLink:function(){jQuery("#export_results.exportNormal").removeAttr("disabled");}};var chartEmail={emailWaterMark:"",emailTitle:"",emailUsrTitle:"",emailWaterMarkUserMail:"",emailBubbleHeader:"",emailBubbleDesc:"",emailBubbleDescExample:"",emailBubbleDescUserMail:"",emailFormatLabel:"",emailFormatValue:"",sendButtonLabel:"",sendButtonTitle:"",closeButtonTitle:"",userMailId:"",emailFormatValueHTML:"",emailFormatValueTEXT:"",hrefVal:'#emailLink',loggedInUser:false,affilAuthEmailPopup:false,formAction:'',privacyPolicy:'',privacyPolicyToolTip:'',sendButtonClick:function(e){e.preventDefault();},removeEmailErrMsg:function(){jQuery('#errorMsgContainer').remove();},buildEmailBubble:function(obj){var objId=jQuery(obj).attr("id");if(typeof objId=="undefined"){jQuery(obj).attr("id","emailChart");objId="emailChart";}
var divObj=scopusCommonDropdown(objId,"right",true);var dropdownContentWrapperObj=jQuery(divObj).find(".dropdownContentWrap");var formObj=jQuery("<form>",{id:'emailForm'});var emailInputDivObj=jQuery("<div>",{"class":"form-group"});var emailInputSpanObj=jQuery("<span>",{"class":"formControls"});var emailInputObj;if(this.affilAuthEmailPopup){emailInputObj=jQuery("<textarea>",{id:'emailId',title:this.emailTitle,name:'emailId',type:'text'});}else{emailInputObj=jQuery("<input>",{id:'emailId',title:this.emailTitle,name:'emailId',type:'text'});}
var emailLabelObj=jQuery("<label>",{"for":'emailId',"class":"inputTextLabel fontNormal","html":this.emailBubbleDesc});emailInputSpanObj.append(emailInputObj);emailInputSpanObj.append(emailLabelObj);var emailHelpSpanObj=jQuery("<span>",{"class":"help-block noMarginTop fontXSmall","text":this.emailBubbleDescExample});var emailErrorSpanObj=jQuery("<span>",{"class":"errorNote hidden fontXSmall","id":"error-emailId"});emailInputDivObj.append(emailInputSpanObj);emailInputDivObj.append(emailErrorSpanObj);emailInputDivObj.append(emailHelpSpanObj);if(this.affilAuthEmailPopup){var userInputDivObj=jQuery("<div>",{"class":"form-group marginTop1"});var userInputSpanObj=jQuery("<span>",{"class":"formControls"});var userInputObj=jQuery("<input>",{id:'userEmailId',title:this.emailUsrTitle,name:'userEmailId',type:'text'});var emailUserLabelObj=jQuery("<label>",{"for":'userEmailId',"class":"inputTextLabel fontSmall","html":this.emailBubbleDescUserMail});var emailUserErrorSpanObj=jQuery("<span>",{"class":"marginTopHalf errorNote hidden fontXSmall","id":"error-userEmailId"});userInputSpanObj.append(userInputObj);userInputSpanObj.append(emailUserLabelObj);userInputDivObj.append(userInputSpanObj);userInputDivObj.append(emailUserErrorSpanObj);}
var buttonDivObj=jQuery("<div>",{"class":"emailButtons pull-right marginTop1"});var buttonObj=jQuery("<button>",{"id":"sendButton","type":"button","class":"btnEnable btn btn-primary btn-sm dropdownActionButton","title":this.sendButtonTitle,"onclick":"chartEmail.sendButtonClick(event);"});var buttonTextObj=jQuery("<span>",{'class':'btnText','text':this.sendButtonLabel});buttonObj.append(buttonTextObj);if(this.affilAuthEmailPopup){var anchPrivPol=jQuery('<a>',{"class":"secondaryLink marginRight1","href":"https://www.elsevier.com/locate/privacypolicy","title":this.privacyPolicyToolTip,"target":"_blank"});var anchorTextObj=jQuery("<span>",{'class':'anchorText','text':this.privacyPolicy});anchPrivPol.append(anchorTextObj);buttonDivObj.append(anchPrivPol);}
buttonDivObj.append(buttonObj);var dropdownContentTitleObj=jQuery("<h4>",{'class':'row darkGrayText marginBottom2','tabindex':'-1','html':this.emailBubbleHeader});dropdownContentWrapperObj.append(dropdownContentTitleObj).append(formObj);formObj.append(emailInputDivObj).append(userInputDivObj).append(buttonDivObj);if(chartEmail.loggedInUser){jQuery('#userEmailId').val(chartEmail.userMailId);}},disableLink:function(obj){obj.attr("disabled","disabled");},enableLink:function(obj){obj.removeAttr("disabled");}};var MessageContainer={WARNING_MSG:"warningMsgContainer",ERROR_MSG:"errorMsgContainer",INFO_MSG:"infoMsgContainer",CONFIRM_MSG:"confirmMsgContainer",messageType:"",msgContent:"",parentContainerObj:jQuery(".contentContainer"),isReplace:false,removeMessages:function(){var confirmationMessage=jQuery('#confirmMsgContainer');if(confirmationMessage.length>0){jQuery(confirmationMessage).remove();}
var exportSettingsSaveMessage=jQuery('.txtZoneInfoMsgContainer');if(exportSettingsSaveMessage.length>0){jQuery(exportSettingsSaveMessage).remove();}
var warningMessage=jQuery('#warningMsgContainer');if(warningMessage.length>0){jQuery(warningMessage).remove();}
var warningMessageObj=jQuery('.warningMsgContainer');if(warningMessageObj.length>0){jQuery(warningMessageObj).remove();}
var errorMessage=jQuery('#errorMsgContainer');if(errorMessage.length>0){jQuery(errorMessage).remove();}
var genericError=jQuery('.alert');if(genericError.length>0){jQuery(genericError).remove();}},removeMsgContatiner:function(){if(MessageContainer.messageType){jQuery('#'+MessageContainer.messageType).remove();}},insertMsgContainer:function(){if(MessageContainer.msgContent){MessageContainer.removeMsgContatiner();var msgObj;var messageType=MessageContainer.messageType!=""?MessageContainer.messageType:MessageContainer.INFO_MSG;if(MessageContainer.messageType==MessageContainer.ERROR_MSG){msgObj=jQuery('<div id='+messageType+' class="alert alert-danger noSideMargin" role="alert" aria-live="assertive">'+'<div class="row flexDisplay flexAlignTop flexNoWrap">'+'<span class="icon" aria-hidden="true">!</span>'+'<div class="alertContent">'+MessageContainer.msgContent+'</div>');}else if(MessageContainer.messageType==MessageContainer.WARNING_MSG){msgObj=jQuery('<div id='+messageType+' class="alert alert-danger noSideMargin" role="alert" aria-live="assertive">'+'<div class="row flexDisplay flexAlignTop flexNoWrap">'+'<span class="icon" aria-hidden="true">!</span>'+'<div class="alertContent">'+MessageContainer.msgContent+'</div>');}else if(MessageContainer.messageType==MessageContainer.CONFIRM_MSG){msgObj=jQuery('<div id='+messageType+' class="alert alert-success noSideMargin" role="alert" aria-live="assertive">'+'<div class="row flexDisplay flexAlignTop flexNoWrap">'+'<span class="icon" aria-hidden="true">'+'<span class="ico-check"></span>'+'</span>'+'<div class="alertContent">'+MessageContainer.msgContent+'</div>');}else if(MessageContainer.messageType==MessageContainer.INFO_MSG){msgObj=jQuery('<div id='+messageType+' class="alert alert-info noSideMargin" role="alert" aria-live="assertive">'+'<div class="row flexDisplay flexAlignTop flexNoWrap">'+'<span class="icon" aria-hidden="true">i</span>'+'<div class="alertContent">'+MessageContainer.msgContent+'</div>');}
if(MessageContainer.isReplace){MessageContainer.parentContainerObj.html(msgObj);}else{var parentObj=MessageContainer.parentContainerObj.length>0?MessageContainer.parentContainerObj:jQuery(".contentContainer");parentObj.prepend(msgObj);}}}};var EmailValidation={emailAddressId:"emailId",parentContainerObj:jQuery(".contentContainer"),validate:function(msg){var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;var emailAddressObj=jQuery("#"+EmailValidation.emailAddressId);var emailValue=emailAddressObj.val();var noOfAt=(emailValue.match(/@/g)||[]).length;if(!assertNotEmptyString(emailValue)||noOfAt!==1||!mailformat.test(emailValue)){MessageContainer.removeMessages();MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=msg;MessageContainer.parentContainerObj=EmailValidation.parentContainerObj;MessageContainer.insertMsgContainer();return false;}else{return true;}},validateAddr:function(msg,emailAddr,fieldId){var emailId=$.trim(emailAddr);var noOfAt=(emailId.match(/@/g)||[]).length;var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(!assertNotEmptyString(emailId)||noOfAt!==1||!mailformat.test(emailId)){jQuery("#error-"+fieldId).html(msg).removeClass("hidden");return false;}else{return true;}},successMsg:function(msg){MessageContainer.removeMessages();var msgObj=jQuery("<div>",{'id':"confirmMsgContainer",'class':"alert alert-success noSideMargin",'html':'<a href="#" class="close" data-dismiss="alert" aria-label="close">×</a><div class="row flexDisplay flexAlignTop flexNoWrap"><span class="icon" aria-hidden="true"><span class="ico-check"></span></span><div class="alertContent">'+msg+'</div>','role':'alert','aria-live':'assertive'});EmailValidation.parentContainerObj.prepend(msgObj);}};var ScopusModalEmail={width:630,emailformURL:"",emailFormContent:"",cancelObj:"",submitObj:"",buildForm:function(linkElement,content){var dialogContainer=jQuery("<div>",{id:'dialogForm',"class":"dialogForm"});dialogContainer.append(content);linkElement.parent().append(dialogContainer);$("#dialogForm").dialog({autoOpen:false,dialogClass:'dialogContainer',width:this.width,modal:true,close:function(){}});},emailClick:function(event){event.preventDefault();$("#dialogForm").dialog("open");},getEmailForm:function(linkElement){jQuery.ajax({url:this.emailformURL,dataType:'html',error:function(){},success:function(data){ScopusEmail.buildForm(linkElement,data);}});},formSubmit:function(event){},init:function(linkElement){if(this.emailformURL!=""){this.getEmailForm(linkElement);}else if(this.emailFormContent!=""){ScopusEmail.buildForm(linkElement,this.emailFormContent);}
linkElement.on("click",ScopusEmail.emailClick);}};var ScopusDataTable={fnDrawCallback:function(datatableObj){}};var ScopusLoginShowHideOptional={buidConatiner:function(parentContainerID,bubbleID){var showOptDiv="<div id='showMoreLgnOpt' class='moreLgnOpts'><a title='"+alertProp.SETALERT_LOGIN_MORE_LOGIN_OPT()+"' href='#' id='MoreLgnOpt'>"+alertProp.SETALERT_LOGIN_MORE_LOGIN_OPT()+"</a><span class='shwColOpt'> &gt;</span></div>";var collapseOptDiv="<div id='collapseOpt' class='moreLgnOpts'><span class='shwColOpt'>&lt; </span><a title='"+alertProp.SETALERT_LOGIN_COLLAPSE_LOGIN_OPT()+"' href='#' id='collLgnOpt'>"+alertProp.SETALERT_LOGIN_COLLAPSE_LOGIN_OPT()+"</a></div>";if(jQuery('#contentWrapper').length){jQuery('#contentWrapper #login_pop_container_logform .CARS_groupTitle').append("<a title='"+alertProp.SETALERT_LOGIN_CLOSE_TOOLTIP()+"' class='closeloginPopup' role='button' href='#' id='closeloginPopup'></a>");}
else{jQuery('main #login_pop_container_logform .CARS_groupTitle').append("<a title='"+alertProp.SETALERT_LOGIN_CLOSE_TOOLTIP()+"' class='closeloginPopup' role='button' href='#' id='closeloginPopup'></a>");}
if(jQuery('#'+parentContainerID+' #showMoreLgnOpt').length){jQuery('#'+parentContainerID+' #showMoreLgnOpt').remove();}
jQuery('#'+parentContainerID+' #login_pop_container_logform #login_forgot_pass').after(showOptDiv);jQuery('#'+parentContainerID+' #MoreLgnOpt').live('click',function(e){jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_socialform').css({'display':'inline-block'});jQuery('#'+parentContainerID+' #showMoreLgnOpt').hide();if(jQuery('#'+parentContainerID+' #collapseOpt').length){jQuery('#'+parentContainerID+' #collapseOpt').remove();}
if(jQuery('#'+parentContainerID+' #social_providers').length){jQuery('#'+parentContainerID+' #login_pop_container_socialform #social_providers').after(collapseOptDiv);}
else{jQuery('#'+parentContainerID+' #login_pop_container_socialform #login_remote_access').after(collapseOptDiv);}
e.preventDefault();});jQuery('#'+parentContainerID+' #collLgnOpt').live('click',function(e){jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_socialform').css({'display':'none'});jQuery('#'+parentContainerID+' #showMoreLgnOpt').show();e.preventDefault();});}};var ScopusLoginShowHideOptionalLeft={buidConatinerLeft:function(parentContainerID,bubbleID){var setBubbleRightpos=165+22;jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').addClass('showBubbleLeft');jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').css({'margin-left':''});var showOptDiv="<div id='showMoreLgnOptLeft' class='moreLgnOptsLeft'><span class='shwColOpt'> &lt;</span> <a title='"+alertProp.SETALERT_LOGIN_MORE_LOGIN_OPT()+"' href='#' id='MoreLgnOptLeft'>"+alertProp.SETALERT_LOGIN_MORE_LOGIN_OPT()+"</a></div>";var collapseOptDiv="<div id='collapseOptLeft' class='moreLgnOptsLeft'><a title='"+alertProp.SETALERT_LOGIN_COLLAPSE_LOGIN_OPT()+"' href='#' id='collLgnOptLeft'>"+alertProp.SETALERT_LOGIN_COLLAPSE_LOGIN_OPT()+"</a> <span class='shwColOpt'>&gt; </span></div>";jQuery('#contentWrapper #login_pop_container_logform .CARS_groupTitle').append("<a title='"+alertProp.SETALERT_LOGIN_CLOSE_TOOLTIP()+"' class='closeloginPopup' role='button' href='#' id='closeloginPopup'></a>");if(jQuery('#'+parentContainerID+' #showMoreLgnOptLeft').length){jQuery('#'+parentContainerID+' #showMoreLgnOptLeft').remove();}
jQuery('#'+parentContainerID+' #login_pop_container_logform #login_forgot_pass').after(showOptDiv);jQuery('#'+parentContainerID+' #MoreLgnOptLeft').live('click',function(e){var popupLoginForm=jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_logform');var popupSocialForm=jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_socialform');popupSocialForm.remove();jQuery(popupLoginForm).before(popupSocialForm);popupSocialForm.css({'display':'inline-block'});jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').css({'margin-left':'-'+setBubbleRightpos+'px'});jQuery('#'+parentContainerID+' #showMoreLgnOptLeft').hide();if(jQuery('#'+parentContainerID+' #collapseOptLeft').length){jQuery('#'+parentContainerID+' #collapseOptLeft').remove();}
if(jQuery('#'+parentContainerID+' #social_providers').length){jQuery('#'+parentContainerID+' #login_pop_container_socialform  #social_providers').after(collapseOptDiv);}
else{jQuery('#'+parentContainerID+' #login_pop_container_socialform #login_remote_access').after(collapseOptDiv);}
e.preventDefault();});jQuery('#'+parentContainerID+' #collLgnOptLeft').live('click',function(e){jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_socialform').css({'display':'none'});jQuery('#'+parentContainerID+' #showMoreLgnOptLeft').show();jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').css({'margin-left':'0px'});e.preventDefault();});},removeBubbleMargin:function(parentContainerID){jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').css({'margin-left':''});}};var submitAlert={alertConfirmationMessage:'',alertIdentifier:'',alertType:'',alertFornName:'',checkforDuplicateNames:function(e,pageName){var d=new Date();var gmtOffset=-(d.getTimezoneOffset()/60);jQuery("form[name = "+submitAlert.alertFornName+"] input[name='gmtOffset']").val(gmtOffset);var name=jQuery('form[name = '+submitAlert.alertFornName+'] #name').val();var email=jQuery('form[name = '+submitAlert.alertFornName+'] #emailAddressTextarea').val();if(!name||!email){if(!name||name===''){jQuery('#name').focus();jQuery("#error-userName").removeClass("hidden");jQuery("#name").addClass("alert-danger-bottom");jQuery("#error-userName").css("margin-bottom","-10px");}
if(!email||email===""){if(jQuery(e.target).closest(".dropdownGroup").length){jQuery(e.target).closest(".dropdownGroup").find("#error-userEmailId").removeClass("hidden");}else{jQuery("#error-userEmailId").removeClass("hidden");}
jQuery("#emailAddressTextarea").addClass("alert-danger-bottom");}
hideLoading();return false;}
else{var match=/;|,|\r|\n/.exec(email);if(match){var multipleEmail=email.split(match[0]);jQuery.each(multipleEmail,function(index,item){var emailValidationCheck=EmailValidation.validateAddr("please enter valid email",item);if(emailValidationCheck===false){jQuery("#error-invalidEmail").removeClass("hidden");return false;}});}else{var emailValidationCheck=EmailValidation.validateAddr("please enter valid email",email);if(emailValidationCheck===false){jQuery("#error-invalidEmail").removeClass("hidden");return false;}}
if(jQuery('input:hidden[name=duplicateAlertName]').length){var previousName=jQuery('input:hidden[name=duplicateAlertName]').val();var currentName=jQuery('#name').val();if(currentName===previousName){jQuery("input:hidden[name=replaceDuplicateTitle]").val("true");}}
submitAlert.handlePopupSubmit(e,pageName);}},handlePopupSubmit:function(event,pageName){showLoading();var alertFormObject=jQuery("#alertPopoutForm");var alertSubmitUrl=alertFormObject.attr("action");var serializedFormContent=alertFormObject.serialize();var alertResponse=jQuery.post(alertSubmitUrl,serializedFormContent);jQuery('input[name="alertSubmitButton"]').attr("disabled","disabled");alertResponse.done(function(response){var alertPopupJson=response;if(alertPopupJson.hasOwnProperty("confirmationMessage")){jQuery(event.target).closest('.dropdownGroup').removeClass("open");MessageContainer.messageType=MessageContainer.CONFIRM_MSG;MessageContainer.msgContent=submitAlert.alertConfirmationMessage;MessageContainer.parentContainerObj=jQuery("#clusterMessages");MessageContainer.insertMsgContainer();if(jQuery('.itemListsUL.selectedBg').length){submitAlert.showHideListLnkBgOnClose();submitAlert.showHideListLnkBg();}
if(typeof pageName!='undefined'&&pageName==='jMetrics'){var confObj=jQuery('#confirmMsgContainer');confObj.append("<a title='close' aria-label='close' data-dismiss='alert' class='iconSmall close' href='#'><span class='hidden-label'>Close</span>&nbsp;</a>");confObj.addClass('alert');}
if(alertPopupJson.hasOwnProperty("failedPartialProfiles")){MessageContainer.msgContent=alertProp.alerts.message.partial.profile.failed(alertPopupJson.failedPartialProfiles);MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.parentContainerObj=jQuery("#clusterMessages");MessageContainer.insertMsgContainer();}
if(alertPopupJson.hasOwnProperty("subScriptionEmailsEmpty")){MessageContainer.msgContent=alertProp.alert.error.edit.no.emails();MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.parentContainerObj=jQuery("#clusterMessages");MessageContainer.insertMsgContainer();}}else if(alertPopupJson.hasOwnProperty("errorMessage")){if(!jQuery("#error-invalidEmail").hasClass("hidden")){jQuery("#error-invalidEmail").addClass("hidden");}
MessageContainer.messageType=MessageContainer.ERROR_MSG;if(alertPopupJson.hasOwnProperty("errorCode")&&alertPopupJson.errorCode==="alert.error.popup.duplicate.exists"){jQuery(".alertPopupErrMsg").append("<input type='hidden' name='duplicateAlertName' value='"+alertPopupJson.errorMessage+"' />");MessageContainer.msgContent=alertProp.alert.error.popup.duplicate.exists();}else{MessageContainer.msgContent=alertPopupJson.errorMessage;}
MessageContainer.parentContainerObj=jQuery(".alertPopupErrMsg");MessageContainer.insertMsgContainer();jQuery(".alertPopupErrMsg #errorMsgContainer").attr('class','alert alert-warning noMarginLeft noMarginRight noMarginTop marginBottom1 row');jQuery('.errorCntTxt').addClass("noPaddingLeft col-md-10");}else{jQuery('#setAlertContent').html(alertPopupJson);setinitialValuesonTextArea();}
jQuery('input[name="alertSubmitButton"]').removeAttr('disabled');hideLoading();});return false;},showHideListLnkBg:function(){if(jQuery('.itemListsUL li[data-hover="false"]').hasClass('lstRowHover')){jQuery('.itemListsUL li[data-hover="false"]').removeClass('lstRowHover');jQuery('.itemListsUL li[data-hover="false"] div.listItemLinkRow').removeAttr('style');}},showHideListLnkBgOnClose:function(){if((jQuery('.itemListsUL li[data-hover="true"]').hasClass('lstRowHover'))||(jQuery('.itemListsUL li[data-hover="true"]').hasClass('lstRowHover')&&jQuery('.itemListsUL li[data-hover="true"] div.linkRow').css('visibility')==='visible')){jQuery('.itemListsUL li[data-hover="true"]').removeClass('listItemHover lstRowHover');jQuery('.itemListsUL li[data-hover="true"] div.listItemLinkRow').removeAttr('style');}},showLoadingoverlay:function(){var param={"loadingText1":alertProp.alert.setup.loading.text(),"loadingText2":alertProp.alert.setup.loading.text(),"loadDivContainer":"outerWrapper"};scopusTab.showHideLoadingContainer(param);var topPos=jQuery(window).height()/2;var leftPos=jQuery(window).width()/2;jQuery('.loadingTableAndChart').show().css({'top':topPos,'left':leftPos});},setEllipsisQuery:function(){var queryCntHeight=jQuery(".queryCnt").height();var queryCntFontHeight=jQuery(".queryCnt").css("font-size");var queryCntTotalHeight=Math.ceil(queryCntHeight/parseInt(queryCntFontHeight));if(queryCntTotalHeight>4){jQuery(".queryCnt").addClass('lineClamp lineClampLineNumb');}}};jQuery.fn.outerHTML=function(s){if(this.length===0)return false;var elem=this[0],name=elem.tagName.toLowerCase();if(elem.outerHTML)return elem.outerHTML;var attrs=jQuery.map(elem.attributes,function(i){return i.name+'="'+i.value+'"';});return"<"+name+(attrs.length>0?" "+attrs.join(" "):"")+">"+elem.innerHTML+"</"+name+">";};var alertsCommon=(function(){this.getTargetID='';this.type='';this.alertURL='';this.isAsync=false;this.alertBubbleIdentifierID='';this.alertFornName='';this.alertType='';this.editAlertURL='';this.confirmMessage='';function buildAlertPopup(e,typeOfAlert){if(jQuery(e.target).closest("div.dropdownGroup").hasClass("open")){return;}
showLoading();MessageContainer.removeMsgContatiner();this.getTargetID=e.currentTarget.id;this.type=typeOfAlert;alertsCommon.getAlertURL(e);e.preventDefault();}
function getAlertURL(e){var self=this;var selectedRowID='';switch(this.type){case'searchHistory':removeRemaining();selectedRowID=jQuery('#'+this.getTargetID).attr('data-rowid');this.alertBubbleIdentifierID="saveAsAlert"+selectedRowID;this.alertFornName="SearchAlertValidatedForm";this.alertType="searchAlert";this.alertURL="/search/history/alert.uri?shid="+selectedRowID
+"&isAlertPopOut=true";this.editAlertURL="/search/history/alert.uri?shid="+selectedRowID+"&editAlert=true";this.confirmMessage=alertProp.alert.message.results.newalert();break;case'authDocTab':case'authFollow':removeRemaining();this.alertFornName="SearchAlertValidatedForm";this.alertType="searchAlert";if(this.type==='authFollow'){this.alertBubbleIdentifierID='saveAsSearchAlertAuthorFollow';}else{this.alertBubbleIdentifierID='saveAsSearchAlertAuthorDoc';}
var resultsFormObject=jQuery("#authorProfileForm");jQuery("input:hidden[name='clickedLink']").val("AlertButton");var resultsHandlerUrl=resultsFormObject.attr("action");var serializedFormContent=resultsFormObject.serialize();this.isAsync=true;this.confirmMessage=alertProp.alert.message.results.newalert();var retrievalResponse=jQuery.post(resultsHandlerUrl,serializedFormContent);retrievalResponse.done(function(response){jQuery("input:hidden[name=clickedLink]").val("");self.popupInit(self.getTargetID,response,e);});break;case'affilFollow':this.alertFornName="SearchAlertValidatedForm";this.alertType="searchAlert";this.alertBubbleIdentifierID='setAlert';var resultsFormObject=jQuery("#affillform");jQuery("#affillform input:hidden[name='clickedLink']").val("AlertButton");var serializedFormContent=resultsFormObject.serialize();var resultsHandlerUrl=resultsFormObject.attr("action");this.isAsync=true;this.confirmMessage=alertProp.alert.message.results.newalert();var retrievalResponse=jQuery.post(resultsHandlerUrl,serializedFormContent);retrievalResponse.done(function(response){jQuery("input:hidden[name=clickedLink]").val("");self.popupInit(self.getTargetID,response,e);});break;case'savedSearches':removeRemaining();selectedRowID=jQuery('#'+this.getTargetID).attr('data-rowid');this.alertBubbleIdentifierID="saveAsAlert"+selectedRowID;this.alertFornName="SearchAlertValidatedForm";this.alertType="searchAlert";this.alertURL="/search/save/action.uri?activity=alertAction&userSearchID="+selectedRowID;this.editAlertURL="/search/save/action.uri?activity=alertAction&userSearchID="+selectedRowID+"&editAlert=true";this.confirmMessage=alertProp.alert.message.results.newalert();break;case'sourceDetails':var issnValue=jMetrics.jInfoJSON['issn'].replace("-","");var sourceName=jMetrics.jInfoJSON.sourceTitle;this.alertFornName="SearchAlertValidatedForm";this.alertType="searchAlert";this.alertBubbleIdentifierID="saveAsAlertSource";this.alertURL="/alert/source.uri?issn="+issnValue+"&sourceName="+sourceName+"&clickedLink=saveSearchAlertLink&isAlertPopOut=true";this.editAlertURL="/alert/source.uri?issn="+issnValue+"&sourceName="+sourceName+"&clickedLink=saveSearchAlertLink&editAlert=true";this.confirmMessage=alertProp.alert.message.results.newalert();break;case'docResults':var resultsFormObject=jQuery("#searchResFormId");jQuery("input:hidden[name=clustering]").val("");jQuery("input:hidden[name=alertPopUp]").val("true");jQuery("input:hidden[name=clickedLink]").val("saveSearchAlertButton");this.alertBubbleIdentifierID='setAlert';this.alertType='searchAlert';this.alertFornName='SearchAlertValidatedForm';this.confirmMessage=alertProp.alert.message.results.newalert();var locationURL=window.location.origin;if(typeof locationURL=='undefined'){locationURL=window.location.protocol+"//"
+window.location.hostname
+(window.location.port?':'+window.location.port:'');}
var resultsHandlerUrl=locationURL+""+resultsFormObject.attr("action");var serializedFormContent=resultsFormObject.serialize();var retrievalResponse=jQuery.post(resultsHandlerUrl,serializedFormContent);this.isAsync=true;retrievalResponse.done(function(response){if(jQuery('#setAlert').parent().hasClass('CARS_panelClass')){jQuery('#setAlert').parent().removeClass('CARS_panelClass');}
var alertPopupJson=response;if(alertPopupJson.hasOwnProperty("alertUrl")){var urlPath="";var urlProto=window.location.href.split("//");if(urlProto[0]==='http:'){urlPath=alertPopupJson.alertUrl.replace("https://","http://");}else if(urlProto[0]==='https:'){urlPath=alertPopupJson.alertUrl.replace("http://","https://");}else{urlPath=alertPopupJson.alertUrl;}
self.alertURL=urlPath;self.retrieveAlertPopup(e);jQuery("input:hidden[name=clickedLink]").val("");jQuery("input:hidden[name=alertPopUp]").val("false");}});e.preventDefault();break;case'docCite':this.alertURL=jQuery('input[name="setCitationAlertUrl"]').val();this.isAsync=false;this.confirmMessage=alertProp.alert.message.record.newalert();this.alertFornName="DocumentAlertValidatedForm";this.alertBubbleIdentifierID='saveAsAlert';this.alertType='documentCitationAlert';break;case'authCit':removeRemaining();var citedAuthor=jQuery('input[name=citedAuthorsVal]').val();this.isAsync=false;var groupedAuthors=jQuery('input[name=citedAuthorsGroupedVal]').val();this.alertURL="/alert/create/author/authordetails.uri?grouped=false&author="+citedAuthor+"&groupedAuthors="+groupedAuthors;this.alertFornName="AuthorAlertValidatedForm";this.alertBubbleIdentifierID=self.getTargetID;this.confirmMessage=alertProp.alert.message.author.newalert();break;case'authResultsCit':removeRemaining();this.isAsync=false;this.alertURL="/alert/create/author/authorcitedbyresults.uri";this.alertFornName="AuthorAlertValidatedForm";this.alertBubbleIdentifierID=self.getTargetID;this.confirmMessage=alertProp.alert.message.author.newalert();break;default:}
if(!this.isAsync){this.retrieveAlertPopup(e);}}
function retrieveAlertPopup(e){var self=this;jQuery.ajax({type:"GET",url:this.alertURL,dataType:"html",success:function(data){var id=self.getTargetID;self.popupInit(id,data,e);}});}
function popupInit(id,data,e){this.buildAlertPopupData(id,data);setinitialValuesonTextArea();e.preventDefault();setFrequency('');jQuery("#dayOfUnit").selectmenu("refresh");jQuery('#frequency').bind('change',function(){setFrequency('change');});hideLoading();setTimeout(function(){jQuery(".alertHeaderTextFocus").focus();},1000);}
function buildAlertPopupData(id,data){jQuery("#"+id).next().find(".dropdownContentWrap").html('');jQuery("#"+id).next().find(".dropdownContentWrap").append(data);jQuery("#emailAddressTextarea").on("change",function(){if(jQuery("#emailAddressTextarea").val()===''){jQuery("#emailAddressTextarea").text('');}else{jQuery("#emailAddressTextarea").removeClass("alert-danger-bottom");}});jQuery("#name").on("keyup",function(){if(jQuery("#name").val()!==''){jQuery("#name").removeClass("alert-danger-bottom");}});jQuery("body").on('keydown','#alertPopoutForm .closeDropDown',function(e){if((e.keyCode||e.which)===9&&(!e.shiftKey)){if(jQuery("#alertPopoutForm #editSearchAlert").length){jQuery("#alertPopoutForm #editSearchAlert").focus();}else{jQuery("#alertPopoutForm #name").focus();}
e.preventDefault();}});jQuery("#alertPopoutForm #editSearchAlert").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery(this).closest(".dropdownContentWrap").find(".closeDropDown").focus();event.preventDefault();}});if(!jQuery("#alertPopoutForm #editSearchAlert").length){jQuery("#alertPopoutForm #name").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery(this).closest(".dropdownContentWrap").find(".closeDropDown").focus();event.preventDefault();}});}
jQuery("#frequency").selectmenu({icons:{button:'btn-primary btn-icon ico-navigate-down flexDisplay flexAlignCenter flexJustifyCenter'},classes:{'ui-selectmenu-button':'smallSelect','ui-selectmenu-menu':'smallSelect'},width:150,change:function(event){event.stopPropagation();setFrequency('change');var toDestroy='';var toCreate='';var destroyBoth=false;if(jQuery("#dayOfUnitContainer #alertfrequencymonth").css("display")==="none"&&jQuery("#dayOfUnitContainer #alertfrequency").css("display")==="none"){destroyBoth=true;handleDropdown(destroyBoth,toDestroy,toCreate);return;}
if(jQuery("#dayOfUnitContainer #alertfrequencymonth").css("display")==="none"){toDestroy='alertfrequencymonth';}else{toCreate='alertfrequencymonth';}
if(jQuery("#dayOfUnitContainer #alertfrequency").css("display")==="none"){toDestroy='alertfrequency';}else{toCreate='alertfrequency';}
handleDropdown(destroyBoth,toDestroy,toCreate);}});jQuery("#dayOfUnit").selectmenu({icons:{button:'btn-primary btn-icon ico-navigate-down flexDisplay flexAlignCenter flexJustifyCenter'},classes:{'ui-selectmenu-button':'smallSelect','ui-selectmenu-menu':'smallSelect'},width:150,change:function(event){event.stopPropagation();}});if(this.type==='searchHistory'||this.type==='savedSearches'||this.type==='docResults'){buildViewallAndViewLessLinks.formatQuery("alertQueryContainer");buildViewallAndViewLessLinks.buildLinks("alertQueryContainer","view full query","view less query");}}
function submitAlertPopout(e){submitAlert.alertConfirmationMessage=this.confirmMessage;submitAlert.alertIdentifier=this.alertBubbleIdentifierID;submitAlert.alertType=this.alertType;submitAlert.alertFornName=this.alertFornName;submitAlert.checkforDuplicateNames(e);}
function editAlertClick(){switch(this.type){case"searchHistory":case"savedSearches":case"sourceDetails":window.location.href=this.editAlertURL;break;case"authDocTab":case"authFollow":jQuery("#authorProfileForm input:hidden[name='clickedLink']").val("EditAlertButton");jQuery("#authorProfileForm").submit();break;case"affilFollow":jQuery("#affillform input:hidden[name='clickedLink']").val("EditAlertButton");jQuery("#affillform").submit();break;default:if(jQuery("#searchResFormId").length){processLinkClick("editSearchAlertButton");}}}
function removeRemaining(){jQuery.each(jQuery(".saveAsAlert"),function(index,elem){jQuery(elem).closest(".dropdownGroup").find(".dropdownContentWrap").html('');});}
return{buildAlertPopup:buildAlertPopup,getAlertURL:getAlertURL,submitAlertPopout:submitAlertPopout,retrieveAlertPopup:retrieveAlertPopup,editAlertClick:editAlertClick,popupInit:popupInit,buildAlertPopupData:buildAlertPopupData};})();